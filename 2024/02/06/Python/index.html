<!DOCTYPE html>
<html lang="zh_CN">
    <!-- title -->


    

<!-- keywords -->



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="王盛">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="王盛">
    
        <meta name="keywords" content="容器,云计算,云原生">
    
    <meta name="description" content="">
    <meta name="description" content="如果出现无法载图的情况，请检查与github的连通性 Anaconda开发环境介绍与搭建Anaconda是一个软件集合，自带了很多的模块的二进制文件（可以直接本地构建模块），并提供了conda和pip两个包管理工具。能够提供python解释器、模块与虚拟环境的管理 模块 —— 实现具体功能的工具包比如想实现下载、上传功能，存储功能，可以寻找现成的网络的、数据库的模块可以来调用(1)标准模块——py">
<meta property="og:type" content="article">
<meta property="og:title" content="Python学习笔记">
<meta property="og:url" content="https://akemi.zj.cn/2024/02/06/Python/index.html">
<meta property="og:site_name" content="Akemi">
<meta property="og:description" content="如果出现无法载图的情况，请检查与github的连通性 Anaconda开发环境介绍与搭建Anaconda是一个软件集合，自带了很多的模块的二进制文件（可以直接本地构建模块），并提供了conda和pip两个包管理工具。能够提供python解释器、模块与虚拟环境的管理 模块 —— 实现具体功能的工具包比如想实现下载、上传功能，存储功能，可以寻找现成的网络的、数据库的模块可以来调用(1)标准模块——py">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135205.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135356.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135451.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135504.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135520.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135528.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501151625.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501151826.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501151856.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501152030.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501152110.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501152132.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517183828.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184236.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184254.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184557.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184640.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184657.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240523012049.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240525161637.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240529003313.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213111.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213144.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213317.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213354.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213407.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213436.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213519.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213544.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213632.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240607164113.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240607164135.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240607164207.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621215149.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621215240.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621215643.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621215935.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621220002.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621220020.png">
<meta property="og:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621220106.png">
<meta property="article:published_time" content="2024-02-06T05:50:54.000Z">
<meta property="article:modified_time" content="2025-02-20T10:37:27.577Z">
<meta property="article:author" content="王盛">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135205.png">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="/assets/akemi.ico">
    
    <title>Python学习笔记 · Akemi</title>
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
    (function (w) {
        'use strict'
        // rel=preload support test
        if (!w.loadCSS) {
            w.loadCSS = function () {}
        }
        // define on the loadCSS obj
        var rp = (loadCSS.relpreload = {})
        // rel=preload feature support test
        // runs once and returns a function for compat purposes
        rp.support = (function () {
            var ret
            try {
                ret = w.document.createElement('link').relList.supports('preload')
            } catch (e) {
                ret = false
            }
            return function () {
                return ret
            }
        })()

        // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
        // then change that media back to its intended value on load
        rp.bindMediaToggle = function (link) {
            // remember existing media attr for ultimate state, or default to 'all'
            var finalMedia = link.media || 'all'

            function enableStylesheet() {
                link.media = finalMedia
            }

            // bind load handlers to enable media
            if (link.addEventListener) {
                link.addEventListener('load', enableStylesheet)
            } else if (link.attachEvent) {
                link.attachEvent('onload', enableStylesheet)
            }

            // Set rel and non-applicable media type to start an async request
            // note: timeout allows this to happen async to let rendering continue in IE
            setTimeout(function () {
                link.rel = 'stylesheet'
                link.media = 'only x'
            })
            // also enable media after 3 seconds,
            // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
            setTimeout(enableStylesheet, 3000)
        }

        // loop through link elements in DOM
        rp.poly = function () {
            // double check this to prevent external calls from running
            if (rp.support()) {
                return
            }
            var links = w.document.getElementsByTagName('link')
            for (var i = 0; i < links.length; i++) {
                var link = links[i]
                // qualify links to those with rel=preload and as=style attrs
                if (
                    link.rel === 'preload' &&
                    link.getAttribute('as') === 'style' &&
                    !link.getAttribute('data-loadcss')
                ) {
                    // prevent rerunning on link
                    link.setAttribute('data-loadcss', true)
                    // bind listeners to toggle media back
                    rp.bindMediaToggle(link)
                }
            }
        }

        // if unsupported, run the polyfill
        if (!rp.support()) {
            // run once at least
            rp.poly()

            // rerun poly on an interval until onload
            var run = w.setInterval(rp.poly, 500)
            if (w.addEventListener) {
                w.addEventListener('load', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            } else if (w.attachEvent) {
                w.attachEvent('onload', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            }
        }

        // commonjs
        if (typeof exports !== 'undefined') {
            exports.loadCSS = loadCSS
        } else {
            w.loadCSS = loadCSS
        }
    })(typeof global !== 'undefined' ? global : this)
</script>

    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>

    <link rel="preload" href="/css/style.css?v=20211217" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/css/dark.css?v=20211217" as="style">
    <link rel="stylesheet" href="/css/dark.css">
    <link rel="stylesheet" href="/css/mobile.css?v=20211217" media="(max-width: 960px)">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">
    <link rel="preload" href="/scripts/main.js?v=20211217" as="script">
    <link rel="preload" href="/scripts/dark.js?v=20211217" as="script">
    <link rel="preload" href="/font/Oswald-Regular.ttf" as="font" crossorigin>
    <link rel="preload" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" as="font" crossorigin>
    <!-- algolia -->
    
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
<meta name="generator" content="Hexo 7.2.0"></head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ == undefined) {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js" />')
        }
    </script>
    
        <body class="post-body">
    
        <!-- header -->
        <header class="header header-mobile">
    <!-- top read progress line -->
    <div class="header-element">
        <div class="read-progress"></div>
    </div>
    <!-- sidebar menu button -->
    <div class="header-element">
        
            <div class="header-sidebar-menu">
        
            
                <div style="padding-left: 1px;">&#xe775;</div>
            
        </div>
    </div>
    <!-- header actions -->
    <div class="header-actions">
        <!-- theme mode switch button -->
        <span class="header-theme-btn header-element">
            <i class="fas fa-adjust"></i>
        </span>
        <!-- back to home page text -->
        <span class="home-link header-element">
            <a href=/>Akemi</a>
        </span>
    </div>
    <!-- toggle banner for post layout -->
    
        
            <div class="banner banner-clean">
        
            <div class="blog-title header-element">
                <a href="/">Akemi</a>
            </div>
            <div class="post-title header-element">
                <a href="#" class="post-name">Python学习笔记</a>
            </div>
        </div>
    
</header>

        <!-- fixed footer -->
        <footer class="footer-fixed">
    <!-- back to top button -->
    <div class="footer-fixed-element">
        
            <div class="back-top back-top-hidden">
        
        
            <div>&#xe639;</div>
        
        </div>
    </div>
</footer>

        <!-- wrapper -->
        <div class="wrapper">
            <div class="site-intro" style="







    height:50vh;

">
    
    <!-- 主页  -->
    
        
    <!-- 404页  -->
    
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
                Python学习笔记
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
                
            <!-- 404 -->
            
        </p>
        <!-- 文章页 meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
    
</div>

                
                <!-- 文章字数统计 -->
                
                <div class="post-intro-meta">
                    <!-- 撰写日期 -->
                    <span class="iconfont-archer post-intro-calander">&#xe676;</span>
                    <span class="post-intro-time">2024/02/06</span>
                    <!-- busuanzi -->
                    
                        <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                            <span class="iconfont-archer post-intro-busuanzi">&#xe602;</span>
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    
                    <!-- 文章分享 -->
                    <span class="share-wrapper">
                        <span class="iconfont-archer share-icon">&#xe71d;</span>
                        <span class="share-text">Share</span>
                        <ul class="share-list">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>

            <script>
  // get user agent
  function getBrowserVersions() {
    var u = window.navigator.userAgent
    return {
      userAgent: u,
      trident: u.indexOf('Trident') > -1, //IE内核
      presto: u.indexOf('Presto') > -1, //opera内核
      webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
      ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
      android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
      iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
      iPad: u.indexOf('iPad') > -1, //是否为iPad
      webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
      weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
      uc: u.indexOf('UCBrowser') > -1, //是否为android下的UC浏览器
    }
  }
  var browser = {
    versions: getBrowserVersions(),
  }
  console.log('userAgent: ' + browser.versions.userAgent)

  // callback
  function fontLoaded() {
    console.log('font loaded')
    if (document.getElementsByClassName('site-intro-meta')) {
      document
        .getElementsByClassName('intro-title')[0]
        .classList.add('intro-fade-in')
      document
        .getElementsByClassName('intro-subtitle')[0]
        .classList.add('intro-fade-in')
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in')
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb() {
    if (browser.versions.uc) {
      console.log('UCBrowser')
      fontLoaded()
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular'],
        },
        loading: function () {
          // 所有字体开始加载
          // console.log('font loading');
        },
        active: function () {
          // 所有字体已渲染
          fontLoaded()
        },
        inactive: function () {
          // 字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout')
          fontLoaded()
        },
        timeout: 5000, // Set the timeout to two seconds
      })
    }
  }

  function asyncErr() {
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0]
    o.src = u
    if (cb) {
      o.addEventListener(
        'load',
        function (e) {
          cb(null, e)
        },
        false
      )
    }
    if (err) {
      o.addEventListener(
        'error',
        function (e) {
          err(null, e)
        },
        false
      )
    }
    s.parentNode.insertBefore(o, s)
  }

  var asyncLoadWithFallBack = function (arr, success, reject) {
    var currReject = function () {
      reject()
      arr.shift()
      if (arr.length) async(arr[0], success, currReject)
    }

    async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack(
    [
      'https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js',
      'https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js',
      "/lib/webfontloader.min.js",
    ],
    asyncCb,
    asyncErr
  )
</script>

            <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
            <div class="container container-unloaded">
                <main class="main post-page">
    <article class="article-entry">
        <p><strong>如果出现无法载图的情况，请检查与github的连通性</strong></p>
<h1 id="Anaconda开发环境介绍与搭建"><a href="#Anaconda开发环境介绍与搭建" class="headerlink" title="Anaconda开发环境介绍与搭建"></a>Anaconda开发环境介绍与搭建</h1><p>Anaconda是一个软件集合，自带了很多的模块的二进制文件（可以直接本地构建模块），并提供了conda和pip两个包管理工具。能够提供python解释器、模块与虚拟环境的管理</p>
<h2 id="模块-——-实现具体功能的工具包"><a href="#模块-——-实现具体功能的工具包" class="headerlink" title="模块 —— 实现具体功能的工具包"></a>模块 —— 实现具体功能的工具包</h2><p>比如想实现下载、上传功能，存储功能，可以寻找现成的网络的、数据库的模块可以来调用<br>(1)标准模块——python的开发者编写的模块<br>(2)第三方模块</p>
<h2 id="虚拟环境-——-给开发环境做用途上的区分"><a href="#虚拟环境-——-给开发环境做用途上的区分" class="headerlink" title="虚拟环境 —— 给开发环境做用途上的区分"></a>虚拟环境 —— 给开发环境做用途上的区分</h2><p>通过划分多个开发环境，为不同的环境设置不同版本的解释器和模块，比如区分python2与3的环境<br>比如做web开发、爬虫开发、图形化开发、科学计算和数据分析、机器学习与深度学习<br><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135205.png" alt="图片"></p>
<h2 id="pip和conda包管理工具的对比："><a href="#pip和conda包管理工具的对比：" class="headerlink" title="pip和conda包管理工具的对比："></a>pip和conda包管理工具的对比：</h2><p>(1)软件仓库的区别<br>conda使用anacconda.org软件仓库<br>pip使用pypi，python官网的软件仓库，模块数量多</p>
<p>(2)模块内容<br>conda都是二进制，可以直接读取<br>pip源码和二进制都有，源码需要编译会比较慢</p>
<p>(3)支持的语言<br>conda支持多语言<br>pip只支持python</p>
<p>(4)多环境<br>conda支持多环境<br>pip不支持</p>
<p>(5)依赖的检查<br>conda严格检查依赖项——类似于yum的区别<br>pip不严格检查</p>
<h2 id="anaconda的conda与pip命令"><a href="#anaconda的conda与pip命令" class="headerlink" title="anaconda的conda与pip命令"></a>anaconda的conda与pip命令</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、一般操作</span><br><span class="line">conda -version <span class="comment">#查看anaconda版本</span></span><br><span class="line">conda update conda <span class="comment">#升级conda版本</span></span><br><span class="line">conda update pip <span class="comment">#升级pip版本</span></span><br><span class="line">conda update anaconda <span class="comment">#升级anaconda版本与所有软件包</span></span><br><span class="line">conda env <span class="built_in">list</span> <span class="comment">#查看所有虚拟环境</span></span><br><span class="line"></span><br><span class="line">在linux和macos中</span><br><span class="line">source activate xx <span class="comment">#进入xx环境</span></span><br><span class="line">source deactivate <span class="comment">#退出</span></span><br><span class="line">在windows中</span><br><span class="line">activate xx</span><br><span class="line">deactivate</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、创建虚拟环境</span><br><span class="line">conda create --name/-n 新环境名 <span class="comment">#创建新环境</span></span><br><span class="line">conda create -n 新环境名 -c 老环境名 <span class="comment">#克隆出一个新环境</span></span><br><span class="line">conda remove -n 环境名 --<span class="built_in">all</span> <span class="comment">#完整删除</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、操作模块</span><br><span class="line">conda/pip install -n 环境名 模块<span class="number">1</span>,模块<span class="number">2</span>,模块<span class="number">3</span> <span class="comment">#在环境中安装模块</span></span><br><span class="line">(base)conda install 模块<span class="number">1</span>,模块<span class="number">2</span>,模块<span class="number">3</span> <span class="comment">#在当前环境安装</span></span><br><span class="line">conda <span class="built_in">list</span> -n 环境名 <span class="comment">#查看所有模块</span></span><br><span class="line">conda uninstall 模块名 <span class="comment">#只能删除conda安装的模块，pip安装的就用pip删除</span></span><br><span class="line">conda install -n 环境名 python=<span class="number">3.7</span> <span class="comment">#安装python，默认安装latest版本</span></span><br><span class="line">conda create -n demo python=<span class="number">3.7</span> requests <span class="comment">#在创建环境的同时安装pyhton解释器和requests模块</span></span><br></pre></td></tr></table></figure>

<h2 id="windows安装anaconda与pycharm"><a href="#windows安装anaconda与pycharm" class="headerlink" title="windows安装anaconda与pycharm"></a>windows安装anaconda与pycharm</h2><p>在清华大学开源镜像站-anaconda-miniconda找到安装包进行下载最新版本<br><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135356.png" alt="图片"></p>
<p>安装过程中选择添加到环境变量，以及作为默认解释器，反正全勾上了<br>安装完成后，打开cmd，使用conda -V查看不到信息，通过开始菜单的按钮打开cli界面可以用<br>创建一个名为demo的虚拟环境<br>conda create -n demo python&#x3D;3.7<br><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135451.png" alt="图片"></p>
<p>直接默认安装pycharm<br>安装完成后，将虚拟环境导入到pycharm去进行编辑<br><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135504.png" alt="图片"><br><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135520.png" alt="图片"></p>
<p>创建新项目，选择conda环境——demo环境——选择创建<br><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240206135528.png" alt="图片"></p>
<h1 id="标识符与数据类型"><a href="#标识符与数据类型" class="headerlink" title="标识符与数据类型"></a>标识符与数据类型</h1><h2 id="python程序的构成"><a href="#python程序的构成" class="headerlink" title="python程序的构成"></a>python程序的构成</h2><p>Python程序是由模块组成的。每个模块都对应一个py源文件</p>
<p>Python是一种强制使用缩进的语言，1个tab制表符或4个空格代表一个缩进</p>
<p>书写中可以使用行连接符\</p>
<p>Python官网建议使用PEP-8代码风格<a target="_blank" rel="noopener" href="https://www.python.org/dev/peps/pep-0008/">https://www.python.org/dev/peps/pep-0008/</a></p>
<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><p>注释方法：<br>(1)井号<br>(2)连续的引号<br>“”” “””<br>‘’’ ‘’’</p>
<p>解释器位置特殊注释：<br>#!&#x2F;usr&#x2F;bin&#x2F;python3<br>#coding:utf-8 指定编码格式<br>#-<em>-coding:utf8-</em>-</p>
<h2 id="标识符定义规则"><a href="#标识符定义规则" class="headerlink" title="标识符定义规则"></a>标识符定义规则</h2><p><strong>标识符规则：用于变量、函数、类、模块等的名称</strong><br>由数字、字母、下划线组成<br>不能由数字开头<br>严格区分大小写<br>不能用系统内置关键字</p>
<p>驼峰命名法：<br>从第二个单词开始首字母大写</p>
<h2 id="Python标识符命名规则"><a href="#Python标识符命名规则" class="headerlink" title="Python标识符命名规则"></a>Python标识符命名规则</h2><p>开发中，我们通常约定俗称遵守如下规则<br><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501151625.png"></p>
<h3 id="关键字和内置函数"><a href="#关键字和内置函数" class="headerlink" title="关键字和内置函数"></a>关键字和内置函数</h3><p>都是python开发者定义封装好嗷的，具有特殊意义<br>关键字会使用特殊颜色标注（编辑器会特别标注出来，如def，if，for，and，都是来完成特定操作的）</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><p>赋值：<br>变量名 &#x3D; 表达式</p>
<p>其本质为：<br>a&#x3D;3 会生成对象，并且把这个对象的地址给a</p>
<h2 id="变量删除与垃圾回收机制"><a href="#变量删除与垃圾回收机制" class="headerlink" title="变量删除与垃圾回收机制"></a>变量删除与垃圾回收机制</h2><p>通过del可以删除变量，del a 代表将栈内存中的a删除<br>与此同时堆内存中的相应对象也会被垃圾回收</p>
<h3 id="链式赋值"><a href="#链式赋值" class="headerlink" title="链式赋值"></a>链式赋值</h3><p>用于同一个对象赋予多个变量</p>
<p>x&#x3D;y&#x3D;500</p>
<h3 id="解包赋值"><a href="#解包赋值" class="headerlink" title="解包赋值"></a>解包赋值</h3><p>a,b,c &#x3D; 10,20,30</p>
<p>a,b &#x3D; b,a #互换</p>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><p>Python是动态类型的语言，不需要显示声明类型。<br>变量是没有类型的，都是引用的对象。<br>对象有类型</p>
<p>整形int<br>浮点形float<br>布尔形<br>字符串<br>列表<br>元组<br>字典<br>集合</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#整数可以使用下划线作为分隔符</span></span><br><span class="line"><span class="string">var=100_0000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#浮点型可以使用科学计数法</span></span><br><span class="line"><span class="string">var=1.5e5</span> <span class="comment">#表示1.5×10^5</span></span><br></pre></td></tr></table></figure>

<h3 id="整型int"><a href="#整型int" class="headerlink" title="整型int"></a>整型int</h3><p>在Python2中，int是32位，long类型64位<br>在Python3中，int可以存储任意大小整数</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">a</span> <span class="string">=</span> <span class="string">0b10101010</span></span><br><span class="line"><span class="string">b</span> <span class="string">=</span> <span class="string">0o123</span></span><br><span class="line"><span class="string">c</span> <span class="string">=</span> <span class="number">0x8e</span></span><br><span class="line"><span class="string">d</span> <span class="string">=</span> <span class="string">int(&quot;123&quot;)</span> <span class="comment">#字符串转为整形，123</span></span><br><span class="line"><span class="string">e</span> <span class="string">=</span> <span class="string">int(10.5)</span> <span class="comment">#10</span></span><br><span class="line"><span class="string">f</span> <span class="string">=</span> <span class="number">10.0</span> <span class="string">+</span> <span class="number">8</span></span><br><span class="line"><span class="string">type(f)</span> <span class="comment">#浮点型</span></span><br><span class="line"><span class="string">print(a,b,c,d)</span></span><br></pre></td></tr></table></figure>

<h3 id="浮点型float"><a href="#浮点型float" class="headerlink" title="浮点型float"></a>浮点型float</h3><p>用科学计数法表示</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">a</span> <span class="string">=</span> <span class="number">3.14</span></span><br><span class="line"><span class="string">b</span> <span class="string">=</span> <span class="number">352e-3</span></span><br><span class="line"><span class="string">c</span> <span class="string">=</span> <span class="number">413.02</span></span><br><span class="line"><span class="string">d</span> <span class="string">=</span> <span class="string">round(c)</span> <span class="comment">#自动四舍五入,并且产生新的值</span></span><br><span class="line"></span><br><span class="line"><span class="string">float()#类型转换</span></span><br><span class="line"></span><br><span class="line"><span class="string">y</span> <span class="string">+=</span> <span class="string">x*2</span> <span class="comment"># y = y + x*2</span></span><br><span class="line"><span class="string">y</span> <span class="string">*=</span> <span class="string">x</span> <span class="string">+</span> <span class="number">2</span> <span class="comment"># y = y*(x + 2)</span></span><br></pre></td></tr></table></figure>

<h3 id="布尔值"><a href="#布尔值" class="headerlink" title="布尔值"></a>布尔值</h3><p>在Python中，将true和false定义成了关键字。true其实就是1，false是0</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a = true</span><br><span class="line">b = <span class="number">5</span></span><br><span class="line"><span class="built_in">print</span>(a+b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;&quot;</span>):</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;true&quot;</span>)</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;false&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">bool</span>的空字符串——&gt; false</span><br><span class="line"><span class="built_in">bool</span>的空列表——&gt; false</span><br><span class="line"><span class="built_in">bool</span>的<span class="literal">None</span>——&gt; false</span><br><span class="line"><span class="built_in">bool</span>的<span class="number">0</span> ——&gt; false</span><br><span class="line">只有<span class="built_in">bool</span>(<span class="string">&quot;False&quot;</span>)，结果是true</span><br></pre></td></tr></table></figure>

<h1 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h1><h2 id="基本运算符"><a href="#基本运算符" class="headerlink" title="基本运算符"></a>基本运算符</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#算数运算符</span></span><br><span class="line"><span class="string">//表示整除，不会产生小数</span></span><br><span class="line"><span class="string">**表示乘方</span></span><br><span class="line"><span class="string">var=64</span> <span class="string">**</span> <span class="string">(1/2)</span> <span class="comment">#也可以用来做开方</span></span><br><span class="line"><span class="string">%表示取余</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#算数运算符与赋值结合使用</span></span><br><span class="line"><span class="string">x+=y</span> <span class="comment"># x=x+y</span></span><br><span class="line"><span class="string">x-=y</span> <span class="comment"># x=x-y</span></span><br><span class="line"><span class="string">x*=y</span> <span class="comment"># x=x*y</span></span><br><span class="line"><span class="string">x/=y</span> <span class="comment"># x=x/y</span></span><br><span class="line"><span class="string">x//=y</span> <span class="comment"># x=x//y</span></span><br><span class="line"><span class="string">x%=y</span> <span class="comment"># x=x%y</span></span><br><span class="line"><span class="string">x**=y</span> <span class="comment"># x=x**y</span></span><br><span class="line"></span><br><span class="line"><span class="string">divmod0()方法-同时得到商和余数</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="运算符-1"><a href="#运算符-1" class="headerlink" title="运算符"></a>运算符</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#身份运算符</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> b) <span class="comment">#如果两者相同，则输出true</span></span><br><span class="line"><span class="keyword">not</span> <span class="keyword">is</span> <span class="comment">#如果两者相同，则输出false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#比较运算符，返回布尔值</span></span><br><span class="line">!= <span class="comment">#不相等</span></span><br><span class="line">== <span class="comment">#相等，除了数值之外，还要比较数据类型</span></span><br><span class="line">其本质为使用__eq__方法</span><br><span class="line"></span><br><span class="line"><span class="comment">#逻辑运算符</span></span><br><span class="line"><span class="keyword">and</span> <span class="comment">#两个都为真才为真</span></span><br><span class="line"><span class="keyword">or</span>  <span class="comment">#只要有一个真即为真</span></span><br><span class="line"><span class="keyword">not</span> <span class="comment">#将判断的结果取反</span></span><br><span class="line"><span class="keyword">in</span>  <span class="comment">#判断对象在不在另一个对象中</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#算数符优先级，从高到低为</span></span><br><span class="line">()</span><br><span class="line">乘方</span><br><span class="line">乘除</span><br><span class="line">加减</span><br><span class="line">比较运算符</span><br><span class="line"><span class="keyword">in</span></span><br><span class="line"><span class="keyword">not</span></span><br><span class="line"><span class="keyword">and</span></span><br><span class="line"><span class="keyword">or</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#转义字符\，用法与linux中相同</span></span><br><span class="line">var=<span class="string">&quot;ws is \&quot;ws\&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#成员运算符</span></span><br><span class="line">a=<span class="string">&quot;asd&quot;</span></span><br><span class="line">b=<span class="string">&quot;asdqwe&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">in</span> b)</span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501151826.png"></p>
<h2 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h2><p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501151856.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">位运算</span><br><span class="line">a = <span class="number">0b000110</span></span><br><span class="line">b = <span class="number">0b011010</span></span><br><span class="line"><span class="built_in">bin</span>()转换为二进制</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(a&amp;b)) <span class="comment">#与 0b000010</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(a|b)) <span class="comment">#或 0b011110</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(a^b)) <span class="comment">#异或 相异时为1 0b011100</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>(a~))  <span class="comment">#按位进行取反</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">bin</span>())s</span><br></pre></td></tr></table></figure>

<h1 id="整数缓存问题"><a href="#整数缓存问题" class="headerlink" title="整数缓存问题"></a>整数缓存问题</h1><p>命令行模式下，python仅对比较小的整数进行对象缓存，范围为-5到256</p>
<p>文件模式下，所有数字都会被缓存</p>
<p>-5到256依然底层用数组实现，除此之外的数缓存到链表中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="number">5</span></span><br><span class="line">b=<span class="number">5</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> b)</span><br><span class="line"><span class="comment">#True</span></span><br><span class="line">a=<span class="number">267</span></span><br><span class="line">b=<span class="number">267</span></span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> b)</span><br><span class="line"><span class="comment">#True</span></span><br></pre></td></tr></table></figure>

<h1 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h1><p>在python中，单字符也是字符串类型</p>
<p>python中的字符串是不可变的</p>
<h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><p>python3直接支持字符集Unicode，可以表示所有字符</p>
<p>python3字符默认为16位的Unicode编码，ASCII码是Unicode的子集</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501152030.png"></p>
<p>使用内置函数ord()可以把字符转换成对应的Unicode码；<br>使用内置函数chr()可以把十进制数字转换成对应的字符。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&quot;王&quot;</span>))</span><br><span class="line"><span class="comment"># 29579</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">ord</span>(<span class="string">&quot;盛&quot;</span>))</span><br><span class="line"><span class="number">30427</span></span><br></pre></td></tr></table></figure>
<h2 id="字符串创建"><a href="#字符串创建" class="headerlink" title="字符串创建"></a>字符串创建</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#长字符串，可以使用三个&quot;&quot;&quot;与&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment">#长字符串中对特殊符号比如正则表达式 不需要进行转义</span></span><br><span class="line"><span class="comment">#&quot;&quot;&quot;与&#x27;&#x27;&#x27;都是带换行符\n的</span></span><br><span class="line">var=<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">123455</span></span><br><span class="line"><span class="string">  &#x27;12345&#x27;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#从控制台 接受用户输入的函数input</span></span><br><span class="line"><span class="built_in">input</span>(<span class="string">&#x27;提示信息&#x27;</span>) </span><br><span class="line"><span class="comment">#默认接受的是字符串类型，如果需要处理就要变化类型</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#不换行打印</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>,end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="字符串的拼接"><a href="#字符串的拼接" class="headerlink" title="字符串的拼接"></a>字符串的拼接</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字符串的运算与拼接</span></span><br><span class="line">var=<span class="string">&quot;1&quot;</span></span><br><span class="line"><span class="built_in">print</span>(var * <span class="number">20</span>) <span class="comment">#字符串相乘</span></span><br><span class="line"><span class="built_in">print</span>(var1 + var2) <span class="comment">#字符串连接</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;123&quot;</span>+<span class="string">&quot;12345&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="转义字符"><a href="#转义字符" class="headerlink" title="转义字符"></a>转义字符</h2><p>实现某些难以用字符表示的效果。比如：换行等。常见的转义字符有这些：</p>
<table>
<thead>
<tr>
<th>转义字符</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>(在行尾时)</td>
<td>续行符</td>
</tr>
<tr>
<td>\</td>
<td>反斜杠符号</td>
</tr>
<tr>
<td>‘</td>
<td>单引号</td>
</tr>
<tr>
<td>“</td>
<td>双引号</td>
</tr>
<tr>
<td>\b</td>
<td>退格(Backspace)</td>
</tr>
<tr>
<td>\n</td>
<td>换行</td>
</tr>
<tr>
<td>\t</td>
<td>横向制表符</td>
</tr>
<tr>
<td>\r</td>
<td>回车</td>
</tr>
</tbody></table>
<h2 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字符串替换</span></span><br><span class="line">字符串是不能变的，所以只能创建一个新对象，将变量指向新的对象</span><br><span class="line"><span class="built_in">print</span>(var.replace(<span class="string">&#x27;老字符&#x27;</span>,<span class="string">&#x27;新字符&#x27;</span>,<span class="string">&#x27;替换次数，-1为全部替换&#x27;</span>)) <span class="comment">#查找与替换</span></span><br><span class="line">a = <span class="string">&#x27;123&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a.replace(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;王&#x27;</span>))</span><br><span class="line"><span class="comment"># 王23</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串判断</span></span><br><span class="line">var=<span class="string">&quot;qwe poi&quot;</span></span><br><span class="line"><span class="built_in">print</span>(var.startswith(<span class="string">&#x27;ab&#x27;</span>)) <span class="comment">#判断是否是以ab开头（必须完全匹配），返回布尔值</span></span><br><span class="line"><span class="built_in">print</span>(var.endswith(<span class="string">&#x27;e&#x27;</span>)) <span class="comment">#判断是否是以e结尾，返回布尔值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串修改</span></span><br><span class="line">var=<span class="string">&quot;QwErT y sTj&quot;</span></span><br><span class="line"><span class="built_in">print</span>(var.capitalize()) <span class="comment">#首字母大写 </span></span><br><span class="line"><span class="built_in">print</span>(var.title()) <span class="comment">#每个单词都变成首字母大写</span></span><br><span class="line"><span class="built_in">print</span>(var.lower()) <span class="comment">#全部小写</span></span><br><span class="line"><span class="built_in">print</span>(var.upper()) <span class="comment">#全部大写</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(var.strip()) <span class="comment">#删除首尾空格</span></span><br><span class="line"><span class="built_in">print</span>(var.lstrip()) <span class="comment">#删除首空格</span></span><br><span class="line"><span class="built_in">print</span>(var.rstrip()) <span class="comment">#删除尾空格</span></span><br><span class="line"><span class="built_in">print</span>(var.strip(<span class="string">&#x27;y&#x27;</span>)) <span class="comment">#删除收尾特定内容y</span></span><br><span class="line"></span><br><span class="line">var.startswith(<span class="string">&#x27;xx&#x27;</span>) <span class="comment">#是否以字符串开头 返回布尔值</span></span><br><span class="line">var.endswith(<span class="string">&#x27;xx&#x27;</span>) <span class="comment">#是否以字符串结尾 返回布尔值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串索引</span></span><br><span class="line">在字符串中每个字符都有一个索引，第一位索引是<span class="number">0</span></span><br><span class="line">索引超出也不会报错，与序列的切片一致</span><br><span class="line">var=<span class="string">&quot;qwertyu&quot;</span></span><br><span class="line"><span class="built_in">print</span>(var[<span class="number">2</span>]) <span class="comment">#输出e</span></span><br><span class="line"><span class="built_in">print</span>(var[<span class="number">0</span>:<span class="number">7</span>]) <span class="comment">#截取索引号0-6的字符</span></span><br><span class="line"><span class="built_in">print</span>(var[-<span class="number">4</span>:-<span class="number">1</span>]) <span class="comment">#截取最后第四位到最后第二位</span></span><br><span class="line"><span class="built_in">print</span>(var[-<span class="number">4</span>:]) <span class="comment">#截取最后第四位</span></span><br><span class="line"><span class="built_in">print</span>(var[-<span class="number">4</span>:-<span class="number">0</span>:<span class="number">2</span>]) <span class="comment">#步长2</span></span><br><span class="line"><span class="built_in">print</span>(var[::-<span class="number">1</span>]) <span class="comment">#倒叙排列</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串查找</span></span><br><span class="line">var=<span class="string">&quot;qwe poi&quot;</span></span><br><span class="line"><span class="built_in">print</span>(var.find(<span class="string">&#x27;poi&#x27;</span>)) <span class="comment">#查找poi这个字符串，返回起始位的索引号，返回4；未找到则返回-1</span></span><br><span class="line"><span class="built_in">print</span>(var.index(<span class="string">&#x27;poi&#x27;</span>)) <span class="comment">#查找poi这个字符串，返回起始位的索引号，返回4；未找到则报异常</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串切割，按索引进行切片</span></span><br><span class="line">var=<span class="string">&#x27;qw er ty ui&#x27;</span></span><br><span class="line">var.split() 默认参数为</span><br><span class="line"><span class="built_in">print</span>(var.split()) <span class="comment">#默认使用空格进行切割,切割的内容会放到列表内进行返回</span></span><br><span class="line"><span class="built_in">print</span>(var.split(<span class="string">&#x27;r&#x27;</span>))<span class="comment">#会把r本身消掉，然后把剩下两个部分放到列表内</span></span><br><span class="line"><span class="comment">#[&#x27;qw&#x27;, &#x27;er&#x27;, &#x27;ty&#x27;, &#x27;ui&#x27;]</span></span><br><span class="line"><span class="comment">#[&#x27;qw e&#x27;, &#x27; ty ui&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#join</span></span><br><span class="line"><span class="comment">#将序列重新合并</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>.join(var.split()))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;*&#x27;</span>.join(var.split()))</span><br><span class="line"><span class="comment">#qwertyui</span></span><br><span class="line"><span class="comment">#qw*er*ty*ui</span></span><br><span class="line"></span><br><span class="line">现在有两种方法可以输出同一字符串到字符串中</span><br><span class="line"><span class="number">1.</span>使用+=的方法</span><br><span class="line">a =+ <span class="string">&quot;123&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>将<span class="string">&quot;123&quot;</span>添加到一个列表中</span><br><span class="line">然后用join将列表合并成<span class="built_in">str</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>方法的效率需要重复生成字符串，效率很低。要用<span class="number">2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字符串排版</span></span><br><span class="line">var=<span class="string">&quot;王盛&quot;</span></span><br><span class="line"><span class="built_in">print</span>(var.center(<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(var.center(<span class="number">20</span>,<span class="string">&#x27;*&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(var.ljust(<span class="number">10</span>)) <span class="comment">#右侧有10字符</span></span><br><span class="line"><span class="built_in">print</span>(var.rjust(<span class="number">10</span>)) <span class="comment">#左侧有10字符</span></span><br><span class="line"><span class="comment">#    王盛    </span></span><br><span class="line"><span class="comment">#*********王盛*********</span></span><br><span class="line"><span class="comment">#王盛        </span></span><br><span class="line"><span class="comment">#        王盛</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#特征判断</span></span><br><span class="line">isalnum() 是否为字母或数字</span><br><span class="line">isalpha() 是否只有字母或汉字</span><br><span class="line">isdigit() 是否只有数字</span><br><span class="line">isspace() 是否为空白符</span><br><span class="line">isupper() 是否为大写字母</span><br><span class="line">islower() 是否为小写字母</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501152110.png"></p>
<h2 id="可变字符串"><a href="#可变字符串" class="headerlink" title="可变字符串"></a>可变字符串</h2><p>io.StringIO() 是一个在内存中操作字符串数据的工具，它允许你像文件一样读写字符串，但它是可变</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> io</span><br><span class="line">a = <span class="string">&#x27;adwqewq&#x27;</span></span><br><span class="line">aio = io.StringIO(a) <span class="comment">#可变字符串</span></span><br><span class="line"><span class="built_in">print</span>(aio) <span class="comment">#_io.StringIO类型的值</span></span><br><span class="line"><span class="built_in">print</span>(aio.getvalue())</span><br><span class="line"><span class="comment"># adwqewq</span></span><br><span class="line">aio.seek(<span class="number">3</span>) <span class="comment">#移动指针到3这个位置</span></span><br><span class="line">aio.write(<span class="string">&quot;***&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(aio.getvalue())</span><br><span class="line"><span class="comment"># adw***q</span></span><br></pre></td></tr></table></figure>

<h2 id="字符串驻留机制"><a href="#字符串驻留机制" class="headerlink" title="字符串驻留机制"></a>字符串驻留机制</h2><p>双引号引起来的字符串，如果相同则只保存一份，被认为是同一个对象，ID也相同</p>
<h2 id="字符串的格式化format"><a href="#字符串的格式化format" class="headerlink" title="字符串的格式化format"></a>字符串的格式化format</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字符串引入进行定义</span></span><br><span class="line">a = <span class="string">&quot;名字：&#123;0&#125;，年龄：&#123;1&#125;&quot;</span></span><br><span class="line">b = a.<span class="built_in">format</span>(<span class="string">&quot;ws&quot;</span>,<span class="string">&#x27;25&#x27;</span>)</span><br><span class="line">c = a.<span class="built_in">format</span>(<span class="string">&quot;xhy&quot;</span>,<span class="string">&#x27;24&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment">#名字：ws，年龄：25</span></span><br><span class="line"><span class="comment">#名字：xhy，年龄：24</span></span><br><span class="line"></span><br><span class="line">d = <span class="string">&quot;名字 &#123;name&#125;,年龄 &#123;age&#125;&quot;</span> <span class="comment">#指定参数的</span></span><br><span class="line"><span class="built_in">print</span>(d.<span class="built_in">format</span>(name=<span class="string">&#x27;ws&#x27;</span>, age=<span class="number">24</span>))</span><br><span class="line"><span class="comment">#名字 ws,年龄 24</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="数字格式化"><a href="#数字格式化" class="headerlink" title="数字格式化"></a>数字格式化</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;我是&#123;0&#125;,工资&#123;1:.2f&#125;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(a.<span class="built_in">format</span>(<span class="string">&#x27;ws&#x27;</span>,<span class="number">0.05</span>))</span><br><span class="line"><span class="comment">#我是ws,工资0.05</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240501152132.png"></p>
<h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><table>
<thead>
<tr>
<th>类型转换</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>int(x [,base])</td>
<td>将x转换为一个整数</td>
</tr>
<tr>
<td>long(x [,base] )</td>
<td>将x转换为一个长整数</td>
</tr>
<tr>
<td>float(x)</td>
<td>将x转换到一个浮点数</td>
</tr>
<tr>
<td>complex(real[,imag])</td>
<td>创建一个复数</td>
</tr>
<tr>
<td>str(x)</td>
<td>将对象 x 转换为字符串</td>
</tr>
<tr>
<td>repr(x)</td>
<td>将对象 x 转换为表达式字符串</td>
</tr>
<tr>
<td>eval(str)</td>
<td>用来计算在字符串中的有效Python表达式,并返回一个对象</td>
</tr>
<tr>
<td>Complex(A)</td>
<td>将参数转换为复数型</td>
</tr>
<tr>
<td>tuple(s)</td>
<td>将序列 s 转换为一个元组</td>
</tr>
<tr>
<td>list(s)</td>
<td>将序列 s 转换为一个列表</td>
</tr>
<tr>
<td>set(s)</td>
<td>转换为可变集合</td>
</tr>
<tr>
<td>dict(d)</td>
<td>创建一个字典。d 必须是一个序列 (key,value)元组</td>
</tr>
<tr>
<td>frozenset(s)</td>
<td>转换为不可变集合</td>
</tr>
<tr>
<td>chr(x)</td>
<td>将一个整数转换为一个字符</td>
</tr>
<tr>
<td>unichr(x)</td>
<td>将一个整数转换为Unicode字符</td>
</tr>
<tr>
<td>ord(x)</td>
<td>将一个字符转换为它的整数值</td>
</tr>
<tr>
<td>hex(x)</td>
<td>将一个整数转换为一个十六进制字符串</td>
</tr>
<tr>
<td>oct(x)</td>
<td>将一个整数转换为一个八进制字符串</td>
</tr>
</tbody></table>
<h1 id="序列"><a href="#序列" class="headerlink" title="序列"></a>序列</h1><p>常见的序列有：列表、字典、元组、集合、双端队列、区间<br>序列的本质是一块存放多个值的连续内存空间<br>在序列中，存储的是标识的地址。值在对应的标识中<br>比如a &#x3D; [10,20,30,40]，a存放的是标识的地址</p>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>列表是一种常用的数据结构，可以容纳各种类型的数据</p>
<p>列表是内置可变序列，包含多个元素的有序连续内存空间，并且可以根据需要随时增大和缩小</p>
<h3 id="列表的创建"><a href="#列表的创建" class="headerlink" title="列表的创建"></a>列表的创建</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line">list1=[]</span><br><span class="line">list2=<span class="built_in">list</span>()  <span class="comment">#python的一个内置函数，可以直接使用</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">10</span>)))</span><br><span class="line"><span class="comment">#[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line"></span><br><span class="line">推导式生成列表</span><br><span class="line">a = [x*<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)] </span><br><span class="line"><span class="built_in">range</span>(<span class="number">3</span>)=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">a = [<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>]</span><br><span class="line">b = [x*<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">50</span>) <span class="keyword">if</span> x%<span class="number">9</span>==<span class="number">0</span>] <span class="comment">#对9可以整除的数*2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#range 创建整数列表</span></span><br><span class="line"><span class="built_in">range</span>(<span class="number">2</span>,<span class="number">20</span>,<span class="number">4</span>) <span class="comment">#开始2结束20，步长4</span></span><br><span class="line">需要使用<span class="built_in">list</span>()使其变成列表</span><br><span class="line"></span><br><span class="line"><span class="comment">#列表中的元素可以是任意的数据类型（也可以嵌套其他的数据结构）</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="string">&#x27;2354&#x27;</span>,<span class="literal">False</span>,[<span class="number">1</span>,<span class="number">2</span>]]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(list1))</span><br><span class="line"><span class="comment">#列表的数据类型为list</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#内置的转换函数list</span></span><br><span class="line">tuple1=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(tuple1))  <span class="comment">#输出tuple</span></span><br><span class="line">tuple1= <span class="built_in">list</span>(tuple1)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(tuple1))  <span class="comment">#输出的不是tuple而是list</span></span><br></pre></td></tr></table></figure>

<h3 id="列表操作"><a href="#列表操作" class="headerlink" title="列表操作"></a>列表操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#列表的加法</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">list2=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="built_in">print</span>(list1 + list2)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4, 5, 6, 1, 2, 3]，将两个列表进行了组合，次数生成一个新的列表</span></span><br><span class="line">list1.extend(list2)</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4, 5, 6, 1, 2, 3] 在原列表修改</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表的乘法，扩展列表</span></span><br><span class="line"><span class="built_in">print</span>(list2 * <span class="number">2</span>)</span><br><span class="line"><span class="comment">#输出[1, 2, 3, 1, 2, 3]，只能乘数字</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表添加元素append</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">list1.append(<span class="string">&#x27;12345sq&#x27;</span>) <span class="comment">#一次只能传递一个元素,在尾部添加</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4, &#x27;12345sq&#x27;]</span></span><br><span class="line">list1.append([<span class="number">1</span>,<span class="number">2</span>]) <span class="comment">#传递进去一个列表</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4, &#x27;12345sq&#x27;, [1, 2]]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表插入元素insert</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">list1.insert(<span class="number">0</span>,<span class="string">&#x27;wqe&#x27;</span>) <span class="comment">#在索引0的位置前插入元素，也只能一次传递一个元素</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[&#x27;wqe&#x27;, 1, 2, 3, 4]</span></span><br><span class="line">插入和删除都需要改变元素的位置，会影响性能</span><br><span class="line"></span><br><span class="line"><span class="comment">#列表中删除元素remove,pop,del</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">list1.remove(<span class="number">4</span>) <span class="comment">#要删除的元素</span></span><br><span class="line">remove不存在会报错</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[1,2,3]</span></span><br><span class="line">list1.pop()     <span class="comment">#弹出末尾的一个元素，但pop会把这个元素返回</span></span><br><span class="line">var=list1.pop() <span class="comment">#把最后一位‘2’,弹出并赋值到var</span></span><br><span class="line"><span class="built_in">print</span>(var)</span><br><span class="line"><span class="comment">#2</span></span><br><span class="line"><span class="keyword">del</span> <span class="built_in">list</span>[<span class="number">0</span>]    <span class="comment">#删除索引的元素</span></span><br><span class="line"><span class="comment">#del 是一个关键字，而不是和remove、pop一样是一种方法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表修改和查看元素</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">list1[<span class="number">0</span>]=<span class="string">&#x27;ws&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[ws,2,3,4,5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表修改和查看元素——索引叠加</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,[<span class="string">&#x27;ws&#x27;</span>,<span class="string">&#x27;qwe&#x27;</span>,[<span class="string">&#x27;ert&#x27;</span>,<span class="string">&#x27;uty&#x27;</span>]]]</span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">5</span>][<span class="number">2</span>][<span class="number">1</span>])</span><br><span class="line"><span class="comment">#uty</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表的元素排序——reverse倒叙排序</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">list1.reverse()</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[5, 4, 3, 2, 1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表的元素排序——sort可自定义排序</span></span><br><span class="line">list1=[<span class="string">&#x27;qwe&#x27;</span>,<span class="string">&#x27;asdc&#x27;</span>,<span class="string">&#x27;szcqqq&#x27;</span>,<span class="string">&#x27;aaaaaaa&#x27;</span>,<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line"><span class="comment">#参数reverse=Ture代表倒序排序，False为正序排序</span></span><br><span class="line"><span class="comment">#参数key作为排序依据</span></span><br><span class="line">list1.sort(key=<span class="built_in">len</span>,reverse=<span class="literal">False</span>)  <span class="comment">#key=len说明以字符以多到少排序</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[&#x27;a&#x27;, &#x27;qwe&#x27;, &#x27;asdc&#x27;, &#x27;szcqqq&#x27;, &#x27;aaaaaaa&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#reversed内置函数</span></span><br><span class="line">返回一个迭代器对象，并且只能使用一次</span><br><span class="line">	a = [<span class="number">10</span>,<span class="number">50</span>,<span class="number">30</span>,<span class="number">60</span></span><br><span class="line">b = <span class="built_in">reversed</span>(a)</span><br><span class="line">c = <span class="built_in">list</span>(b)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line"><span class="comment">#随机排序</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>]</span><br><span class="line">random.shuffle(list1)</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[2, 1, 6, 4, 5, 3, 1]</span></span><br></pre></td></tr></table></figure>

<h3 id="列表遍历len-max-min"><a href="#列表遍历len-max-min" class="headerlink" title="列表遍历len max min"></a>列表遍历len max min</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">list2=[<span class="string">&#x27;10&#x27;</span>,<span class="string">&#x27;20&#x27;</span>,<span class="string">&#x27;30&#x27;</span>,<span class="string">&#x27;40&#x27;</span>,<span class="string">&#x27;50&#x27;</span>]</span><br><span class="line">str1=<span class="string">&#x27;ABCDE edcba&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#len函数 返回字符串长度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(list1)) <span class="comment">#输出5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(list2)) <span class="comment">#输出5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">len</span>(str1)) <span class="comment">#输出11</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#max函数 返回ASCII码值最大的</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(list1))  <span class="comment">#输出5</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(list2))  <span class="comment">#输出5，对字符串处理时逐个处理</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">max</span>(str1))   <span class="comment">#输出e</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#min函数 返回ASCII码值最小的，同上</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sum求和</span></span><br><span class="line">只针对数值型列表</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>(a))</span><br></pre></td></tr></table></figure>

<h3 id="统计次数、指定元素：count、index方法"><a href="#统计次数、指定元素：count、index方法" class="headerlink" title="统计次数、指定元素：count、index方法"></a>统计次数、指定元素：count、index方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#count——统计元素出现的次数</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(list1.count(<span class="number">1</span>))</span><br><span class="line"><span class="comment">#2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#index——统计元素的位置</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(list1.index(<span class="number">4</span>)) <span class="comment">#返回元素第一次出现的索引位置</span></span><br><span class="line"><span class="comment">#3</span></span><br><span class="line"></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,<span class="number">5</span>],<span class="number">6</span>,<span class="number">1</span>] </span><br><span class="line"><span class="built_in">print</span>(list1.index(<span class="number">5</span>)) <span class="comment">#无法搜索嵌套列表的值</span></span><br><span class="line"><span class="comment">#报错</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="string">&#x27;4&#x27;</span>,<span class="number">5</span>],<span class="number">6</span>,<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(list1.index(<span class="string">&#x27;4&#x27;</span>)) <span class="comment">#无法搜索嵌套列表的值</span></span><br><span class="line"><span class="comment">#报错</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,[<span class="string">&#x27;4&#x27;</span>,<span class="number">5</span>],<span class="number">6</span>,<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">3</span>].index(<span class="string">&#x27;4&#x27;</span>)) <span class="comment">#通过指定列表所在位置</span></span><br><span class="line"><span class="comment">#0</span></span><br></pre></td></tr></table></figure>

<h3 id="列表切片"><a href="#列表切片" class="headerlink" title="列表切片"></a>列表切片</h3><p>与字符串的切片几乎相同</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#列表的索引，与字符串的索引相同</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">3</span>])  <span class="comment">#查看list索引位3的元素，输出4</span></span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">0</span>:<span class="number">4</span>]) <span class="comment">#查看索引位0开始，索引位3结束（不包含4）</span></span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">1</span>:]) <span class="comment">#查看索引位1开始，输出到最后</span></span><br><span class="line"><span class="built_in">print</span>(list1[:<span class="number">4</span>]) <span class="comment">#查看索引0开始到第三位</span></span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">1</span>:-<span class="number">1</span>]) <span class="comment">#查看索引1开始到倒数第二位</span></span><br><span class="line"><span class="comment">#带有步长的查询</span></span><br><span class="line"><span class="built_in">print</span>(list1[<span class="number">1</span>:<span class="number">5</span>:<span class="number">2</span>]) <span class="comment">#查看索引1开始到索引5，步长为2，输出结果为2,4,6</span></span><br></pre></td></tr></table></figure>


<h2 id="字典"><a href="#字典" class="headerlink" title="字典"></a>字典</h2><p>通过键值对key&#x3D;value的形式保存元素的一种数据结构<br>键是不可变数据，列表、字典、集合这种可变对象不能作为键<br>键不可重复<br>值任意，可重复</p>
<h3 id="字典的创建"><a href="#字典的创建" class="headerlink" title="字典的创建"></a>字典的创建</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建字典</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">123</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;weq&#x27;</span>,<span class="string">&#x27;王&#x27;</span>:<span class="string">&#x27;sheng&#x27;</span>&#125; <span class="comment">#字典的key不允许相同、且key必须为常量</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(dict1)) <span class="comment">#&lt;class &#x27;dict&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line">dict1=<span class="built_in">dict</span>([[<span class="string">&#x27;qwe&#x27;</span>,<span class="string">&#x27;ewq&#x27;</span>],[<span class="string">&#x27;asd&#x27;</span>,<span class="string">&#x27;dsa&#x27;</span>]])</span><br><span class="line">dict2=<span class="built_in">dict</span>(name=<span class="string">&#x27;ws&#x27;</span>, age=<span class="string">&#x27;25&#x27;</span>, job=<span class="literal">None</span>)</span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="comment">#&#123;&#x27;qwe&#x27;:&#x27;ewq&#x27;, &#x27;asd&#x27;:&#x27;dsa&#x27;&#125;</span></span><br><span class="line"><span class="built_in">print</span>(dict2)</span><br><span class="line"><span class="comment">#&#123;&#x27;name&#x27;: &#x27;ws&#x27;, &#x27;age&#x27;: &#x27;25&#x27;, &#x27;job&#x27;: None&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#通过zip创建字典</span></span><br><span class="line">k=[<span class="string">&#x27;name&#x27;</span>,<span class="string">&#x27;age&#x27;</span>,<span class="string">&#x27;居住地&#x27;</span>]</span><br><span class="line">v=[<span class="string">&#x27;ws&#x27;</span>,<span class="string">&#x27;25&#x27;</span>,<span class="string">&#x27;sx&#x27;</span>]</span><br><span class="line"></span><br><span class="line">d = <span class="built_in">dict</span>(<span class="built_in">zip</span>(k,v))</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="comment">#&#123;&#x27;name&#x27;: &#x27;ws&#x27;, &#x27;age&#x27;: &#x27;25&#x27;, &#x27;居住地&#x27;: &#x27;sx&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#fromkeys方法引入</span></span><br><span class="line">a=<span class="built_in">dict</span>.fromkeys([<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;job&#x27;</span>])</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment">#&#123;&#x27;name&#x27;: None, &#x27;age&#x27;: None, &#x27;job&#x27;: None&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h3 id="字典的操作"><a href="#字典的操作" class="headerlink" title="字典的操作"></a>字典的操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#字典通过key查找value</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">123</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;weq&#x27;</span>,<span class="string">&#x27;王&#x27;</span>:<span class="string">&#x27;sheng&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1[<span class="string">&#x27;ws&#x27;</span>])</span><br><span class="line"><span class="comment">#123</span></span><br><span class="line"><span class="built_in">print</span>(dict1[<span class="string">&#x27;NA&#x27;</span>])</span><br><span class="line"><span class="comment">#报错</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字典通过get方法查找value 不会报错</span></span><br><span class="line"><span class="built_in">print</span>(dict1.get(<span class="string">&#x27;NA&#x27;</span>))</span><br><span class="line"><span class="comment">#None</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在字典中添加元素——直接赋值新的key</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">123</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;weq&#x27;</span>,<span class="string">&#x27;王&#x27;</span>:<span class="string">&#x27;sheng&#x27;</span>&#125;</span><br><span class="line">dict1[<span class="string">&#x27;ads&#x27;</span>]=<span class="string">&#x27;qcvx&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="comment">#&#123;&#x27;ws&#x27;: 123, &#x27;qwe&#x27;: &#x27;weq&#x27;, &#x27;王&#x27;: &#x27;sheng&#x27;, &#x27;ads&#x27;: &#x27;qcvx&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在字典中添加元素——setdefault传参</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">123</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;weq&#x27;</span>,<span class="string">&#x27;王&#x27;</span>:<span class="string">&#x27;sheng&#x27;</span>&#125;</span><br><span class="line">dict1.setdefault(<span class="string">&#x27;ads&#x27;</span>,<span class="string">&#x27;wqw&#x27;</span>) <span class="comment">#前面为key，后面为value，如果没有value则会记为空</span></span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="comment">#&#123;&#x27;ws&#x27;: 123, &#x27;qwe&#x27;: &#x27;weq&#x27;, &#x27;王&#x27;: &#x27;sheng&#x27;, &#x27;ads&#x27;: &#x27;wqw&#x27;&#125;</span></span><br><span class="line"><span class="comment">#&#123;&#x27;ws&#x27;: 123, &#x27;qwe&#x27;: &#x27;weq&#x27;, &#x27;王&#x27;: &#x27;sheng&#x27;, &#x27;ads&#x27;: None&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在字典中删除元素——del、pop</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">123</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;weq&#x27;</span>,<span class="string">&#x27;王&#x27;</span>:<span class="string">&#x27;sheng&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">del</span> dict1[<span class="string">&#x27;ws&#x27;</span>]</span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="comment">#&#123;&#x27;qwe&#x27;: &#x27;weq&#x27;, &#x27;王&#x27;: &#x27;sheng&#x27;&#125;</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">123</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;weq&#x27;</span>,<span class="string">&#x27;王&#x27;</span>:<span class="string">&#x27;sheng&#x27;</span>&#125;</span><br><span class="line">var=dict1.pop(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(var)</span><br><span class="line"><span class="comment">#123</span></span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="comment">#&#123;&#x27;qwe&#x27;: &#x27;weq&#x27;, &#x27;王&#x27;: &#x27;sheng&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#字典中修改value——重新赋值、update</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">123</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;weq&#x27;</span>,<span class="string">&#x27;王&#x27;</span>:<span class="string">&#x27;sheng&#x27;</span>&#125;</span><br><span class="line">dict1[<span class="string">&#x27;ws&#x27;</span>]=<span class="string">&#x27;ws&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="comment">#&#123;&#x27;ws&#x27;: &#x27;ws&#x27;, &#x27;qwe&#x27;: &#x27;weq&#x27;, &#x27;王&#x27;: &#x27;sheng&#x27;&#125;</span></span><br><span class="line">dict1.update(&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="string">&#x27;wsc&#x27;</span>&#125;)</span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="comment">#&#123;&#x27;ws&#x27;: &#x27;wsc&#x27;, &#x27;qwe&#x27;: &#x27;weq&#x27;, &#x27;王&#x27;: &#x27;sheng&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取字典的key、value与键值对——keys(),values(),items()</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">123</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;weq&#x27;</span>,<span class="string">&#x27;王&#x27;</span>:<span class="string">&#x27;sheng&#x27;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(dict1.keys())</span><br><span class="line"><span class="built_in">print</span>(dict1.values())</span><br><span class="line"><span class="built_in">print</span>(dict1.items())</span><br><span class="line"><span class="comment">#dict_keys([&#x27;ws&#x27;, &#x27;qwe&#x27;, &#x27;王&#x27;])</span></span><br><span class="line"><span class="comment">#dict_values([123, &#x27;weq&#x27;, &#x27;sheng&#x27;])</span></span><br><span class="line"><span class="comment">#dict_items([(&#x27;ws&#x27;, 123), (&#x27;qwe&#x27;, &#x27;weq&#x27;), (&#x27;王&#x27;, &#x27;sheng&#x27;)])</span></span><br></pre></td></tr></table></figure>

<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><p>一种不可变的数据结构，一旦创建不能添加、删除与修改<br>出于数据安全考虑的，安全性很高</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建元组</span></span><br><span class="line">tuple1=(<span class="number">1</span>,<span class="string">&#x27;2&#x27;</span>,<span class="literal">True</span>,[<span class="number">2</span>,<span class="number">4</span>],(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(tuple1)) <span class="comment">#&lt;class &#x27;tuple&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#内置转换函数tuple</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">tuple1=<span class="built_in">tuple</span>(list1)</span><br><span class="line"><span class="built_in">print</span>(tuple1)</span><br><span class="line"><span class="comment">#(1, 2, 3)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#可以通过赋予变量的重新创建对元组进行修改</span></span><br><span class="line">tuple1=(<span class="number">1</span>,<span class="string">&#x27;2&#x27;</span>,<span class="literal">True</span>,[<span class="number">2</span>,<span class="number">4</span>],(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">var1=<span class="number">2</span></span><br><span class="line">tuple1=(var1,<span class="string">&#x27;2&#x27;</span>,<span class="literal">True</span>,[<span class="number">2</span>,<span class="number">4</span>],(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line"><span class="built_in">print</span>(tuple1)</span><br><span class="line"><span class="comment">#(2, &#x27;2&#x27;, True, [2, 4], (1, 2))</span></span><br></pre></td></tr></table></figure>

<h2 id="封包与解包"><a href="#封包与解包" class="headerlink" title="封包与解包"></a>封包与解包</h2><p>封包：将多个值赋值给一个变量<br>解包：将一个元组或列表赋值给多个变量</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#解包，一一赋值，多或少都会导致报错</span></span><br><span class="line">tuple1=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">var1,var2,var3,var4=tuple1</span><br><span class="line"><span class="built_in">print</span>(var1,var2,var3,var4)</span><br><span class="line"><span class="comment">#1 2 3 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#封包————让变量赋值多元素</span></span><br><span class="line">tuple1=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br><span class="line">*var1,var2,var3=tuple1</span><br><span class="line"><span class="built_in">print</span>(var1,var2,var3)</span><br><span class="line"><span class="comment">#[1, 2] 3 4 用列表来承载多元素</span></span><br></pre></td></tr></table></figure>

<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>分为可变集合set和不可变集合fornzset</p>
<p>特点：不支持索引，元素随机排列，只能包含常量，不能重复，有重复自动删除</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建集合</span></span><br><span class="line">set1=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="literal">True</span>,(<span class="number">1</span>,<span class="number">3</span>)&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(set1)) <span class="comment">#&lt;class &#x27;set&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="comment">#&#123;1, 2, 3, (1, 3), 5, 6, 7, 8&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#可变集合添加元素add</span></span><br><span class="line">set1=&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, (<span class="number">1</span>, <span class="number">3</span>), <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>&#125;</span><br><span class="line">set1.add(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="comment">#&#123;1, 2, (1, 3), 3, 5, 6, 7, 8, &#x27;ws&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#可变集合删除元素remove、discord</span></span><br><span class="line">set1.remove(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="comment">#&#123;1, 2, (1, 3), 3, 5, 6, 7, 8&#125;</span></span><br><span class="line">set1.remove(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="comment">#报错</span></span><br><span class="line">set1.discard(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="comment">#不会报错，什么都不执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#pop也可以在集合中使用，同理</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#集合用以消除 在列表相加而出现的重复元素</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">list2=[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">list3=<span class="built_in">list</span>(<span class="built_in">set</span>(list1 + list2))</span><br><span class="line"><span class="built_in">print</span>(list3)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>

<h2 id="集合的关系测试"><a href="#集合的关系测试" class="headerlink" title="集合的关系测试"></a>集合的关系测试</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">set1=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="string">&#x27;qwe&#x27;</span>&#125;</span><br><span class="line">set2=&#123;<span class="number">2</span>,<span class="number">3</span>,<span class="string">&#x27;erq&#x27;</span>&#125;</span><br><span class="line">set3=&#123;<span class="number">1</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="string">&#x27;qwe&#x27;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">#包含关系判断issubclass、issuperset</span></span><br><span class="line"><span class="built_in">print</span>(set1.issubset(set2)) <span class="comment"># 测试前面的集合是不是后面集合的子集</span></span><br><span class="line"><span class="comment">#False</span></span><br><span class="line"><span class="built_in">print</span>(set1.issuperset(set2)) <span class="comment"># 测试前面的集合是否完全包含后面的集合</span></span><br><span class="line"><span class="comment">#False</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#集合相减difference、difference_update</span></span><br><span class="line"><span class="built_in">print</span>(set1.difference(set3)) <span class="comment">#difference集合相减</span></span><br><span class="line">set1-set3 <span class="comment">#等同于</span></span><br><span class="line"><span class="built_in">print</span>(set1) <span class="comment">#set1不会有变化吗，需要再次赋值之后才行</span></span><br><span class="line"><span class="comment">#&#123;1, 2, &#x27;qwe&#x27;&#125;</span></span><br><span class="line">set1.difference_update(set3) <span class="comment">#difference_update集合相减立即生效</span></span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="comment">#&#123;2&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#集合相交intersection、intersection_update</span></span><br><span class="line">set1=set1.intersection(set3) <span class="comment">#n找出相交的元素，通过赋值给予</span></span><br><span class="line">set1 &amp; set3 <span class="comment">#等同于</span></span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line">set1.intersection_update(set2) <span class="comment">#立即成效给set1</span></span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"></span><br><span class="line"><span class="comment">#集合并集union、update</span></span><br><span class="line">set1=set1.union(set2)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="comment">#&#123;&#x27;erq&#x27;, 1, 2, &#x27;qwe&#x27;, 3&#125;</span></span><br><span class="line">set1.update(set2)</span><br><span class="line"><span class="built_in">print</span>(set1)</span><br><span class="line"><span class="comment">#&#123;1, 2, 3, &#x27;erq&#x27;, &#x27;qwe&#x27;&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="不可变集合"><a href="#不可变集合" class="headerlink" title="不可变集合"></a>不可变集合</h2><p>和元组差不多，所以不支持自动生效的关系测试的方法，例如只支持关系判断issubclass，集合相减difference，集合相交intersection，集合并集union</p>
<p>元组是有序的，但不可变集合是无序的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#创建</span></span><br><span class="line">fest1=<span class="built_in">frozenset</span>([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(fest1))</span><br><span class="line"><span class="comment">#&lt;class &#x27;frozenset&#x27;&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="流程控制方法"><a href="#流程控制方法" class="headerlink" title="流程控制方法"></a>流程控制方法</h1><p>流程控制有三种方法：分支、循环、跳出</p>
<p>流程的控制通过布尔值来实现，分支和循环都需要对一定的条件进行判断，根据判断结果（布尔值）决定下一步要做什么</p>
<p>布尔值通过比较运算符、逻辑运算符来进行判断是True还是False</p>
<p>不需要判断直接得到True——数字1，非空数据类型与结构，如非空list，非空string，非空set等</p>
<p>不需要判断直接得到False——数字0，空数据类型与结构</p>
<p>博主以前学过51和c，这块就轻松很多，快速带过</p>
<h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><p>分支是根据条件，让有些代码可以被执行或不被执行</p>
<p>分支关键字有：if、else、elif、pass</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#if</span></span><br><span class="line">var = <span class="number">123</span></span><br><span class="line"><span class="keyword">if</span> var == <span class="string">&#x27;111&#x27;</span>:  <span class="comment">#条件不满足</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;123123123&#x27;</span>)   <span class="comment">#条件不满足，不会执行</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;over&#x27;</span>)    <span class="comment">#if外的语句，输出over</span></span><br><span class="line"><span class="comment">#over</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#else二选一：条件不满足则执行，条件满足则不执行，else和if都只能出现一次</span></span><br><span class="line">var = <span class="number">123</span></span><br><span class="line"><span class="keyword">if</span> var == <span class="string">&#x27;111&#x27;</span>:  <span class="comment">#条件不满足</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;123123123&#x27;</span>)   <span class="comment">#条件不满足，不会执行</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;ws&#x27;</span>)  <span class="comment">#条件不满足，可以满足else，输出ws</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;over&#x27;</span>)    <span class="comment">#if外的语句，输出over</span></span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"><span class="comment">#over</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#elif：多分支，但要注意条件必须递增</span></span><br><span class="line">var = <span class="number">68</span></span><br><span class="line"><span class="keyword">if</span> var &gt;= <span class="number">80</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;优秀&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> var &gt;= <span class="number">70</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;良好&#x27;</span>)</span><br><span class="line"><span class="keyword">elif</span> var &gt;= <span class="number">60</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;及格&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;不及格&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;over&#x27;</span>)</span><br><span class="line"><span class="comment">#及格</span></span><br><span class="line"><span class="comment">#over</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#分支嵌套</span></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;ws&#x27;</span>:<span class="string">&#x27;1111&#x27;</span>,<span class="string">&#x27;xhy&#x27;</span>:<span class="string">&#x27;2222&#x27;</span>&#125; <span class="comment">#创建一个包含密码的字典</span></span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;username:&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> name <span class="keyword">in</span> dict1.keys(): <span class="comment">#判断输入的username是否在字典的key中</span></span><br><span class="line">    pwd = <span class="built_in">input</span>(<span class="string">&#x27;password:&#x27;</span>)  </span><br><span class="line">    <span class="keyword">if</span> pwd == dict1[name]: <span class="comment">#判断输入的password是否是字典中username的key对应的value</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;success&#x27;</span>)  <span class="comment">#成功输出success</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;error&#x27;</span>) <span class="comment">#失败输出error</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;no such username&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#pass占位语句，保证语法结果的完整性，不然会报错，最后再对pass部分进行修改</span></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;ws&#x27;</span>:<span class="string">&#x27;1111&#x27;</span>,<span class="string">&#x27;xhy&#x27;</span>:<span class="string">&#x27;2222&#x27;</span>&#125; </span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;username:&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> name <span class="keyword">in</span> dict1.keys(): </span><br><span class="line">    pwd = <span class="built_in">input</span>(<span class="string">&#x27;password:&#x27;</span>)  </span><br><span class="line">    <span class="keyword">if</span> pwd == dict1[name]: </span><br><span class="line">        <span class="keyword">pass</span> <span class="comment">#满足条件则 跳过这部分，什么都不执行</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;no such username&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#三目运算符————简化分支结构的写法 -只能提供二选一</span></span><br><span class="line">var = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;soure:&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;good&#x27;</span> <span class="keyword">if</span> var &gt;= <span class="number">60</span> <span class="keyword">else</span> <span class="string">&#x27;bad&#x27;</span>) <span class="comment">#&quot;真&quot; if 条件判断 else &quot;假&quot;</span></span><br><span class="line"><span class="comment">#good</span></span><br><span class="line">等同于：</span><br><span class="line"><span class="keyword">if</span> var &gt;= <span class="number">60</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;good&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;bad&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><p>让某些代码重复执行</p>
<p>关键字包括for、while</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># while循环</span></span><br><span class="line">list1 = [] <span class="comment">#给列表添加元素</span></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">10</span>: <span class="comment">#判断条件</span></span><br><span class="line">    list1.append(i)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#for循环，一般而言是对序列、字符串等对象进行遍历操作时使用for</span></span><br><span class="line"><span class="comment">#for循环不需要指定退出条件</span></span><br><span class="line">list1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> list1:     <span class="comment">#按顺序访问序列</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i&#125;</span>&#x27;</span>)   <span class="comment">#输出这个i，次数为序列的元素数</span></span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="comment">#for对字符串进行操作</span></span><br><span class="line"><span class="built_in">str</span>=<span class="string">&#x27;wsxhy&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">str</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i&#125;</span>&#x27;</span>) <span class="comment">#依次输出</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#for解包:</span></span><br><span class="line"><span class="comment">#如果遍历的序列每一项元素都包含若干个子元素</span></span><br><span class="line"><span class="comment">#在循环时可以设置固定数量变量来接受</span></span><br><span class="line">var=[(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>),(<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>),(<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>)]</span><br><span class="line"><span class="keyword">for</span> v1,v2,v3 <span class="keyword">in</span> var:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;v1&#125;</span>,<span class="subst">&#123;v2&#125;</span>,<span class="subst">&#123;v3&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="comment">#1,2,3</span></span><br><span class="line"><span class="comment">#4,5,6</span></span><br><span class="line"><span class="comment">#7,8,9</span></span><br><span class="line"><span class="comment">#10,11,12</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#for封包</span></span><br><span class="line">var=[(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>),(<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>),(<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>)]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> var:</span><br><span class="line">	<span class="built_in">print</span>(i) <span class="comment">#直接得到元组</span></span><br><span class="line"><span class="comment">#(1, 2, 3)</span></span><br><span class="line"><span class="comment">#(4, 5, 6)</span></span><br><span class="line"><span class="comment">#(7, 8, 9)</span></span><br><span class="line"><span class="comment">#(10, 11, 12)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#读取字典</span></span><br><span class="line">dict1=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;xhy&#x27;</span>:<span class="string">&#x27;qwe&#x27;</span>,<span class="string">&#x27;esq&#x27;</span>:<span class="string">&#x27;12w&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dict1.items():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;i&#125;</span>&#x27;</span>)  <span class="comment">#分组读出key和value</span></span><br><span class="line"><span class="comment">#(&#x27;ws&#x27;, 1)</span></span><br><span class="line"><span class="comment">#(&#x27;xhy&#x27;, &#x27;qwe&#x27;)</span></span><br><span class="line"><span class="comment">#(&#x27;esq&#x27;, &#x27;12w&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#循环嵌套循环，先执行里层循环，再执行外层循环</span></span><br><span class="line">a = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> a &lt;= <span class="number">10</span>:</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        <span class="built_in">print</span>(i)       <span class="comment">#先执行</span></span><br><span class="line">    a += <span class="number">1</span>   <span class="comment">#跑完了i的循环，才会跑这条命令</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#列表推导式——通过循环快速生成列表</span></span><br><span class="line">list1=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">21</span>)]</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]</span></span><br><span class="line">等同于</span><br><span class="line">list1 = []</span><br><span class="line">i = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">20</span>:</span><br><span class="line">    list1.append(i)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#步长为2</span></span><br><span class="line">list1=[i*<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">21</span>)]</span><br><span class="line"><span class="comment">#结合三目运算符，挑选偶数（i % 2 ==0）</span></span><br><span class="line">list1=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">21</span>) <span class="keyword">if</span> i % <span class="number">2</span> == <span class="number">0</span>]</span><br></pre></td></tr></table></figure>

<h2 id="跳出"><a href="#跳出" class="headerlink" title="跳出"></a>跳出</h2><p>跳出循环的方法，有break与continue</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#break跳出循环</span></span><br><span class="line">i =<span class="number">1</span></span><br><span class="line">list1 = []</span><br><span class="line"><span class="keyword">while</span> i &lt;= <span class="number">20</span>:</span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">5</span>: </span><br><span class="line">        <span class="keyword">break</span>  <span class="comment">#遇到break则直接跳出循环</span></span><br><span class="line">    list1.append(i)</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#continue跳过当前循环，最好用在for中，用在while会容易出问题</span></span><br><span class="line">list1 = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">8</span>): <span class="comment">#在for中没有自增概念</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">5</span>:</span><br><span class="line">        <span class="keyword">continue</span>  <span class="comment">#在i=5的时候不执行这次循环</span></span><br><span class="line">    list1.append(i)</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[1, 2, 3, 4, 6, 7]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#for else——for跑完后执行else语句，如果break了则不执行</span></span><br><span class="line"><span class="comment">#即两个要么都执行，要么都不执行</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">		<span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="comment">#找不到则提示error</span></span><br><span class="line">user_list=&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;xhy&#x27;</span>:<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;qwe&#x27;</span>:<span class="number">3</span>&#125;</span><br><span class="line">name =<span class="built_in">input</span>(<span class="string">&#x27;name:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> user_list:</span><br><span class="line">    <span class="keyword">if</span> i == name:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line"><span class="comment">#如果不使用这种方法，则需要单独定义一个变量来存储布尔值，来为后面判断依据</span></span><br><span class="line">name = <span class="built_in">input</span>(<span class="string">&#x27;name:&#x27;</span>)</span><br><span class="line">find=<span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> user_list:</span><br><span class="line">    <span class="keyword">if</span> i == name:</span><br><span class="line">        find = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    find = <span class="literal">False</span></span><br><span class="line"><span class="keyword">if</span> find <span class="keyword">is</span> <span class="literal">False</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;error&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># while else——返回True时else不被执行，返回False则执行else</span></span><br><span class="line"><span class="comment">#即只执行一个</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:    <span class="comment">#False则执行</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">users=[&#123;<span class="string">&#x27;ws&#x27;</span>:<span class="string">&#x27;ws111&#x27;</span>&#125;,&#123;<span class="string">&#x27;xhy&#x27;</span>:<span class="string">&#x27;xhy111&#x27;</span>&#125;,&#123;<span class="string">&#x27;qwe&#x27;</span>:<span class="string">&#x27;qwe111&#x27;</span>&#125;]</span><br><span class="line"><span class="comment">#判断用户输入是否存在</span></span><br><span class="line"><span class="comment">#如果有，则输入密码，检测密码是否正确</span></span><br><span class="line"><span class="comment">#正确则登录成功</span></span><br><span class="line"></span><br><span class="line">name=<span class="built_in">input</span>(<span class="string">&#x27;username:&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> v1 <span class="keyword">in</span> users:  <span class="comment">#对这个列表进行解包，解包为三个单独的字典</span></span><br><span class="line">    <span class="keyword">if</span> name <span class="keyword">in</span> v1.keys(): <span class="comment">#判断有无用户名</span></span><br><span class="line">        password=<span class="built_in">input</span>(<span class="string">&#x27;password:&#x27;</span>)</span><br><span class="line">        <span class="keyword">if</span> password <span class="keyword">in</span> v1.values(): <span class="comment">#判断输入的密码是否为字典对应key的value</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;login successful&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;password incorrect&#x27;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;no such user&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="通过循环来遍历可迭代对象"><a href="#通过循环来遍历可迭代对象" class="headerlink" title="通过循环来遍历可迭代对象"></a>通过循环来遍历可迭代对象</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">user1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王盛&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;25&#x27;</span>,<span class="string">&#x27;salary&#x27;</span>:<span class="string">&#x27;5000&#x27;</span>,<span class="string">&#x27;address&#x27;</span>:<span class="string">&#x27;sx&#x27;</span>&#125;</span><br><span class="line">user2 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;xhy&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;25&#x27;</span>,<span class="string">&#x27;salary&#x27;</span>:<span class="string">&#x27;5000&#x27;</span>,<span class="string">&#x27;address&#x27;</span>:<span class="string">&#x27;yk&#x27;</span>&#125;</span><br><span class="line">user3 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;zhz&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;25&#x27;</span>,<span class="string">&#x27;salary&#x27;</span>:<span class="string">&#x27;5000&#x27;</span>,<span class="string">&#x27;address&#x27;</span>:<span class="string">&#x27;hz&#x27;</span>&#125;</span><br><span class="line">tb = [user1,user2,user3]</span><br><span class="line"><span class="comment"># print(tb)</span></span><br><span class="line"><span class="comment"># for i in range(len(tb)):</span></span><br><span class="line"><span class="comment">#     print(tb[i].get(&#x27;address&#x27;))</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> user1:</span><br><span class="line">	<span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> user1.values():</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> user1.items():</span><br><span class="line">    <span class="built_in">print</span>(x)</span><br><span class="line"></span><br><span class="line">name</span><br><span class="line">age</span><br><span class="line">salary</span><br><span class="line">address</span><br><span class="line">王盛</span><br><span class="line"><span class="number">25</span></span><br><span class="line"><span class="number">5000</span></span><br><span class="line">sx</span><br><span class="line">(<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;王盛&#x27;</span>)</span><br><span class="line">(<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;25&#x27;</span>)</span><br><span class="line">(<span class="string">&#x27;salary&#x27;</span>, <span class="string">&#x27;5000&#x27;</span>)</span><br><span class="line">(<span class="string">&#x27;address&#x27;</span>, <span class="string">&#x27;sx&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="嵌套循环练习"><a href="#嵌套循环练习" class="headerlink" title="嵌套循环练习"></a>嵌套循环练习</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#</span></span><br><span class="line">输出乘法口诀表：</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> range(1,10):</span><br><span class="line">    <span class="keyword">for</span> m <span class="keyword">in</span> range(1,n+1):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;&#123;0&#125;*&#123;1&#125;=&#123;2&#125;&quot;</span>.format(n,m,n*m),end=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>()</span><br><span class="line">    </span><br><span class="line">1*1=1	</span><br><span class="line">2*1=2	2*2=4	</span><br><span class="line">3*1=3	3*2=6	3*3=9	</span><br><span class="line">4*1=4	4*2=8	4*3=12	4*4=16	</span><br><span class="line">5*1=5	5*2=10	5*3=15	5*4=20	5*5=25	</span><br><span class="line">6*1=6	6*2=12	6*3=18	6*4=24	6*5=30	6*6=36	</span><br><span class="line">7*1=7	7*2=14	7*3=21	7*4=28	7*5=35	7*6=42	7*7=49	</span><br><span class="line">8*1=8	8*2=16	8*3=24	8*4=32	8*5=40	8*6=48	8*7=56	8*8=64	</span><br><span class="line">9*1=9	9*2=18	9*3=27	9*4=36	9*5=45	9*6=54	9*7=63	9*8=72	9*9=81	</span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">输出工资大于6000的人的信息：</span><br><span class="line">user1 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;王盛&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;25&#x27;</span>,<span class="string">&#x27;salary&#x27;</span>:4000,<span class="string">&#x27;address&#x27;</span>:<span class="string">&#x27;sx&#x27;</span>&#125;</span><br><span class="line">user2 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;xhy&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;25&#x27;</span>,<span class="string">&#x27;salary&#x27;</span>:5000,<span class="string">&#x27;address&#x27;</span>:<span class="string">&#x27;yk&#x27;</span>&#125;</span><br><span class="line">user3 = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;zhz&#x27;</span>,<span class="string">&#x27;age&#x27;</span>:<span class="string">&#x27;25&#x27;</span>,<span class="string">&#x27;salary&#x27;</span>:6000,<span class="string">&#x27;address&#x27;</span>:<span class="string">&#x27;hz&#x27;</span>&#125;</span><br><span class="line">tb = [user1,user2,user3]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> tb:</span><br><span class="line">    <span class="keyword">if</span> x.get(<span class="string">&#x27;salary&#x27;</span>) &gt; 5000:</span><br><span class="line">        <span class="built_in">print</span>(x)</span><br></pre></td></tr></table></figure>

<h2 id="循环中的优化"><a href="#循环中的优化" class="headerlink" title="循环中的优化"></a>循环中的优化</h2><ul>
<li>尽量减少循环中不必要的计算</li>
<li>尽量减少内层循环的计算</li>
<li>尽量使用局部变量，查询较快</li>
<li>连接多字符串时，尽量使用join</li>
</ul>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><p>函数是将代码封装起来，实现代码复用的目的</p>
<p>函数的分类：<br>1.内置函数，比如str(),list(),len()<br>2.标准库函数，通过import引入<br>3.第三方函数，Python社区提供的库，也通过import导入<br>4.用户自定义函数</p>
<p>函数的命名规则——同变量命名规则：<br>不能中文、数字不能开头、不能使用空格、不能使用关键字</p>
<h2 id="LEGB规则——查找顺序"><a href="#LEGB规则——查找顺序" class="headerlink" title="LEGB规则——查找顺序"></a>LEGB规则——查找顺序</h2><p>如果某个<code>name</code>映射在局部<code>local</code>命名空间中没有找到，接下来就会在闭包作用域<code>enclosed</code>进行搜索，如果闭包作用域也没有找到，Python就会到全局<code>global</code>命名空间中进行查找，最后会在内建<code>built-in</code>命名空间搜索 （如果一个名称在所有命名空间中都没有找到，就会产生一个<code>NameError</code>）</p>
<p><code>Local</code> 指的就是函数或者类的方法内部</p>
<p><code>Enclosed</code> 指的是嵌套函数（一个函数包裹另一个函数，闭包）</p>
<p><code>Global</code> 指的是模块中的全局变量</p>
<p><code>Built in</code> 指的是Python为自己保留的特殊名称</p>
<h2 id="函数的格式"><a href="#函数的格式" class="headerlink" title="函数的格式"></a>函数的格式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">函数名</span>(<span class="params">[参数列表]</span>):  <span class="comment">#方括号代表可选</span></span><br><span class="line">	<span class="string">&quot;&quot;&quot;文档字符串（注释）&quot;&quot;&quot;</span> 注释可以通过<span class="built_in">help</span>(函数名)来获取</span><br><span class="line">	函数体和语句</span><br><span class="line"></span><br><span class="line">例：</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">a,b,c</span>) <span class="comment">#定义方法，输入形参a b c</span></span><br><span class="line">	<span class="string">&quot;&quot;&quot;相加&quot;&quot;&quot;</span></span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&quot;&#123;0&#125;、&#123;1&#125;、&#123;2&#125;的和是&#123;3&#125;&quot;</span>.<span class="built_in">format</span>(a,b,c,(a+b+c)))</span><br><span class="line">	<span class="comment">#reture sum # 输出返回值</span></span><br><span class="line"></span><br><span class="line">add(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>) <span class="comment">#调用这个方法，输入实参</span></span><br><span class="line"></span><br><span class="line">返回值：</span><br><span class="line"><span class="number">1.</span>没有定义返回值，返回值为<span class="literal">None</span></span><br><span class="line"><span class="number">2.</span>定义了返回值，返回指定的值，可以用来赋值给另外的变量</span><br><span class="line"><span class="number">3.</span>返回值返回后，类型是一致的</span><br><span class="line"></span><br><span class="line">python执行<span class="keyword">def</span>时，会创建一个函数对象，绑定到函数变量名上</span><br><span class="line">函数在定义时，只需要定义形参，且不需要声明类型，不需要制定返回值类型</span><br><span class="line"></span><br><span class="line">函数的内存分析：</span><br><span class="line"><span class="keyword">def</span>定义函数后，系统就创建了相应的函数对象，并通过print_star这个变量进行引用</span><br><span class="line">print_star这个变量存放在栈stack中，他在物理内存中的地址是这个函数对象的<span class="built_in">id</span></span><br><span class="line">在执行了c=print_star后，c也存放在了stack中，**c和print_star是同一个函数对象**</span><br></pre></td></tr></table></figure>

<h3 id="函数变量"><a href="#函数变量" class="headerlink" title="函数变量"></a>函数变量</h3><p>分为全局变量和局部变量</p>
<p>在函数里和不在函数里的区分，很好区分。<br>全局变量降低了函数的通用性和可读性。应尽量避免全局变量的使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>():</span><br><span class="line">  <span class="keyword">global</span> a  <span class="comment">#如果要在函数内改变全局变量的值，增加global关键字声明</span></span><br><span class="line">  <span class="built_in">print</span>(a)  <span class="comment">#打印全局变量a的值  </span></span><br><span class="line">	nolocal a <span class="comment">#声明使用外部函数的局部变量</span></span><br><span class="line">每次调用方法，都会产生一个栈帧</span><br><span class="line">在栈帧中，调用a的值</span><br><span class="line"></span><br><span class="line">a = <span class="number">100</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>(<span class="params">a,b,c</span>):</span><br><span class="line">  <span class="built_in">print</span>(a,b,c)</span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">locals</span>())      <span class="comment">#打印输出的局部变量</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;#&quot;</span>*<span class="number">20</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="built_in">globals</span>())      <span class="comment">#打印输出的全局变量</span></span><br><span class="line">	<span class="keyword">def</span> <span class="title function_">f2</span>(<span class="params">a,b,c</span>):</span><br><span class="line"></span><br><span class="line">f1(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<h3 id="函数参数的传递"><a href="#函数参数的传递" class="headerlink" title="函数参数的传递"></a>函数参数的传递</h3><p>本质上就是：从实参到形参的赋值操作。Python中“一切皆对象”，所有的赋值操作都是“引用的赋值”。所以，Python中参数的传递都是“引用传递”，不是“值传递”。</p>
<ol>
<li>对“可变对象”进行“写操作”，直接作用于原对象本身。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">b = [<span class="number">10</span>,<span class="number">20</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>(<span class="params">m</span>):</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;m:&quot;</span>,<span class="built_in">id</span>(m))    <span class="comment">#b和m是同一个对象</span></span><br><span class="line">  m.append(<span class="number">30</span>)  <span class="comment">#由于m是可变对象，不创建对象拷贝，直接修改这个对象</span></span><br><span class="line">f2(b)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;b:&quot;</span>,<span class="built_in">id</span>(b))</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment">#m: 1464229716552</span></span><br><span class="line"><span class="comment">#b: 1464229716552</span></span><br><span class="line"><span class="comment">#[10, 20, 30]</span></span><br><span class="line">ID一样，说明他们两个是同一个对象，所以是“只引用”，不“新创建”</span><br></pre></td></tr></table></figure>

<p>2 .对“不可变对象”进行“写操作”，会产生一个新的“对象空间”，并用新的值填充这块空间。</p>
<p>传递参数是不可变对象（例如：<code>int</code>、<code>float</code>、字符串、元组、布尔值），实际传递的还是对象的引用。在”赋值操作”时，由于不可变对象无法修改，系统会新创建一个对象。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">100</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>(<span class="params">n</span>):</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;n:&quot;</span>,<span class="built_in">id</span>(n))    <span class="comment">#传递进来的是a对象的地址</span></span><br><span class="line">  n = n+<span class="number">200</span>      <span class="comment">#由于a是不可变对象，因此创建新的对象n</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;n:&quot;</span>,<span class="built_in">id</span>(n))  <span class="comment">#n已经变成了新的对象</span></span><br><span class="line">  <span class="built_in">print</span>(n)</span><br><span class="line">f1(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a:&quot;</span>,<span class="built_in">id</span>(a))</span><br><span class="line"></span><br><span class="line">在赋值之前还是相同的对象，但赋值之后就生成了新的对象，同时也不影响原本的a的值</span><br><span class="line"></span><br><span class="line">如果拷贝的是不可变对象，但不可变对象内的子对象是可变的（比如元组不可变，但元组内有一个列表）</span><br><span class="line">在元组中，记录的是列表的地址，所以调用进行修改时，会直接用列表的地址进行修改</span><br></pre></td></tr></table></figure>

<h2 id="浅拷贝和深拷贝"><a href="#浅拷贝和深拷贝" class="headerlink" title="浅拷贝和深拷贝"></a>浅拷贝和深拷贝</h2><p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517183828.png"></p>
<p>内置函数：<code>copy</code>(浅拷贝)、<code>deepcopy</code>(深拷贝)。</p>
<ol>
<li><strong>浅拷贝：</strong>拷贝对象，但不拷贝子对象的内容，只是拷贝子对象的引用。</li>
<li><strong>深拷贝：</strong>拷贝对象，并且会连子对象的内存也全部（递归）拷贝一份，对子对象的修改不会影响源对象</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">浅拷贝</span><br><span class="line"><span class="comment">#测试浅拷贝和深拷贝</span></span><br><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">testCopy</span>():</span><br><span class="line">  <span class="string">&#x27;&#x27;&#x27;测试浅拷贝&#x27;&#x27;&#x27;</span></span><br><span class="line">  a = [<span class="number">10</span>, <span class="number">20</span>, [<span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">  b = copy.copy(a)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;a&quot;</span>, a)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;b&quot;</span>, b)</span><br><span class="line">  b.append(<span class="number">30</span>)</span><br><span class="line">  b[<span class="number">2</span>].append(<span class="number">7</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;浅拷贝......&quot;</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;a&quot;</span>, a)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;b&quot;</span>, b)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">#</span></span><br><span class="line">a [<span class="number">10</span>, <span class="number">20</span>, [<span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">b [<span class="number">10</span>, <span class="number">20</span>, [<span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">浅拷贝......</span><br><span class="line">a [<span class="number">10</span>, <span class="number">20</span>, [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]]</span><br><span class="line">b [<span class="number">10</span>, <span class="number">20</span>, [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>], <span class="number">30</span>]</span><br><span class="line"></span><br><span class="line">此时b和a是独立的，但是b引用了a的子集</span><br><span class="line">所以修改b本身时a不会变化</span><br><span class="line">但是b引用的a的子集，他们指向的是同一个对象</span><br></pre></td></tr></table></figure>
<p><strong>一个例子</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">深拷贝</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">testDeepCopy</span>():</span><br><span class="line">  <span class="string">&#x27;&#x27;&#x27;测试深拷贝&#x27;&#x27;&#x27;</span></span><br><span class="line">  a = [<span class="number">10</span>, <span class="number">20</span>, [<span class="number">5</span>, <span class="number">6</span>]]</span><br><span class="line">  b = copy.deepcopy(a)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;a&quot;</span>, a)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;b&quot;</span>, b)</span><br><span class="line">  b.append(<span class="number">30</span>)</span><br><span class="line">  b[<span class="number">2</span>].append(<span class="number">7</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;深拷贝......&quot;</span>)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;a&quot;</span>, a)</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;b&quot;</span>, b)</span><br><span class="line">  </span><br><span class="line"><span class="comment">#a [10, 20, [5, 6]]</span></span><br><span class="line"><span class="comment">#b [10, 20, [5, 6]]</span></span><br><span class="line"><span class="comment">#深拷贝......</span></span><br><span class="line"><span class="comment">#a [10, 20, [5, 6]]</span></span><br><span class="line"><span class="comment">#b [10, 20, [5, 6, 7], 30]</span></span><br><span class="line"></span><br><span class="line">深拷贝，子集也不共享</span><br></pre></td></tr></table></figure>
<p><strong>另一个例子</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mobilephone</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,cpu</span>):</span><br><span class="line">        self.cpu = cpu</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CPU</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">c = CPU()</span><br><span class="line">m = Mobilephone(c)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;浅拷贝&quot;</span>)</span><br><span class="line">m2 = copy.copy(m)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;m:&quot;</span>,<span class="built_in">id</span>(m))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;m:&quot;</span>,<span class="built_in">id</span>(m2))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;m中的CPU&quot;</span>,<span class="built_in">id</span>(m.cpu))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;m中的CPU&quot;</span>,<span class="built_in">id</span>(m2.cpu))</span><br><span class="line"><span class="comment"># m: 2013639866072</span></span><br><span class="line"><span class="comment"># m: 2013639866352</span></span><br><span class="line"><span class="comment"># m中的CPU 2013639866016</span></span><br><span class="line"><span class="comment"># m中的CPU 2013639866016</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;深拷贝&quot;</span>)</span><br><span class="line">m3 = copy.deepcopy(m)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;m:&quot;</span>,<span class="built_in">id</span>(m))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;m:&quot;</span>,<span class="built_in">id</span>(m3))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;m中的CPU&quot;</span>,<span class="built_in">id</span>(m.cpu))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;m中的CPU&quot;</span>,<span class="built_in">id</span>(m3.cpu)) <span class="comment">#递归拷贝</span></span><br><span class="line"><span class="comment"># m: 2013639866072</span></span><br><span class="line"><span class="comment"># m: 2013639930656</span></span><br><span class="line"><span class="comment"># m中的CPU 2013639866016</span></span><br><span class="line"><span class="comment"># m中的CPU 2013640030864</span></span><br></pre></td></tr></table></figure>
<h3 id="main函数与一些常识"><a href="#main函数与一些常识" class="headerlink" title="main函数与一些常识"></a>main函数与一些常识</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#定义main函数，主函数是程序的入口，相当于c语言的char main()</span></span><br><span class="line"><span class="comment">#在main上面，要定义函数与类</span></span><br><span class="line">list1=[<span class="string">&#x27;wadsad&#x27;</span>, <span class="string">&#x27;qweqwe&#x27;</span>]</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">list_name</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> list_name:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;list_name.index(i) + <span class="number">1</span>&#125;</span>.<span class="subst">&#123;i&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>: <span class="comment">#主函数</span></span><br><span class="line">    show(list1)</span><br><span class="line"><span class="comment">#1.wadsad</span></span><br><span class="line"><span class="comment">#2.qweqwe</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#函数的帮助文档</span></span><br><span class="line"><span class="comment">#可以通过ctrl+点击打开python的源代码，后面的备注就是函数的说明文档</span></span><br><span class="line"><span class="built_in">help</span>(<span class="built_in">print</span>) <span class="comment">#也可以通过help()来查看帮助文档</span></span><br><span class="line"><span class="comment">#可以给自己定义的函数添加备注，说明作用</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">list_name</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    :param list_name:</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> list_name:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;list_name.index(i) + <span class="number">1</span>&#125;</span>.<span class="subst">&#123;i&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="comment">#通过__doc__也可以对帮助文档进行查看</span></span><br><span class="line"><span class="built_in">print</span>(show.__doc__)</span><br><span class="line"><span class="comment">#    :param list_name:</span></span><br><span class="line"><span class="comment">#    :return:</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#return 函数的返回值</span></span><br><span class="line"><span class="comment">#return是什么，函数就是什么</span></span><br><span class="line"><span class="comment">#return会立即执行，后面的语句不会执行</span></span><br><span class="line"><span class="comment">#可以一次return多个值</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    v1 = <span class="number">1</span></span><br><span class="line">    v2 = <span class="number">2</span></span><br><span class="line">    v3 = <span class="number">3</span></span><br><span class="line">    <span class="keyword">return</span> v1,v2,v3 <span class="comment">#返回多个值</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>: </span><br><span class="line">    var1,*var2 = fun() <span class="comment">#解包</span></span><br><span class="line">    <span class="built_in">print</span>(var2)  <span class="comment">#如果没有return，则会自动return一个空值None</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="传参"><a href="#传参" class="headerlink" title="传参"></a>传参</h2><p>参数的类型：</p>
<ul>
<li>位置参数——调用时实参按顺序传送，必须一对一匹配</li>
<li>默认值参数——在定义时就放在函数中的参数，且必须在位置参数后面</li>
<li>命名参数——在调用时指定，通过名字来区分</li>
<li>可变参数：——要放到所有参数最后</li>
</ul>
<ol>
<li><code>param</code>（一个星号），将多个参数收集到一个“元组”对象中。</li>
<li><code>*param</code>（两个星号），将多个参数收集到一个“字典”对象中。</li>
</ol>
<ul>
<li>强制命名参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#形参与实参</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">var</span>):  <span class="comment">#形参（举例）</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;var&#125;</span>&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    var1 = <span class="built_in">input</span>(<span class="string">&#x27;press:&#x27;</span>)</span><br><span class="line">    fun(var1)  <span class="comment">#真实传入的是实参</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#位置参数————按照顺序一一对应的传递参数，最基础的传参形式</span></span><br><span class="line"><span class="comment">#形参和实参位置要一一对应、且数量要一致</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">var1,var2</span>):</span><br><span class="line">    v1 = var1 * <span class="number">2</span></span><br><span class="line">    v2 = var2 + <span class="number">10</span></span><br><span class="line">    <span class="keyword">return</span> v1,v2 </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fun(<span class="number">123</span>,<span class="number">456</span>) <span class="comment">#按照顺序把123传入var1，把456传入var2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#关键字参数————参数名=值的方式传递参数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">var1,var2,var3</span>):</span><br><span class="line">    <span class="built_in">print</span>(var1,var2,var3)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fun(var2=<span class="number">456</span>,var1=<span class="number">123</span>,var3=<span class="number">789</span>) <span class="comment">#直接将var1作为关键字在函数里进行赋值，来传参</span></span><br><span class="line">		fun(<span class="number">123</span>,<span class="number">456</span>,var3=<span class="number">789</span>) <span class="comment">#混合使用，需要把关键字参数的部分放到后面，不推荐使用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#默认值参数————给形参指定一个默认值</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">var3,var2,var1=<span class="number">3</span></span>): <span class="comment">#默认值参数需要放在形参列表的最后</span></span><br><span class="line">    <span class="built_in">print</span>(var1,var2,var3)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">		fun(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment">#4 2 1</span></span><br><span class="line">    fun(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment">#3 3 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#参数收集————当参数个数不确定时，统一把参数收集起来，封装为元组</span></span><br><span class="line"><span class="comment">#每个函数只能有一个这种参数</span></span><br><span class="line"><span class="comment">#参数收集类函数尽量放到最后，后面的参数必须用关键字参数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">v1,v2,*args,v3</span>): <span class="comment">#使用*，参考封包解包，一般使用args</span></span><br><span class="line">    <span class="built_in">print</span>(args)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fun(<span class="number">123</span>,<span class="number">12345</span>,<span class="string">&#x27;qwe&#x27;</span>,<span class="literal">True</span>,v3=<span class="number">123</span>)</span><br><span class="line"><span class="comment">#(&#x27;qwe&#x27;, True)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#关键字参数收集——不确定个数的关键字参数，统一收集，封装成字典</span></span><br><span class="line"><span class="comment">#每个函数只能有一个这种参数</span></span><br><span class="line"><span class="comment">#必须放到最后</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">v1,**kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(kwargs)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fun(<span class="literal">True</span>,name=<span class="string">&#x27;ws&#x27;</span>,age=<span class="number">24</span>,passwd=<span class="string">&#x27;ws111&#x27;</span>)</span><br><span class="line"><span class="comment">#&#123;&#x27;name&#x27;: &#x27;ws&#x27;, &#x27;age&#x27;: 24, &#x27;passwd&#x27;: &#x27;ws111&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#逆向参数收集——将序列对象作为实参传递，序列被拆分并赋值给形参</span></span><br><span class="line"><span class="comment">#实参为列表或元组时，数量要相同</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">var1,*var2</span>): <span class="comment">#</span></span><br><span class="line">    <span class="built_in">print</span>(var1,var2)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    list1 = [<span class="string">&#x27;ws&#x27;</span>,<span class="string">&#x27;xhy&#x27;</span>,<span class="number">111</span>,<span class="number">222</span>]</span><br><span class="line">    fun(*list1)</span><br><span class="line"><span class="comment">#ws (&#x27;xhy&#x27;, 111, 222)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#实参为字典时，key必须与形参名相同</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">var1,var2,**var3</span>):</span><br><span class="line">		<span class="built_in">print</span>(var1,var2,var3)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">		dict1 = &#123;<span class="string">&#x27;var1&#x27;</span>:<span class="string">&#x27;ws111&#x27;</span>,<span class="string">&#x27;var2&#x27;</span>:<span class="literal">True</span>,<span class="string">&#x27;v1&#x27;</span>:<span class="string">&#x27;v1&#x27;</span>,<span class="string">&#x27;v2&#x27;</span>:<span class="string">&#x27;v2&#x27;</span>&#125;</span><br><span class="line">		fun(**dict1)</span><br><span class="line"><span class="comment">#ws111 True &#123;&#x27;v1&#x27;: &#x27;v1&#x27;, &#x27;v2&#x27;: &#x27;v2&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#函数传递可变类型的对象时产生的影响</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params">add</span>):</span><br><span class="line">    add.append(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> add</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    list1=[]</span><br><span class="line">    list2=fun(list1)</span><br><span class="line">    <span class="built_in">print</span>(list1)</span><br><span class="line">    <span class="built_in">print</span>(list2)</span><br><span class="line"><span class="comment">#[&#x27;1&#x27;]</span></span><br><span class="line"><span class="comment">#[&#x27;1&#x27;]</span></span><br><span class="line"><span class="comment">#通过引用，可以让局部改变全局的对象</span></span><br></pre></td></tr></table></figure>

<h2 id="lambda表达式和匿名函数"><a href="#lambda表达式和匿名函数" class="headerlink" title="lambda表达式和匿名函数"></a>lambda表达式和匿名函数</h2><p>用以在一行中定义函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#主体只能放一个语句、自动返回return主体语句的结果</span></span><br><span class="line"><span class="comment">#支持各种参数与传参形式</span></span><br><span class="line"><span class="comment">#主要用以简化代码，可以将函数赋值到变量</span></span><br><span class="line">fun = <span class="keyword">lambda</span> v1,v2 : v1*v2</span><br><span class="line"><span class="built_in">print</span>(fun(<span class="number">11</span>,<span class="number">45</span>))</span><br><span class="line"><span class="comment">#495</span></span><br><span class="line">fun = <span class="keyword">lambda</span> v1,v2=<span class="number">20</span> : v1 * v2</span><br><span class="line"><span class="built_in">print</span>(fun(<span class="number">10</span>))</span><br><span class="line"><span class="comment">#200</span></span><br><span class="line"></span><br><span class="line">g = [<span class="keyword">lambda</span> a:a*<span class="number">2</span>,<span class="keyword">lambda</span> b:b*<span class="number">3</span>,<span class="keyword">lambda</span> c:c*<span class="number">4</span>]</span><br><span class="line"><span class="built_in">print</span>(g[<span class="number">0</span>](<span class="number">6</span>),g[<span class="number">1</span>](<span class="number">7</span>),g[<span class="number">2</span>](<span class="number">8</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#12 21 32</span></span><br></pre></td></tr></table></figure>

<h2 id="eval函数"><a href="#eval函数" class="headerlink" title="eval函数"></a>eval函数</h2><p>功能：将字符串<code>str</code>当成有效的表达式来求值并返回计算结果。</p>
<p>语法： <code>eval(source[, globals[, locals]]) -&gt; value</code></p>
<blockquote>
<p>参数：</p>
<ol>
<li><code>source</code>：一个Python表达式或函数<code>compile()</code>返回的代码对象</li>
<li><code>globals</code>：可选。必须是<code>dictionary</code></li>
<li><code>locals</code>：可选。任意映射对象</li>
</ol>
</blockquote>
<p>将一个字符串当做代码来执行</p>
<p><code>eval函数</code>会将字符串当做语句来执行，因此会被注入安全隐患。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#测试eval()函数</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;print(&#x27;abcde&#x27;)&quot;</span></span><br><span class="line"><span class="built_in">eval</span>(s)</span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span></span><br><span class="line">b = <span class="number">20</span></span><br><span class="line">c = <span class="built_in">eval</span>(<span class="string">&quot;a+b&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line">dict1 = <span class="built_in">dict</span>(a=<span class="number">100</span>,b=<span class="number">200</span>)</span><br><span class="line"></span><br><span class="line">d = <span class="built_in">eval</span>(<span class="string">&quot;a+b&quot;</span>,dict1)</span><br><span class="line"><span class="built_in">print</span>(d)</span><br></pre></td></tr></table></figure>

<h2 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h2><p>递归(recursion)是一种常见的算法思路，在很多算法中都会用到。比如：深度优先搜索（DFS:Depth First Search）等。</p>
<ol>
<li><p>终止条件</p>
<p> 表示递归什么时候结束。一般用于返回值，不再调用自己。</p>
</li>
<li><p>递归步骤</p>
<p> 把第n步的值和第n-1步相关联。</p>
</li>
</ol>
<p>递归函数由于会创建大量的函数对象、过量的消耗内存和运算能力。在处理大量数据时，谨慎使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">my_recursion</span>(<span class="params">n</span>):</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;start:&quot;</span> + <span class="built_in">str</span>(n))</span><br><span class="line">  <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;recursion over!&quot;</span>)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    my_recursion(n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;end:&quot;</span> + <span class="built_in">str</span>(n))</span><br><span class="line"></span><br><span class="line">my_recursion(<span class="number">3</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="嵌套函数"><a href="#嵌套函数" class="headerlink" title="嵌套函数"></a>嵌套函数</h2><p>在函数里定义函数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">outer</span>():</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;outer running...&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;inner running...&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  inner()</span><br><span class="line"></span><br><span class="line">outer()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>应用场景：</p>
<ol>
<li><p>封装 - 数据隐藏</p>
<p> 外部无法访问“嵌套函数”。</p>
</li>
<li><p>贯彻 DRY(Don’t Repeat Yourself) 原则</p>
</li>
<li><p>嵌套函数，可以让我们在函数内部避免重复代码。</p>
</li>
<li><p>闭包</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">printName</span>(<span class="params">isChinese,name,familyName</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">inner_print</span>(<span class="params">a,b</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;0&#125; &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(a,b))</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> isChinese:</span><br><span class="line">    inner_print(familyName,name)</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    inner_print(name,familyName)</span><br><span class="line"></span><br><span class="line">printName(<span class="literal">True</span>,<span class="string">&quot;小七&quot;</span>,<span class="string">&quot;高&quot;</span>)</span><br><span class="line">printName(<span class="literal">False</span>,<span class="string">&quot;George&quot;</span>,<span class="string">&quot;Bush&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="del-析构方法和垃圾回收机制"><a href="#del-析构方法和垃圾回收机制" class="headerlink" title="__del__析构方法和垃圾回收机制"></a>__del__析构方法和垃圾回收机制</h2><p>Python实现自动的垃圾回收，当对象没有被引用时（引用计数为0），由垃圾回收器调用<code>__del__()</code>。</p>
<p><code>__del__()</code>称为“析构方法”，用于实现对象被销毁时所需的操作。比如：释放对象占用的资源，例如：打开的文件资源、网络连接等。</p>
<p>也可以通过<code>del</code>删除对象，从而保证调用<code>__del__()</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__del__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;User deleted:&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(self))</span><br><span class="line">p1 =User()</span><br><span class="line">p2 =User()</span><br><span class="line"><span class="keyword">del</span> p1</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;结束&quot;</span>)</span><br><span class="line"></span><br><span class="line">User deleted:&lt;__main__.User <span class="built_in">object</span> at <span class="number">0x000001E536E17208</span>&gt;</span><br><span class="line">结束</span><br><span class="line">User deleted:&lt;__main__.User <span class="built_in">object</span> at <span class="number">0x000001E536E17160</span>&gt;</span><br></pre></td></tr></table></figure>

<h2 id="call-方法和可调用对象"><a href="#call-方法和可调用对象" class="headerlink" title="__call__方法和可调用对象"></a>__call__方法和可调用对象</h2><p>Python 中，凡是可以将 () 直接应用到自身并执行，都称为可调用对象。</p>
<p>可调用对象包括自定义的函数、Python 内置函数、以及实例对象</p>
<p>该方法使得实例对象可以像调用普通函数那样，以“对象名()”的形式使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f1</span>():</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;f1&quot;</span>)</span><br><span class="line">f1()  <span class="comment">#本质也是调用了__call__()方法</span></span><br><span class="line"><span class="comment"># f1</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">F2</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">f2 = F2()</span><br><span class="line">f2()</span><br><span class="line"><span class="comment"># 报错，无法被调用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">F3</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;f3&quot;</span>)</span><br><span class="line">f3 = F3()</span><br><span class="line">f3()</span><br><span class="line"><span class="comment"># f3</span></span><br><span class="line">这里就使用了call方法</span><br><span class="line"></span><br><span class="line">文言一心举例：</span><br><span class="line">在实例化之后，就可以直接调用实例，此时就会调用实例的父类的__call__方法</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CallableClass</span>:  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value</span>):  </span><br><span class="line">        self.value = value  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self, *args, **kwargs</span>):  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Called with <span class="subst">&#123;args&#125;</span> and <span class="subst">&#123;kwargs&#125;</span>&quot;</span>)  </span><br><span class="line">        <span class="keyword">return</span> self.value * <span class="number">2</span>  <span class="comment"># 示例：将实例的值乘以2并返回  </span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># 创建一个CallableClass的实例  </span></span><br><span class="line">instance = CallableClass(<span class="number">5</span>)  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 调用实例（就像调用函数一样）  </span></span><br><span class="line">result = instance(<span class="number">3</span>, <span class="number">4</span>, key=<span class="string">&#x27;value&#x27;</span>)  <span class="comment"># 这会调用instance的__call__方法  </span></span><br><span class="line"><span class="built_in">print</span>(result)  <span class="comment"># 输出：10（因为5 * 2 = 10，而不是与传入的参数3, 4有关）</span></span><br></pre></td></tr></table></figure>

<h1 id="面向对象编程"><a href="#面向对象编程" class="headerlink" title="面向对象编程"></a>面向对象编程</h1><p><strong>面向过程和面向对象的区别</strong></p>
<p>面向过程和面向对象都是对软件分析、设计和开发的一种思想,它指导着人们以不同的方式去分析、设计和开发软件。C语言是一种典型的面向过程语言，Java是一种典型的面向对象语言。</p>
<p>面向过程适合简单、不需要协作的事务，重点关注如何执行。面向过程时，我们首先思考“怎么按步骤实现？”</p>
<p>面向对象(Oriented-Object)思想更契合人的思维模式。我们首先思考的是”怎么设计这个事物？”。比如思考造车，我们就会先思考“车怎么设计？”，而不是“怎么按步骤造车的问题”。这就是思维方式的转变。</p>
<p>面向对象可以帮助我们从宏观上把握、从整体上分析整个系统。 但是，具体到实现部分的微观操作（就是一个个方法），仍然需要面向过程的思路去处理。</p>
<h2 id="对象的组成"><a href="#对象的组成" class="headerlink" title="对象的组成"></a>对象的组成</h2><p>对象由三部分组成：标识、类型、值</p>
<p>对象的标识是这个对象在内存中的地址，通过id方法，来获取对象的标识<br>类型 变量类型</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184236.png"></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#返回数据类型的函数type</span></span><br><span class="line"><span class="string">var=123</span></span><br><span class="line"><span class="string">print(type(var))</span></span><br></pre></td></tr></table></figure>

<h2 id="引用的本质"><a href="#引用的本质" class="headerlink" title="引用的本质"></a>引用的本质</h2><p>在Python中，变量也称为：对象的引用(reference)。</p>
<p>变量存储的就是对象的地址：<br>变量位于栈stack内存（按顺序存放），对象位于堆heap内存（乱放）</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184254.png"></p>
<h2 id="面向对象的基本概念"><a href="#面向对象的基本概念" class="headerlink" title="面向对象的基本概念"></a>面向对象的基本概念</h2><blockquote>
<p>类class：为了做区分而创建的一些特性的群体<br>子类：通过继承创建，为了在类下做更清晰的区分<br>对象object：建立在类的基础上，在某一类或子类下的个体<br>实例instance：约等于对象，xx对象是xx类的实例化<br>在python中，一切都是对象；凡是对象，都是某个类的实例</p>
</blockquote>
<p>使用面向对象编程，在做好细分之后，能够更快实现功能，更容易维护，类越细分，对象就越精细</p>
<p>类1  →  对象1，对象2<br>↓<br>子类1  →  对象1，对象2<br>子类2…<br>子类3…</p>
<p>通过类来定义数据类型的属性（数值）和方法，类将属性和方法打包在一起</p>
<h2 id="类、类的属性、类的方法"><a href="#类、类的属性、类的方法" class="headerlink" title="类、类的属性、类的方法"></a>类、类的属性、类的方法</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">举例：</span><br><span class="line">类————管理员、用户</span><br><span class="line">类的属性————是类里的变量。反映该类对象的信息，例如账号、密码、名字等</span><br><span class="line">类的方法————是类里的函数。反映该类对象能做的事，例如账号权限、添加用户、修改密码等，是一种方法，比如<span class="built_in">list</span>.append，是自己定义的函数</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建类————使用class关键字</span></span><br><span class="line"><span class="comment">#class 类名() 括号代表要继承，在规范上，类名的首字母要大写</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ws</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">XhyClass</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建对象——根据类创建一个属于这个类的对象</span></span><br><span class="line">v1 = Ws() <span class="comment">#v1是由Ws这个类实例化生成的对象，v1这个对象是Ws类的实例</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加类的属性，一般都是类的可变属性</span></span><br><span class="line"><span class="comment">#添加一个不变的属性</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>: <span class="comment">#通过__init__构造方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):  <span class="comment">#self代表要被实例化的对象，必填</span></span><br><span class="line">        self.username = <span class="string">&#x27;ws&#x27;</span>  <span class="comment">#为其赋值</span></span><br><span class="line">        self.age = <span class="string">&#x27;24&#x27;</span></span><br><span class="line">        self.password = <span class="string">&#x27;ws111&#x27;</span></span><br><span class="line">user1 = User_info()</span><br><span class="line"><span class="built_in">print</span>(user1.password)</span><br><span class="line"><span class="comment">#ws111</span></span><br><span class="line"><span class="comment">#添加类的可变属性，这样可以适用更多user</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,username,age,password</span>):</span><br><span class="line">        self.username = username</span><br><span class="line">        self.age = age</span><br><span class="line">        self.password = password</span><br><span class="line"></span><br><span class="line">user1 = User_info(<span class="string">&#x27;ws&#x27;</span>,<span class="number">24</span>,<span class="string">&#x27;ws111&#x27;</span>)</span><br><span class="line">user2 = User_info(<span class="string">&#x27;xhy&#x27;</span>,<span class="number">23</span>,<span class="string">&#x27;xhy111&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(user1.username)</span><br><span class="line"><span class="built_in">print</span>(user2.password)</span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"><span class="comment">#xhy111</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#添加类的方法，在创建了对象之后，就可以直接使用类的方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,password,age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.password = password</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name, self.password)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.age)</span><br><span class="line">user1 = User_info(<span class="string">&#x27;ws&#x27;</span>,<span class="string">&#x27;ws111&#x27;</span>,age=<span class="number">24</span>)</span><br><span class="line">user1.show() <span class="comment">#这个类实例化之后，可以直接使用方法</span></span><br><span class="line"><span class="comment">#ws ws111</span></span><br><span class="line">user1.show_age()</span><br><span class="line"><span class="comment">#24</span></span><br><span class="line"><span class="comment">#在方法中定义的类的属性，可以在全局进行调用</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">		<span class="keyword">def</span> <span class="title function_">show_age</span>(<span class="params">self</span>):</span><br><span class="line">		    self.age = <span class="number">24</span>  <span class="comment">####在方法中定义类的属性</span></span><br><span class="line">		    <span class="built_in">print</span>(self.age)</span><br><span class="line">user1.show_age()</span><br><span class="line"><span class="comment">#24</span></span><br><span class="line"></span><br><span class="line">也可以在实例中新添加类的属性，这个类的属性仅对于那个实例有效</span><br></pre></td></tr></table></figure>

<h3 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h3><p>实例方法的本质是调用实例自己，如果没有实例则无法调用，这也是最普遍的方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#实例方法————首个参数为self的方法，绑定给该类的实例调用，类本身不能调用</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self,c</span>):</span><br><span class="line">        self.c = c</span><br><span class="line">        <span class="built_in">print</span>(c)</span><br><span class="line">user1 = User_info(<span class="string">&#x27;ws&#x27;</span>) <span class="comment">#在实例方法中，必须要创建一个实例，才能使用类中的方法</span></span><br><span class="line">user1.show(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">user1.show(<span class="number">1</span>)的本质是User_info.show(user1,<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">其他操作：</span><br><span class="line"><span class="built_in">dir</span>(obj)可以获得对象的所有属性、方法</span><br><span class="line">obj.__dict__ 对象的属性字典</span><br><span class="line"><span class="keyword">pass</span> 空语句</span><br><span class="line"><span class="built_in">isinstance</span>（对象,类型） 判断“对象”是不是“指定类型”</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(User_info))</span><br><span class="line"><span class="comment"># [&#x27;__class__&#x27;, &#x27;__delattr__&#x27;, &#x27;__dict__&#x27;, &#x27;__dir__&#x27;, &#x27;__doc__&#x27;, &#x27;__eq__&#x27;, &#x27;__format__&#x27;, &#x27;__ge__&#x27;, &#x27;__getattribute__&#x27;, &#x27;__gt__&#x27;, &#x27;__hash__&#x27;, &#x27;__init__&#x27;, &#x27;__init_subclass__&#x27;, &#x27;__le__&#x27;, &#x27;__lt__&#x27;, &#x27;__module__&#x27;, &#x27;__ne__&#x27;, &#x27;__new__&#x27;, &#x27;__reduce__&#x27;, &#x27;__reduce_ex__&#x27;, &#x27;__repr__&#x27;, &#x27;__setattr__&#x27;, &#x27;__sizeof__&#x27;, &#x27;__str__&#x27;, &#x27;__subclasshook__&#x27;, &#x27;__weakref__&#x27;, &#x27;show&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(user1.__dict__)</span><br><span class="line"><span class="comment"># &#123;&#x27;name&#x27;: &#x27;ws&#x27;, &#x27;c&#x27;: 1&#125;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(user1,User_info))</span><br><span class="line"><span class="comment"># True</span></span><br></pre></td></tr></table></figure>

<h3 id="类对象、类方法的内存分析"><a href="#类对象、类方法的内存分析" class="headerlink" title="类对象、类方法的内存分析"></a>类对象、类方法的<strong>内存分析</strong></h3><p>1.类对象A的本质是一个type为’type’的对象，A的value包括它的属性和方法</p>
<p>2.A实例化时，通过构造方法__init__，以A为模板进行创建实例B</p>
<p>3.实例对象B的type为A，B通过A的模板生成属性和方法，作为B的value，其中变量是新的，函数依然指向A的函数</p>
<p>4.在A中定义的属性如果没有被构造，那么这些属性就是A的类属性</p>
<p>实例化的对象，都是通过这一个类对象的信息进行创建</p>
<h3 id="类方法"><a href="#类方法" class="headerlink" title="类方法"></a>类方法</h3><p>在类中，无法直接调用实例中的属性和方法；如果要调用，需要将其实例化之后才能调用</p>
<p>类方法可以直接通过类调用方法，因此支持在不实例化的情况下创建并返回类的对象</p>
<p>类方法————首个参数为cls，并且以classmethod装饰的方法<br>cls就是class的缩写，表示这个类本身<br>前面的self表示就是实例本身</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#可以直接使用类来调用如User_info.show，但无法调用类的参数</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">cls</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line">User_info.show()</span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"><span class="meta">    @classmethod </span><span class="comment">#类方法的装饰器</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_name</span>(<span class="params">cls, age</span>):</span><br><span class="line">        <span class="built_in">print</span>(age)</span><br><span class="line">User_info.show_name(<span class="number">24</span>)</span><br><span class="line"><span class="comment">#24</span></span><br></pre></td></tr></table></figure>

<h3 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h3><p>静态方法，使用staticmethod装饰，可以直接调用，基本和类无关了。</p>
<p>无法使用类的属性和方法，也无法使用实例属性和方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show_name</span>(): <span class="comment">#需要传参则定义形参</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;11111&#x27;</span>)</span><br><span class="line">User_info.show_name()</span><br><span class="line"><span class="comment">#11111</span></span><br></pre></td></tr></table></figure>

<h3 id="方法没有重载"><a href="#方法没有重载" class="headerlink" title="方法没有重载"></a>方法没有重载</h3><p>如果我们在类体中定义了多个重名的方法，只有最后一个方法有效。<br>不要使用重名的方法</p>
<h3 id="方法的动态性"><a href="#方法的动态性" class="headerlink" title="方法的动态性"></a>方法的动态性</h3><p>Python是动态语言，可以动态的为类添加新的方法，或者动态的修改类的已有的方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">work</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;work&#x27;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">play1</span>(<span class="params">s</span>):</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;play&#x27;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">work2</span>(<span class="params">s</span>):</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;work2&#x27;</span>)</span><br><span class="line"></span><br><span class="line">User.play = play1 <span class="comment"># 新加方法</span></span><br><span class="line">User.work = work2 <span class="comment"># 重新定义方法</span></span><br><span class="line"></span><br><span class="line">p1 = User()</span><br><span class="line">p1.work()</span><br><span class="line">p1.play()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">work2</span></span><br><span class="line"><span class="string">play</span></span><br><span class="line"><span class="string">如果不在函数里加一个s，添加到类中时，就需要添加self参数</span></span><br><span class="line"><span class="string">如果定义的时候没有添加参数，就会报错</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="私有属性和私有方法"><a href="#私有属性和私有方法" class="headerlink" title="私有属性和私有方法"></a>私有属性和私有方法</h3><p>python对类的成员没有严格的访问控制限制。所谓私有其实是约定的</p>
<p>通常我们约定，两个下划线开头的属性是私有的(private)。其他为公共的(public)。</p>
<ol>
<li>类内部可以访问私有属性(方法)</li>
<li>类外部不能直接访问私有属性(方法)<br>3.类外部可以通过<code>_类名__私有属性(方法)名</code>”访问私有属性(方法)</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Wangsheng</span>:</span><br><span class="line">  __name = <span class="string">&#x27;ws&#x27;</span> <span class="comment"># 它的私有属性</span></span><br><span class="line">  address = <span class="string">&#x27;sx&#x27;</span></span><br><span class="line">  <span class="comment"># 解释器运行时，将__name转成了_Wangsheng__name</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">    self.name = name</span><br><span class="line">    self.age = age</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">output</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(Wangsheng.__name)</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__work</span>(<span class="params">self</span>): <span class="comment"># 私有属性</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;work&#x27;</span>)</span><br><span class="line"></span><br><span class="line">a = Wangsheng(<span class="string">&#x27;wangsheng&#x27;</span>,<span class="string">&#x27;25&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(Wangsheng._Wangsheng__name) <span class="comment"># ws</span></span><br><span class="line"><span class="built_in">print</span>(Wangsheng.address) <span class="comment"># 外部调用公有属性 sx</span></span><br><span class="line">a.output() <span class="comment"># 类内部调用私有属性 ws</span></span><br><span class="line">a._Wangsheng__work() <span class="comment"># 外部调用私有方法 work</span></span><br></pre></td></tr></table></figure>

<h3 id="property装饰器"><a href="#property装饰器" class="headerlink" title="@property装饰器"></a>@property装饰器</h3><p>如果要限制一些数值的大小，可以使用@property装饰器，将一个方法的调用变成属性调用</p>
<p>在对属性做读操作和写操作的时候使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">修改前：</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">    self.name = name</span><br><span class="line">    self.age = age</span><br><span class="line">example1 = Example(<span class="string">&#x27;ws&#x27;</span>,<span class="number">25</span>)</span><br><span class="line"><span class="built_in">print</span>(example1.age) <span class="comment"># 25</span></span><br><span class="line">example1.age = <span class="number">18</span></span><br><span class="line"><span class="built_in">print</span>(example1.age) <span class="comment"># 18</span></span><br><span class="line">这里可以直接进行修改就很不安全</span><br><span class="line">所以可以将其转变为私有属性</span><br><span class="line"></span><br><span class="line">使用私有属性：</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">    self.name = name</span><br><span class="line">    self.__age = age</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">return</span> self.__age</span><br><span class="line">example1 = Example(<span class="string">&#x27;ws&#x27;</span>,<span class="number">25</span>)</span><br><span class="line"><span class="built_in">print</span>(example1.age())</span><br><span class="line"></span><br><span class="line">使用装饰器：</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">    self.name = name</span><br><span class="line">    self.__age = age</span><br><span class="line"><span class="meta">  @property</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">return</span> self.__age</span><br><span class="line"><span class="meta">  @age.setter</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self,age</span>): <span class="comment"># 传参进去修改</span></span><br><span class="line">    <span class="keyword">if</span> <span class="number">18</span>&lt;age&lt;<span class="number">25</span>:</span><br><span class="line">      self.__age = age</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;录入错误&#x27;</span>)</span><br><span class="line">example1 = Example(<span class="string">&#x27;ws&#x27;</span>,<span class="number">25</span>)</span><br><span class="line"><span class="built_in">print</span>(example1.age) <span class="comment">#25 通过函数age而不是值去读取</span></span><br><span class="line">example1.age = <span class="number">19</span></span><br><span class="line"><span class="built_in">print</span>(example1.age) <span class="comment">#19 #通过函数age去录入方法</span></span><br></pre></td></tr></table></figure>

<h3 id="属性和方法命名"><a href="#属性和方法命名" class="headerlink" title="属性和方法命名"></a>属性和方法命名</h3><ul>
<li>_xxx：保护成员，不能用from module import *导入，只有类对象和子类对象能访问这些成员</li>
<li>__xxx__：系统定义的特殊成员</li>
<li>__xxx： 类中的私有成员，只有类对象自己能访问，子类对象也不能访问。（但，在类外部可以通过对象名. _类名__xxx这种特殊方式访问。Python不存在严格意义的私有成员）</li>
</ul>
<p>类相关：</p>
<ol>
<li>类名首字母大写，多个单词之间采用驼峰原则。</li>
<li>实例名、模块名采用小写，多个单词之间采用下划线隔开</li>
<li>每个类，应紧跟“文档字符串”，说明这个类的作用</li>
<li>可以用空行组织代码，但不能滥用。在类中，使用一个空行隔开方法；模块中，使用两个空行隔开多个类</li>
</ol>
<h3 id="None变量"><a href="#None变量" class="headerlink" title="None变量"></a>None变量</h3><ul>
<li>None在python中也是对象，type为NoneType，可以将None赋值给任何对象，多个None的对象指向同一个id</li>
<li>None和无论什么想比都是FALSE</li>
<li>if判断时，空列表空字典空元组0等都会转换成FALSE</li>
<li>不能直接创建None类型的对象</li>
</ul>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><p>子类继承父类之后可以直接使用父类定义好的属性和方法</p>
<p>创建类时，默认的类是object<br>User001—&gt;User—&gt;object</p>
<ul>
<li>子类不重写__int__，实例化子类时，会自动调用父类的__int__</li>
<li>子类重写__int__，要使用父类的构造方法，可以使用super关键字</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#最简单的继承性质说明</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;111&#x27;</span>)</span><br><span class="line"><span class="comment">#class 子类名（父类名）</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">U001</span>(<span class="title class_ inherited__">User</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">age</span>(<span class="params">self</span>): <span class="comment">#可以在子类里定义新的方法，只属于这个子类可用的</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;123&#x27;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):  <span class="comment">#可以在子类里重写父类的方法，会盖掉父类的方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;222&#x27;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    user1 = U001(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line">    user1.show()</span><br><span class="line">    <span class="comment">#222</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#super函数————调用父类的 方法</span></span><br><span class="line"><span class="comment">#继承父类方法————可以在子类的方法中调用父类的任意方法</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Person构造方法&quot;</span>)</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">say_age</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name,<span class="string">&quot;的年龄是:&quot;</span>,self.age)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(<span class="title class_ inherited__">Person</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age,score</span>):</span><br><span class="line">        Person.__init__(self,name,age) <span class="comment"># 调用时只能带父类的构造方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Student的构造方法&quot;</span>)</span><br><span class="line">        self.score = score</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">say_score</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(self.name,<span class="string">&#x27;的分数是:&#x27;</span>,self.score)</span><br><span class="line">s1 = Student(<span class="string">&#x27;王盛&#x27;</span>,<span class="number">25</span>,<span class="number">80</span>)</span><br><span class="line">s1.say_age()</span><br><span class="line">s1.say_score()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">Person构造方法</span></span><br><span class="line"><span class="string">Student的构造方法</span></span><br><span class="line"><span class="string">王盛 的年龄是: 25</span></span><br><span class="line"><span class="string">王盛 的分数是: 80</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="类成员的继承与重写"><a href="#类成员的继承与重写" class="headerlink" title="类成员的继承与重写"></a>类成员的继承与重写</h3><p>成员继承：子类<strong>继承了父类除构造方法之外的所有成员</strong>。包括私有属性私有方法</p>
<p>方法的继承与重写与属性基本一致，如果子类重写了父类的方法，使用时就会使用子类的方法</p>
<p>可以通过mro()来查看继承属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#继承父类属性————分多种情况</span></span><br><span class="line"><span class="number">1</span>、全部保留属性，不新增</span><br><span class="line"><span class="number">2</span>、全部替换，只用自己的</span><br><span class="line"><span class="number">3</span>、保留部分属性，不新增</span><br><span class="line"><span class="number">4</span>、保留部分属性，有新增</span><br><span class="line"></span><br><span class="line"><span class="comment">#全部保留属性，不新增</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, username, password, email</span>):</span><br><span class="line">        self.username = username</span><br><span class="line">        self.password = password</span><br><span class="line">        self.email = email</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>(<span class="title class_ inherited__">User_info</span>):</span><br><span class="line">    <span class="keyword">pass</span>        <span class="comment">#最简单，直接什么都不用动，不重写则全部保留</span></span><br><span class="line"></span><br><span class="line">user1 = User(<span class="string">&#x27;ws&#x27;</span>,<span class="string">&#x27;ws111&#x27;</span>,<span class="string">&#x27;1320&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(user1.username)</span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#全部替换，只用自己的</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, username, password, email</span>):</span><br><span class="line">        self.username = username</span><br><span class="line">        self.password = password</span><br><span class="line">        self.email = email</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>(<span class="title class_ inherited__">User_info</span>): </span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,age,job</span>): <span class="comment">#重写构造函数</span></span><br><span class="line">        self.age = age</span><br><span class="line">        self.job = job</span><br><span class="line">user1 = User(<span class="string">&#x27;ws&#x27;</span>,<span class="string">&#x27;ws111&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(user1.age)</span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"><span class="built_in">print</span>(user1.username)</span><br><span class="line"><span class="comment"># 报错</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#保留部分属性，不新增</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, username, password, email</span>):</span><br><span class="line">        self.username = username</span><br><span class="line">        self.password = password</span><br><span class="line">        self.email = email</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>(<span class="title class_ inherited__">User_info</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,username,password</span>):</span><br><span class="line">        <span class="comment"># 使用super,重跑一遍父类构造函数的形参，并且只赋值自己要的，不要的空着</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(username=username,password=password,email=<span class="literal">None</span>)</span><br><span class="line">        <span class="comment">#这样就只传了name和password两个属性</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    user1 = User(<span class="string">&#x27;ws&#x27;</span>,<span class="string">&#x27;ws111&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(user1.username)</span><br><span class="line">    <span class="comment">#ws</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#保留部分属性，有新增</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User_info</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, username, password, email</span>):</span><br><span class="line">        self.username = username</span><br><span class="line">        self.password = password</span><br><span class="line">        self.email = email</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>(<span class="title class_ inherited__">User_info</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,username,password,job</span>):</span><br><span class="line">        self.job = job  <span class="comment">#新增一个job属性</span></span><br><span class="line">        <span class="built_in">super</span>().__init__(username=username,password=password,email=<span class="literal">None</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    user1 = User(<span class="string">&#x27;ws&#x27;</span>,<span class="string">&#x27;ws111&#x27;</span>,<span class="string">&#x27;student&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(user1.username,user1.job)</span><br><span class="line">    <span class="comment">#ws student</span></span><br></pre></td></tr></table></figure>

<h3 id="object根类"><a href="#object根类" class="headerlink" title="object根类"></a>object根类</h3><p><code>object</code>类是所有类的父类，因此所有的类都有<code>object</code>类的属性和方法。我们显然有必要深入研究一下<code>object</code>类的结构<br>dir()可以查看类</p>
<p>所有类都有object类的属性和方法</p>
<h3 id="重写-str-方法"><a href="#重写-str-方法" class="headerlink" title="重写__str__()方法"></a><strong>重写<code>__str__()</code>方法</strong></h3><p>用于返回一个对对象的描述</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age,job</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        self.job = job</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;对象转化成一个字符串描述&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;重写__str__()方法&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;我是&#123;0&#125;,&#123;1&#125;,是&#123;2&#125;&quot;</span>.<span class="built_in">format</span>(self.name, self.age, self.job)</span><br><span class="line">User1 = User(<span class="string">&#x27;王盛&#x27;</span>,<span class="number">24</span>,<span class="string">&#x27;学生&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(User1)</span><br><span class="line"><span class="comment"># 重写__str__()方法</span></span><br><span class="line"><span class="comment"># 我是王盛,24,是学生</span></span><br><span class="line"></span><br><span class="line">s = <span class="built_in">str</span>(User1) <span class="comment"># 将其转成字符串时，本质上就是调用了他的__str__方法</span></span><br><span class="line"><span class="comment"># 重写__str__()方法</span></span><br></pre></td></tr></table></figure>

<h3 id="多重继承"><a href="#多重继承" class="headerlink" title="多重继承"></a>多重继承</h3><p>Python支持多重继承，一个子类可以有多个“直接父类”。这样，就具备了“多个父类”的特点。但是由于，这样会被“类的整体层次”搞的异常复杂，尽量避免使用。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">aa</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;aa&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">bb</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(A,B):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cc</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;cc&#x27;</span>)</span><br><span class="line">c = C()</span><br><span class="line">c.aa()</span><br><span class="line">c.bb()</span><br><span class="line">c.cc()</span><br><span class="line"></span><br><span class="line"><span class="comment">#aa</span></span><br><span class="line"><span class="comment">#bb</span></span><br><span class="line"><span class="comment">#cc</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(C.mro()) <span class="comment"># 打印类的层次结构</span></span><br><span class="line">[&lt;<span class="keyword">class</span> <span class="string">&#x27;__main__.C&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;__main__.A&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;__main__.B&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;]</span><br><span class="line">如果调用C的一个类 在A和B中都有，会先查找C，然后查找A，然后B</span><br></pre></td></tr></table></figure>

<h3 id="super-获得父类定义"><a href="#super-获得父类定义" class="headerlink" title="super()获得父类定义"></a>super()获得父类定义</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">调用父类的构造方法：</span><br><span class="line"><span class="built_in">super</span>(子类名称,self).__init__(参数列表)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;A的构造方法&quot;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;A: &quot;</span>,self)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;say AAA&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment">#A.__init__(self)</span></span><br><span class="line">    <span class="built_in">super</span>(B,self).__init__() <span class="comment">#调用父类的构造方法</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;B的构造方法&quot;</span>)</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">say</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment">#A.say(self)   调用父类的say方法</span></span><br><span class="line">    <span class="built_in">super</span>().say()  <span class="comment">#通过super()调用父类的方法</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;say BBB&quot;</span>)</span><br><span class="line"></span><br><span class="line">b = B()</span><br><span class="line">b.say()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h2><p>多态（polymorphism）是指同一个方法调用由于对象不同可能会产生不同的行为。</p>
<p>多态需要有继承，只发生在父类和子类之间，需要有重写<br>仅需一个函数，传递不同的对象，就能使用不同子类中的制定函数<br>可扩展性和可维护性都增加了</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Version</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">what</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;Version&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">V1</span>(<span class="title class_ inherited__">Version</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">what</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;v1&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">V2</span>(<span class="title class_ inherited__">Version</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">what</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;v2&#x27;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">V3</span>(<span class="title class_ inherited__">Version</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">what</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;v3&#x27;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>(<span class="params"><span class="built_in">object</span></span>):</span><br><span class="line">    <span class="built_in">object</span>.what()</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">将v1-<span class="number">3</span>都实例化</span><br><span class="line">    v1 = V1() </span><br><span class="line">    v2 = V2()</span><br><span class="line">    v3 = V3()</span><br><span class="line">实例引用方法</span><br><span class="line">    fun(v1)</span><br><span class="line">    fun(v2)</span><br><span class="line">    fun(v3)</span><br><span class="line"><span class="comment">#v1</span></span><br><span class="line"><span class="comment">#v2</span></span><br><span class="line"><span class="comment">#v3</span></span><br></pre></td></tr></table></figure>

<h2 id="运算符重载、特殊方法"><a href="#运算符重载、特殊方法" class="headerlink" title="运算符重载、特殊方法"></a>运算符重载、特殊方法</h2><p>Python的运算符实际上是通过调用对象的特殊方法实现的。</p>
<p>c &#x3D; a+b和c &#x3D; a.<strong>add</strong>(b)是一致的</p>
<p>所以有时候会自己重新对+进行定义</p>
<table>
<thead>
<tr>
<th>方法</th>
<th>说明</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td><strong>init</strong></td>
<td>构造方法</td>
<td>对象创建和初始化：p &#x3D; Person()</td>
</tr>
<tr>
<td><strong>del</strong></td>
<td>析构方法</td>
<td>对象回收</td>
</tr>
<tr>
<td><strong>repr</strong>,<strong>str</strong></td>
<td>打印，转换</td>
<td>print(a)</td>
</tr>
<tr>
<td><strong>call</strong></td>
<td>函数调用</td>
<td>a()</td>
</tr>
<tr>
<td><strong>getattr</strong></td>
<td>点号运算</td>
<td>a.xxx</td>
</tr>
<tr>
<td><strong>setattr</strong></td>
<td>属性赋值</td>
<td>a.xxx &#x3D; value</td>
</tr>
<tr>
<td><strong>getitem</strong></td>
<td>索引运算</td>
<td>a[key]</td>
</tr>
<tr>
<td><strong>setitem</strong></td>
<td>索引赋值</td>
<td>a[key]&#x3D;value</td>
</tr>
<tr>
<td><strong>len</strong></td>
<td>长度</td>
<td>len(a)</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>运算符</th>
<th>特殊方法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td><strong>add</strong></td>
<td>加法</td>
</tr>
<tr>
<td>-</td>
<td><strong>sub</strong></td>
<td>减法</td>
</tr>
<tr>
<td>&lt; &lt;&#x3D; &#x3D;&#x3D;</td>
<td><strong>lt</strong> <strong>le</strong> <strong>eq</strong></td>
<td>比较运算符</td>
</tr>
<tr>
<td>&gt; &gt;&#x3D; !&#x3D;</td>
<td><strong>gt</strong> <strong>ge</strong> <strong>ne</strong></td>
<td>比较运算符</td>
</tr>
<tr>
<td></td>
<td>^ &amp;</td>
<td><strong>or</strong> <strong>xor</strong> <strong>and</strong></td>
</tr>
<tr>
<td>&lt;&lt; &gt;&gt;</td>
<td><strong>lshift</strong> <strong>rshift</strong></td>
<td>左移、右移</td>
</tr>
<tr>
<td>* &#x2F; % &#x2F;&#x2F;</td>
<td><strong>mul</strong> <strong>truediv</strong> <strong>mod</strong> <strong>floordiv</strong></td>
<td>乘、浮点除、模运算（取余）、整数除</td>
</tr>
<tr>
<td>**</td>
<td><strong>pow</strong></td>
<td>指数运算</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">重载运算符</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Persion</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self,other</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other,Persion):</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&#123;0&#125;,&#123;1&#125;&quot;</span>.<span class="built_in">format</span>(self.name,other.name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;不是同类对象不能相加&quot;</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__mul__</span>(<span class="params">self,other</span>):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">isinstance</span>(other,<span class="built_in">int</span>):</span><br><span class="line">            <span class="keyword">return</span> self.name*other</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;不是同类对象不能相加&quot;</span></span><br><span class="line">p1 = Persion(<span class="string">&#x27;ws&#x27;</span>)</span><br><span class="line">p2 = Persion(<span class="string">&#x27;xhy&#x27;</span>)</span><br><span class="line"></span><br><span class="line">x = p1 + p2</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="built_in">print</span>(p1*<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<h2 id="特殊属性"><a href="#特殊属性" class="headerlink" title="特殊属性"></a>特殊属性</h2><table>
<thead>
<tr>
<th>特殊属性</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>obj.<strong>dict</strong></td>
<td>对象的属性字典</td>
</tr>
<tr>
<td>obj.<strong>class</strong></td>
<td>对象所属的类</td>
</tr>
<tr>
<td>class.<strong>bases</strong></td>
<td>表示类的父类(多继承时，多个父类放到一个元组中)</td>
</tr>
<tr>
<td>class.<strong>base</strong></td>
<td>类的父类</td>
</tr>
<tr>
<td>class.<strong>mro</strong></td>
<td>类层次结构</td>
</tr>
<tr>
<td>class.<strong>subclasses</strong>()</td>
<td>子类列表</td>
</tr>
</tbody></table>
<h2 id="集成与组合"><a href="#集成与组合" class="headerlink" title="集成与组合"></a>集成与组合</h2><p>除了继承，“组合”也能实现代码的复用。“组合”核心是“将父类对象作为子类的属性”。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">CPU</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Calculating&quot;</span>)</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Screen</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">show</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;showing&quot;</span>)</span><br><span class="line"><span class="comment"># 组合它</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MobilePhone</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,cpu,screen</span>): <span class="comment"># 将类作为属性</span></span><br><span class="line">        self.screen = screen</span><br><span class="line">        self.cpu = cpu</span><br><span class="line">c = CPU()</span><br><span class="line">s = Screen()</span><br><span class="line">m = MobilePhone(c,s)</span><br><span class="line"></span><br><span class="line">m.cpu.calculate()</span><br><span class="line"><span class="comment"># Calculating</span></span><br><span class="line"></span><br><span class="line">m.screen.show()</span><br><span class="line"><span class="comment"># showing</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="设计模式-工厂模式与单例模式"><a href="#设计模式-工厂模式与单例模式" class="headerlink" title="设计模式-工厂模式与单例模式"></a>设计模式-工厂模式与单例模式</h1><p>设计模式说到底就是使用一种套路</p>
<h2 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h2><p>工厂模式实现了创建者和调用者的分离，使用专门的工厂类将选择实现类、创建对象进行统一的管理和控制。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 工厂模式</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CarFactory</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">createCar</span>(<span class="params">self,brand</span>):</span><br><span class="line">        <span class="keyword">if</span> brand == <span class="string">&#x27;小米&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> Xiaomi()</span><br><span class="line">        <span class="keyword">elif</span> brand == <span class="string">&#x27;华为&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> HW()</span><br><span class="line">        <span class="keyword">elif</span> brand == <span class="string">&#x27;BYD&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> BYD()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;Unknown brand&quot;</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Xiaomi</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BYD</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HW</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">factory = CarFactory()</span><br><span class="line">c1 = factory.createCar(<span class="string">&#x27;小米&#x27;</span>)</span><br><span class="line">c2 = factory.createCar(<span class="string">&#x27;华为&#x27;</span>)</span><br><span class="line">c3 = factory.createCar(<span class="string">&#x27;BYD&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h2><p>单例模式（Singleton Pattern）的核心作用是确保一个类只有一个实例，并且提供一个访问该实例的全局访问点。</p>
<p>单例模式只生成一个实例对象，减少了对系统资源的开销。当一个对象的产生需要比较多的资源，如读取配置文件、产生其他依赖对象时，可以产生一个“单例对象”，然后永久驻留内存中，从而极大的降低开销。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MySingleton</span>:</span><br><span class="line">    __obj = <span class="literal">None</span></span><br><span class="line">    __init_flag = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__new__</span>(<span class="params">cls,*args,**kwargs</span>):</span><br><span class="line">        <span class="keyword">if</span> cls.__obj == <span class="literal">None</span>:</span><br><span class="line">            cls.__obj = <span class="built_in">object</span>.__new__(cls)</span><br><span class="line">        <span class="keyword">return</span> cls.__obj</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">        <span class="keyword">if</span> MySingleton.__init_flag <span class="keyword">is</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;初始化第一个对象&quot;</span>)</span><br><span class="line">            self.name = name</span><br><span class="line">            MySingleton.__init_flag = <span class="literal">False</span> <span class="comment"># 修改标记，确保只会被调用一次</span></span><br><span class="line">a = MySingleton(<span class="string">&#x27;aa&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line">b = MySingleton(<span class="string">&#x27;bb&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &lt;__main__.MySingleton object at 0x0000015BD35EF668&gt;</span></span><br><span class="line"><span class="comment"># &lt;__main__.MySingleton object at 0x0000015BD35EF668&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h1><p>常见的异常导致的错误包括：</p>
<p>用户操作相关：类型错误、无效输入、误操作<br>网络问题：丢包、对方主机无应答<br>操作系统与硬件问题：重启，断电等</p>
<p>编程中要尽可能面对各种异常情况，编写全面完整的异常处理逻辑</p>
<p>异常信息包括：<br>文件位置、行数位置、具体语句、错误类型、异常描述</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184557.png"></p>
<p>函数体中使用异常处理结构时，尽量不要使用return，在最后使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#异常处理结构————try、except关键字，捕获与处理异常</span></span><br><span class="line">例<span class="number">1</span>：</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">    a = <span class="number">3</span>/<span class="number">0</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;2&#x27;</span>)</span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;3&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;4&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;5&#x27;</span>)</span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 3</span></span><br><span class="line"><span class="comment"># division by zero</span></span><br><span class="line"><span class="comment"># 4</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line">例<span class="number">2</span>：</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>: <span class="comment">#添加一个循环</span></span><br><span class="line">    <span class="keyword">try</span>:    <span class="comment">#捕获异常</span></span><br><span class="line">        num = <span class="built_in">input</span>(<span class="string">&#x27;&gt;&gt;&#x27;</span>) <span class="comment">#input输入必定为字符串类型</span></span><br><span class="line">        <span class="keyword">if</span> <span class="string">&#x27;.&#x27;</span> <span class="keyword">in</span> num:    <span class="comment">#如果内容包含一个.则使用float进行转换</span></span><br><span class="line">            num = <span class="built_in">float</span>(num)</span><br><span class="line">        <span class="keyword">else</span>:     <span class="comment">#如果内容为数字，则通过int进行转换</span></span><br><span class="line">            num = <span class="built_in">int</span>(num)</span><br><span class="line">****            <span class="comment">#如果内容两个都不是，则可以用except进行</span></span><br><span class="line">        <span class="built_in">print</span>(num + <span class="number">10</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e: <span class="comment">#如果出现异常，则进行处理。并且把故障信息Exception赋值到e中</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;please press number&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(e)    <span class="comment">#查看之前发生的异常</span></span><br><span class="line"></span><br><span class="line">例<span class="number">3</span>： 多<span class="keyword">except</span>结构</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    a = <span class="built_in">input</span>(<span class="string">&quot;被除数&quot;</span>)</span><br><span class="line">    b = <span class="built_in">input</span>(<span class="string">&quot;除数&quot;</span>)</span><br><span class="line">    c = <span class="built_in">float</span>(a)/<span class="built_in">float</span>(b)</span><br><span class="line">    <span class="built_in">print</span>(c)</span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;除数不能为0&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> TypeError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;类型错误&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> ValueError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;值类型错误&quot;</span>)</span><br><span class="line"><span class="keyword">except</span> BaseException <span class="keyword">as</span> e: </span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">type</span>(e))</span><br><span class="line">BaseException类包含上面几个小类，如果把它放在最前面，就会全部捕获，无法达成分类的效果</span><br><span class="line"><span class="comment"># 除数不能为0</span></span><br><span class="line"><span class="comment">#被除数qwe</span></span><br><span class="line"><span class="comment">#除数123</span></span><br><span class="line"><span class="comment">#值类型错误</span></span><br><span class="line"></span><br><span class="line">例<span class="number">4</span>：<span class="keyword">except</span>...<span class="keyword">else</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    a = <span class="built_in">input</span>(<span class="string">&quot;被除数&quot;</span>)</span><br><span class="line">    b = <span class="built_in">input</span>(<span class="string">&quot;除数&quot;</span>)</span><br><span class="line">    c = <span class="built_in">float</span>(a)/<span class="built_in">float</span>(b)</span><br><span class="line"><span class="keyword">except</span> BaseException <span class="keyword">as</span> e:</span><br><span class="line">    <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(c)</span><br><span class="line"></span><br><span class="line"><span class="comment">#finally分支——无论是否有异常，都会执行finally</span></span><br><span class="line"><span class="comment">#进行资源回收，一些进程会占用资源，比如打开的文件、建立的套接字连接、数据库的连接等</span></span><br><span class="line"><span class="comment">#无论是否异常，都需要做资源的回收</span></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">finally</span>: <span class="comment">#必定执行</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#arise主动引发异常，可以指定异常信息与异常类型</span></span><br><span class="line"><span class="comment">#主要用于和try、except结合使用，主动引发异常，输出异常的语句</span></span><br><span class="line"><span class="keyword">raise</span> Exception</span><br><span class="line"><span class="comment">#Traceback (most recent call last):</span></span><br><span class="line"><span class="comment">#   File &quot;C:\Users\13209\PycharmProjects\first\Study\异常处理.py&quot;, line 23, in &lt;module&gt;</span></span><br><span class="line"><span class="comment">#     raise Exception</span></span><br><span class="line"><span class="comment"># Exception</span></span><br><span class="line"><span class="keyword">raise</span> StopIteration</span><br><span class="line"><span class="comment"># Traceback (most recent call last):</span></span><br><span class="line"><span class="comment">#   File &quot;C:\Users\13209\PycharmProjects\first\Study\异常处理.py&quot;, line 23, in &lt;module&gt;</span></span><br><span class="line"><span class="comment">#     raise StopIteration</span></span><br><span class="line"><span class="comment"># StopIteration</span></span><br><span class="line"></span><br><span class="line">常见异常</span><br><span class="line">所有异常类都是从BaseException类的子类，不同的异常类记录不同的异常信息</span><br><span class="line">SyntaxError：语法错误</span><br><span class="line">NameError：尝试访问一个没有申明的变量</span><br><span class="line">ZeroDivisionError：除数为<span class="number">0</span>错误（零除错误）</span><br><span class="line">ValueError：数值错误</span><br><span class="line">AttributeError：访问对象的不存在的属性</span><br><span class="line">TypeError：类型错误</span><br><span class="line">IndexError：索引越界异常</span><br><span class="line">KeyError：字典的关键字不存在</span><br><span class="line"></span><br><span class="line"><span class="comment">#练习：</span></span><br><span class="line"><span class="comment">#让用户输入4位的纯数字，如果不是数字则报异常</span></span><br><span class="line"><span class="comment">#验证是否是4位，如果不是也报错，如果是就输出成功</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#我写的</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            n1 = <span class="built_in">input</span>(<span class="string">&#x27;Enter student number:&#x27;</span>)</span><br><span class="line">            n1 = <span class="built_in">int</span>(n1)</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(<span class="built_in">str</span>(n1)) == <span class="number">4</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;成功&#x27;</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;请输入四位数字&#x27;</span>)</span><br><span class="line">        <span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;请输入数字&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fun()</span><br><span class="line"></span><br><span class="line"><span class="comment">#GPT写的</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            n1 = <span class="built_in">input</span>(<span class="string">&#x27;Enter student number:&#x27;</span>)</span><br><span class="line">						<span class="comment">#判断是否为纯数字，这个函数用以判断字符串</span></span><br><span class="line">						<span class="comment">#如果纯数字则返回True，反之则返回False</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> n1.isdigit():</span><br><span class="line">                <span class="keyword">raise</span> ValueError(<span class="string">&#x27;输入纯数字&#x27;</span>)</span><br><span class="line">            <span class="comment"># 检查输入是否为4位数</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(n1) != <span class="number">4</span>:</span><br><span class="line">                <span class="keyword">raise</span> ValueError(<span class="string">&quot;输入的数字不是4位数&quot;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;成功&#x27;</span>)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">except</span> ValueError <span class="keyword">as</span> e:</span><br><span class="line">            <span class="built_in">print</span>(e)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fun()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>异常名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>ArithmeticError</td>
<td>所有数值计算错误的基类</td>
</tr>
<tr>
<td>AssertionError</td>
<td>断言语句失败</td>
</tr>
<tr>
<td>AttributeError</td>
<td>对象没有这个属性</td>
</tr>
<tr>
<td>BaseException</td>
<td>所有异常的基类</td>
</tr>
<tr>
<td>DeprecationWarning</td>
<td>关于被弃用的特征的警告</td>
</tr>
<tr>
<td>EnvironmentError</td>
<td>操作系统错误的基类</td>
</tr>
<tr>
<td>EOFError</td>
<td>没有内建输入,到达EOF 标记</td>
</tr>
<tr>
<td>Exception</td>
<td>常规错误的基类</td>
</tr>
<tr>
<td>FloatingPointError</td>
<td>浮点计算错误</td>
</tr>
<tr>
<td>FutureWarning</td>
<td>关于构造将来语义会有改变的警告</td>
</tr>
<tr>
<td>GeneratorExit</td>
<td>生成器(generator)发生异常来通知退出</td>
</tr>
<tr>
<td>ImportError</td>
<td>导入模块&#x2F;对象失败</td>
</tr>
<tr>
<td>IndentationError</td>
<td>缩进错误</td>
</tr>
<tr>
<td>IndexError</td>
<td>序列中没有此索引(index)</td>
</tr>
<tr>
<td>IOError</td>
<td>输入&#x2F;输出操作失败</td>
</tr>
<tr>
<td>KeyboardInterrupt</td>
<td>用户中断执行(通常是输入^C)</td>
</tr>
<tr>
<td>KeyError</td>
<td>映射中没有这个键</td>
</tr>
<tr>
<td>LookupError</td>
<td>无效数据查询的基类</td>
</tr>
<tr>
<td>MemoryError</td>
<td>内存溢出错误(对于Python 解释器不是致命的)</td>
</tr>
<tr>
<td>NameError</td>
<td>未声明&#x2F;初始化对象 (没有属性)</td>
</tr>
<tr>
<td>NotImplementedError</td>
<td>尚未实现的方法</td>
</tr>
<tr>
<td>OSError</td>
<td>操作系统错误</td>
</tr>
<tr>
<td>OverflowError</td>
<td>数值运算超出最大限制</td>
</tr>
<tr>
<td>OverflowWarning</td>
<td>旧的关于自动提升为长整型(long)的警告</td>
</tr>
<tr>
<td>PendingDeprecationWarning</td>
<td>关于特性将会被废弃的警告</td>
</tr>
<tr>
<td>ReferenceError</td>
<td>弱引用(Weak reference)试图访问已经垃圾回收了的对象</td>
</tr>
<tr>
<td>RuntimeError</td>
<td>一般的运行时错误</td>
</tr>
<tr>
<td>RuntimeWarning</td>
<td>可疑的运行时行为(runtime behavior)的警告</td>
</tr>
<tr>
<td>StandardError</td>
<td>所有的内建标准异常的基类</td>
</tr>
<tr>
<td>StopIteration</td>
<td>迭代器没有更多的值</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>Python 语法错误</td>
</tr>
<tr>
<td>SyntaxWarning</td>
<td>可疑的语法的警告</td>
</tr>
<tr>
<td>SystemError</td>
<td>一般的解释器系统错误</td>
</tr>
<tr>
<td>SystemExit</td>
<td>解释器请求退出</td>
</tr>
<tr>
<td>TabError</td>
<td>Tab 和空格混用</td>
</tr>
<tr>
<td>TypeError</td>
<td>对类型无效的操作</td>
</tr>
<tr>
<td>UnboundLocalError</td>
<td>访问未初始化的本地变量</td>
</tr>
<tr>
<td>UnicodeDecodeError</td>
<td>Unicode 解码时的错误</td>
</tr>
<tr>
<td>UnicodeEncodeError</td>
<td>Unicode 编码时错误</td>
</tr>
<tr>
<td>UnicodeError</td>
<td>Unicode 相关的错误</td>
</tr>
<tr>
<td>UnicodeTranslateError</td>
<td>Unicode 转换时错误</td>
</tr>
<tr>
<td>UserWarning</td>
<td>用户代码生成的警告</td>
</tr>
<tr>
<td>ValueError</td>
<td>传入无效的参数</td>
</tr>
<tr>
<td>Warning</td>
<td>警告的基类</td>
</tr>
<tr>
<td>WindowsError</td>
<td>系统调用失败</td>
</tr>
<tr>
<td>ZeroDivisionError</td>
<td>除(或取模)零 (所有数据类型)</td>
</tr>
</tbody></table>
<h2 id="traceback模块"><a href="#traceback模块" class="headerlink" title="traceback模块"></a>traceback模块</h2><p>打印异常信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">import traceback</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;step1&quot;</span>)</span><br><span class="line">  num = 1/0</span><br><span class="line">except:</span><br><span class="line">  with open(<span class="string">&quot;d:/a.log&quot;</span>,<span class="string">&quot;a&quot;</span>) as f: <span class="comment"># 如果遇到异常，就打开一个文件d:/a.log</span></span><br><span class="line">    traceback.print_exc(file=f) <span class="comment"># 在文件中输入异常信息</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="自定义异常类"><a href="#自定义异常类" class="headerlink" title="自定义异常类"></a>自定义异常类</h2><p>程序开发中，有时候我们也需要自己定义异常类。自定义异常类一般都是运行时异常，通常继承<code>Exception</code>或其子类即可。命名一般以<code>Error</code>、<code>Exception</code>为后缀。</p>
<p>Python的异常处理机制在需要显示异常信息时会调用异常对象的__str__方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Age_Error(Exception): <span class="comment">#继承Exception</span></span><br><span class="line">  def __init__(self,errorInfo): </span><br><span class="line">    Exception.__init__(self) <span class="comment"># 重写init方法</span></span><br><span class="line">    self.errorInfo = errorInfo</span><br><span class="line">  def __str__(self):</span><br><span class="line">    <span class="built_in">return</span> str(self.errorInfo)+<span class="string">&quot;年龄错误&quot;</span> <span class="comment"># 重写str方法，并且输出异常与提示</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Starting&quot;</span>)</span><br><span class="line">  age = int(input(<span class="string">&quot;Age:&quot;</span>))</span><br><span class="line">  <span class="keyword">if</span> age&lt;1 or age&gt;150:</span><br><span class="line">    raise Age_Error(age) <span class="comment">#此时就会将age作为参数传到errorInfo这个变量里</span></span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;正常&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="调试与断点"><a href="#调试与断点" class="headerlink" title="调试与断点"></a>调试与断点</h2><p>进行调试的核心是设置断点，程序执行到断点时，暂时挂起，停止执行。就像看视频按下停止一样，我们可以详细的观看停止处的每一个细节。</p>
<p><strong>设置断点</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184640.png"></p>
<p><strong>调试视图</strong><br>点击瓢虫按钮</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240517184657.png"></p>
<p>左侧为“浏览帧”：调试器列出断点处，当前线程正在运行的方法，每个方法对应一个“栈帧”。最上面的是当前断点所处的方法。</p>
<p>右侧为变量值观察区</p>
<p>调试方法：<br>单步调试：step over遇到函数跳过<br>单步调试：step into遇到函数进入<br>跳出函数：step out——当单步执行到子函数内时，用step out就可以执行完子函数余下部分，并返回到上一层函数<br>执行的光标处：run to cursor——到光标处停止，用在循环内部时，点击一次就执行一个循环</p>
<h1 id="文件处理"><a href="#文件处理" class="headerlink" title="文件处理"></a>文件处理</h1><p>一个完整的程序一般都包括数据的存储和读取；我们在前面写的程序数据都没有进行实际的存储，因此python解释器执行完数据就消失了。实际开发中，我们经常需要从外部存储介质（硬盘、光盘、U盘等）读取数据，或者将程序产生的数据存储到文件中，实现“持久化”保存。</p>
<h2 id="编码问题"><a href="#编码问题" class="headerlink" title="编码问题"></a>编码问题</h2><p><strong>ASCII码</strong></p>
<p>是世界上最早最通用的单字节编码系统，主要用来显示现代英语及其他西欧语言。</p>
<p><code>ASCII</code>码用7位表示，只能表示128个字符。只定义了27&#x3D;128个字符，用7bit即可完全编码，而一字节8bit的容量是256，所以一字节<code>ASCII</code>的编码最高位总是0。</p>
<p><strong>GB2312</strong></p>
<p>覆盖了汉字的大部分使用率</p>
<p><strong>GBK</strong></p>
<p>扩展了<code>GB2312</code>，在它的基础上又加了更多的汉字，它一共收录了21003个汉字</p>
<p><strong>GB18030</strong></p>
<p>它主要采用单字节、双字节、四字节对字符编码，它是向下兼容<code>GB2312</code>和<code>GBK</code>的，虽然是我国的强制使用标准，但在实际生产中很少用到，用得最多的反而是<code>GBK</code>和<code>GB2312</code></p>
<p><strong>Unicode</strong></p>
<p><code>Unicode</code>编码设计成了固定两个字节，所有的字符都用16位(2^16&#x3D;65536)表示，包括之前只占8位的英文字符等，所以会造成空间的浪费，<code>UNICODE</code>在很长的一段时间内都没有得到推广应用。</p>
<p><strong>UTF-8</strong></p>
<p><code>UTF</code>编码兼容<code>iso8859-1</code>编码，同时也可以用来表示所有语言的字符，不过，<code>UTF</code>编码是不定长编码，每一个字符的长度从1-4个字节不等。其中，英文字母都是用一个字节表示，而汉字使用三个字节。一般项目都会使用UTF-8。</p>
<p><strong>乱码问题</strong></p>
<p><strong>windows操作系统默认的编码是<code>GBK</code>，Linux操作系统默认的编码是<code>UTF-8</code>。当我们用<code>open()</code>时，调用的是操作系统打开的文件，默认的编码是<code>GBK</code> 。</strong></p>
<p>比如，测试写入中文时，如果不指定打开时候的类型，就会默认使用GBK编码，然后使用utf-8打开时，就会乱码。</p>
<h2 id="文本文件和二进制文件"><a href="#文本文件和二进制文件" class="headerlink" title="文本文件和二进制文件"></a>文本文件和二进制文件</h2><p>文本文件存储的是文本，python默认为<code>unicode</code>字符集（两个字节表示一个字符，最多可以表示：65536个）</p>
<p>二进制文件把数据内容用“字节”进行存储，无法用记事本打开。必须使用专用的软件解码。常见的有：MP4视频文件、MP3音频文件、JPG图片、doc文档等等</p>
<h3 id="相关模块"><a href="#相关模块" class="headerlink" title="相关模块"></a>相关模块</h3><table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>io模块</td>
<td>文件流的输入和输出操作 input output</td>
</tr>
<tr>
<td>os模块</td>
<td>基本操作系统功能，包括文件操作</td>
</tr>
<tr>
<td>glob模块</td>
<td>查找符合特定规则的文件路径名</td>
</tr>
<tr>
<td>fnmatch模块</td>
<td>使用模式来匹配文件路径名</td>
</tr>
<tr>
<td>fileinput模块</td>
<td>处理多个输入文件</td>
</tr>
<tr>
<td>filecmp模块</td>
<td>用于文件的比较</td>
</tr>
<tr>
<td>csv模块</td>
<td>用于csv文件处理</td>
</tr>
<tr>
<td>pickle和cPickle</td>
<td>用于序列化和反序列化</td>
</tr>
<tr>
<td>xml包</td>
<td>用于XML数据处理</td>
</tr>
<tr>
<td>bz2、gzip、zipfile、zlib、tarfile</td>
<td>用于处理压缩和解压缩文件（分别对应不同的算法）</td>
</tr>
</tbody></table>
<h3 id="创建文件对象open"><a href="#创建文件对象open" class="headerlink" title="创建文件对象open()"></a>创建文件对象open()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">为了对文件进行读写操作，需要先打开文件</span><br><span class="line">python提供了内置函数<span class="built_in">open</span></span><br><span class="line">返回的文件对象（需要一个变量来接收）</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open</span>(<span class="params">file, mode=<span class="string">&#x27;r&#x27;</span>, buffering=<span class="literal">None</span>, encoding=<span class="literal">None</span>, errors=<span class="literal">None</span>, newline=<span class="literal">None</span>, closefd=<span class="literal">True</span></span>):</span><br><span class="line">一般只改mode</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">mode:</span></span><br><span class="line"><span class="string">r 只读，默认参数</span></span><br><span class="line"><span class="string">w 只写，会清空文件内容，如果没有则会创建文件，类似于echo &gt;</span></span><br><span class="line"><span class="string">a 追加模式，如果没有则会创建文件，类似于echo &gt;&gt;</span></span><br><span class="line"><span class="string">x 只写，如果已有文件则会报错，保证文件是第一次创建</span></span><br><span class="line"><span class="string">+ 读写，可读可写，必须与上面的搭配使用</span></span><br><span class="line"><span class="string">b 二进制模式，用二进制打开，必须与上面的搭配使用</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#文件名需要通过路径能够找到，如果同路径则不需要找</span></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test1.json&quot;</span>,mode=<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test2.json&quot;</span>,mode=<span class="string">&#x27;a+&#x27;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test1.json&quot;</span>,mode=<span class="string">&quot;wb&quot;</span>)</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test1.json&quot;</span>,mode=<span class="string">&quot;w+b&quot;</span>)</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line"><span class="built_in">open</span>了之后的对象需要进行close，</span><br><span class="line">close的本质是，将缓冲区的数据写入文件，也可以使用flush()方法</span><br><span class="line"></span><br><span class="line">结合<span class="keyword">with</span>使用，就可以不需要使用close</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;./test.txt&quot;</span>,<span class="string">&quot;a&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    s = <span class="string">&quot;&quot;&quot;wangsheng</span></span><br><span class="line"><span class="string">    xuehuiying&quot;&quot;&quot;</span></span><br><span class="line">    f.write(s)</span><br></pre></td></tr></table></figure>

<h3 id="read方法"><a href="#read方法" class="headerlink" title="read方法"></a>read方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">返回在文件中读取到的内容</span></span><br><span class="line"><span class="string">#    def read(self, n: int = -1) -&gt; AnyStr:</span></span><br><span class="line"><span class="string">默认值为n=-1，输出所有内容 </span></span><br><span class="line"><span class="string">通过修改值，输出n字节</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test.log&quot;</span>,mode=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(file.read())</span><br><span class="line"><span class="comment">#所有内容</span></span><br><span class="line"><span class="built_in">print</span>(file.read(<span class="number">50</span>))</span><br><span class="line"><span class="built_in">print</span>(file.read(<span class="number">5</span>))</span><br><span class="line">没有关闭文件时，可以多次读取，每次读取都会从上一次的后面继续读</span><br><span class="line">如果已经读完了，就不会读了</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>

<h3 id="readline方法"><a href="#readline方法" class="headerlink" title="readline方法"></a>readline方法</h3><p>每次默认读取第一行，可以设置读取多行，用法与read基本一致<br>最多只能读一行，不能隔行读取</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test.log&quot;</span>,mode=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(file.readline())</span><br><span class="line"><span class="comment">#DEBUG - 2024-02-19 19:24:14,733 - 第7行：debug</span></span><br><span class="line"><span class="built_in">print</span>(file.readline(<span class="number">2</span>))</span><br><span class="line"><span class="comment">#DE</span></span><br><span class="line"><span class="built_in">print</span>(file.readline(<span class="number">3</span>))</span><br><span class="line"><span class="comment">#BUG</span></span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">另一种方法：</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;./test.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        <span class="built_in">print</span>(line,end=<span class="string">&quot;&quot;</span>)</span><br><span class="line">        </span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;./test.txt&quot;</span>,<span class="string">&quot;r&quot;</span>,encoding=<span class="string">&quot;utf&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        line = f.readline()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> line: <span class="comment"># 检测是否已经达到文尾，因为非空判断为True，空判断为False</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(line,end=<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="readlines方法"><a href="#readlines方法" class="headerlink" title="readlines方法"></a>readlines方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">默认返回文件中每行内容组成的列表</span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test.log&quot;</span>,mode=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(file.readlines())</span><br><span class="line"><span class="comment">#[&#x27;DEBUG - 2024-02-19 19:24:14,733 - 第7行：debug\n&#x27;, &#x27;DEBUG - 2024-02-19 19:25:33,445 - 第7行：出现错误\n&#x27;, &#x27;logger\n&#x27;, &#x27;logger\n&#x27;, &#x27;logger\n&#x27;, &#x27;logger\n&#x27;, &#x27;2024-02-19 20:37:28,984 - INFO - logger\n&#x27;, &#x27;(&quot;2024-02-19 20:57:53,867 - INFO - info&quot;)\n&#x27;, &#x27;(&quot;2024-02-19 20:58:01,037 - INFO - info&quot;)\n&#x27;, &#x27;(&quot;2024-02-19 20:58:03,685 - INFO - info&quot;)\n&#x27;, &#x27;(&quot;2024-02-19 20:58:04,704 - INFO - info&quot;)\n&#x27;, &#x27;(&quot;2024-02-19 20:58:29,477 - INFO - tesst&quot;)\n&#x27;, &#x27;(&quot;2024-02-19 20:58:36,881 - INFO - test&quot;)\n&#x27;, &#x27;(&quot;2024-02-19 20:58:51,552 - INFO - test&quot;)\n&#x27;, &#x27;2024-02-28 12:17:03,305:debug\n&#x27;, &#x27;2024-02-28-12:17:58:debug\n&#x27;]</span></span><br><span class="line"></span><br><span class="line">如果添加参数值少于一行的字符，就会只输出一行，如果大于一行，则会返回两行</span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test.log&quot;</span>,mode=<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(file.readlines(<span class="number">45</span>))</span><br><span class="line"><span class="comment">#[&#x27;DEBUG - 2024-02-19 19:24:14,733 - 第7行：debug\n&#x27;, &#x27;DEBUG - 2024-02-19 19:25:33,445 - 第7行：出现错误\n&#x27;]</span></span><br><span class="line"><span class="built_in">print</span>(file.readlines(<span class="number">20</span>))</span><br><span class="line"><span class="comment">#[&#x27;logger\n&#x27;, &#x27;logger\n&#x27;, &#x27;logger\n&#x27;]</span></span><br><span class="line"></span><br><span class="line">练习 为每行末尾增加 序列的井号</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;./test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    lines = f.readlines() <span class="comment"># 输出一个列表</span></span><br><span class="line">    lines2 = [line + <span class="string">&quot;#&quot;</span> + <span class="built_in">str</span>(index) <span class="keyword">for</span> index,line <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(lines)+<span class="number">1</span>),lines)] <span class="comment"># 让index，line并行遍历，zip代表并行</span></span><br><span class="line">    <span class="comment"># 预期为 wangsheng#1,xhehuiying#2</span></span><br><span class="line">    <span class="built_in">print</span>(lines)</span><br><span class="line">    <span class="built_in">print</span>(lines2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># [&#x27;wangsheng\n&#x27;, &#x27;xuehuiying\n&#x27;, &#x27;qwe&#x27;]</span></span><br><span class="line"><span class="comment"># [&#x27;wangsheng\n#1&#x27;, &#x27;xuehuiying\n#2&#x27;, &#x27;qwe#3&#x27;]</span></span><br></pre></td></tr></table></figure>

<h3 id="write方法"><a href="#write方法" class="headerlink" title="write方法"></a>write方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">write方法——写入一个字符串，且不会自动换行</span></span><br><span class="line"><span class="string">writelines方法——将序列中的字符串依次写入(输入为列表)，且不会自动换行</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#write</span></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test2.json&quot;</span>,<span class="string">&quot;w+&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">file.write(<span class="string">&quot;11111&quot;</span>)</span><br><span class="line">file.write(<span class="string">&quot;11111\n&quot;</span>)</span><br><span class="line">file.write(<span class="string">&quot;11111&quot;</span>)</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test2.json&quot;</span>,<span class="string">&quot;w+&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="built_in">str</span> = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">qweqwe </span></span><br><span class="line"><span class="string">wsad</span></span><br><span class="line"><span class="string">qews</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">file.write(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#writelines，同理，</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;./test.txt&quot;</span>,<span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    list1 = [<span class="string">&quot;wangsheng\n&quot;</span>,<span class="string">&quot;xuehuiying\n&quot;</span>,<span class="string">&quot;qwe&quot;</span>]</span><br><span class="line">    f.writelines(list1)</span><br><span class="line"><span class="comment">#wangsheng</span></span><br><span class="line"><span class="comment">#xuehuiying</span></span><br><span class="line"><span class="comment">#qwe</span></span><br></pre></td></tr></table></figure>

<h3 id="write和read的综合练习"><a href="#write和read的综合练习" class="headerlink" title="write和read的综合练习"></a><strong>write和read的综合练习</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 练习 为每行末尾增加 序列的井号</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># wangsheng</span></span><br><span class="line"><span class="comment"># xuehuiying</span></span><br><span class="line"><span class="comment"># qwe</span></span><br><span class="line"></span><br><span class="line">with open(<span class="string">&#x27;./test.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) as f:</span><br><span class="line">    lines = f.readlines() <span class="comment"># 输出一个列表</span></span><br><span class="line">    lines2 = [line.rstrip() + <span class="string">&quot;#&quot;</span> + str(index) + <span class="string">&quot;\n&quot;</span> <span class="keyword">for</span> index,line <span class="keyword">in</span> zip(range(1,len(lines)+1),lines)] <span class="comment"># 让index，line并行遍历，zip代表并行</span></span><br><span class="line">    <span class="comment"># 预期为 wangsheng#1,xhehuiying#2</span></span><br><span class="line">    <span class="built_in">print</span>(lines)</span><br><span class="line">    <span class="built_in">print</span>(lines2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># [&#x27;wangsheng\n&#x27;, &#x27;xuehuiying\n&#x27;, &#x27;qwe\n&#x27;]</span></span><br><span class="line"><span class="comment"># [&#x27;wangsheng#1\n&#x27;, &#x27;xuehuiying#2\n&#x27;, &#x27;qwe#3\n&#x27;]</span></span><br><span class="line"></span><br><span class="line">with open(<span class="string">&#x27;./test.txt&#x27;</span>,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) as f:</span><br><span class="line">    f.writelines(lines2)</span><br><span class="line"></span><br><span class="line"><span class="comment"># wangsheng#1</span></span><br><span class="line"><span class="comment"># xuehuiying#2</span></span><br><span class="line"><span class="comment"># qwe#3</span></span><br></pre></td></tr></table></figure>

<h3 id="二进制文件读写"><a href="#二进制文件读写" class="headerlink" title="二进制文件读写"></a>二进制文件读写</h3><p><strong>实现图片文件拷贝</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">二进制文件处理流程与文本文件一致，首先要创建文件对象，并制定二进制模式</span><br><span class="line">with open(<span class="string">&#x27;Mika.png&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>) as srcFile,open(<span class="string">&#x27;MikaMika.png&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>) as destFile:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> srcFile:</span><br><span class="line">        destFile.write(line)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240523012049.png"></p>
<h2 id="文件对象的常用属性和方法"><a href="#文件对象的常用属性和方法" class="headerlink" title="文件对象的常用属性和方法"></a>文件对象的常用属性和方法</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">name —— 名字</span><br><span class="line">mode —— 打开模式</span><br><span class="line">closed —— 如果关闭，则返回True</span><br><span class="line"></span><br><span class="line">模式	说明</span><br><span class="line">r	读模式</span><br><span class="line">w	写模式</span><br><span class="line">a	追加模式</span><br><span class="line">b	二进制模式（可与其他模式组合）</span><br><span class="line">+	读写模式（可以其他模式组合）</span><br><span class="line"></span><br><span class="line">方法名	说明</span><br><span class="line"><span class="built_in">read</span>([size])	从文件中读取size个字节或字符的内容返回。若省略[size]，则读取到文件末尾，即一次读取文件所有内容</span><br><span class="line">readline()	从文本文件中读取一行内容</span><br><span class="line">readlines()	把文本文件中每一行都作为独立的字符串对象，并将这些对象放入列表返回</span><br><span class="line">write(str)	将字符串str内容写入文件</span><br><span class="line">writelines(s)	将字符串列表s写入文件文件，不添加换行符</span><br><span class="line">seek(offset [,<span class="built_in">whence</span>])	把文件指针移动到新的位置，offset表示相对于<span class="built_in">whence</span>的多少个字节的偏移量；offset：off为正往结束方向移动，为负往开始方向移动<span class="built_in">whence</span>不同的值代表不同含义：0: 从文件头开始计算（默认值）1：从当前位置开始计算2：从文件尾开始计算</span><br><span class="line">tell()	返回文件指针的当前位置</span><br><span class="line"><span class="built_in">truncate</span>([size])	不论指针在什么位置，只留下指针前size个字节的内容，其余全部删除；如果没有传入size，则当指针当前位置到文件末尾内容全部删除</span><br><span class="line">flush()	把缓冲区的内容写入文件，但不关闭文件</span><br><span class="line">close()	把缓冲区内容写入文件，同时关闭文件，释放文件对象相关资源</span><br></pre></td></tr></table></figure>

<h2 id="文件的指针seek"><a href="#文件的指针seek" class="headerlink" title="文件的指针seek()"></a>文件的指针seek()</h2><p>文件的指针是用来标记位置的，用来做读操作和写操作</p>
<p>比如连续使用read和write，都是因为存在指针来进行标记</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">tell方法——查询指针位置，返回指针的位数</span></span><br><span class="line"><span class="string">位数：在utf-8的编码格式下，1个英文、数字对应1个位数，1个中文对应3个位数</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">seek方法——移动指针位置</span></span><br><span class="line"><span class="string">    def seek(self, offset: int, whence: int = 0) -&gt; int:</span></span><br><span class="line"><span class="string">offset为偏移量，可以为负数</span></span><br><span class="line"><span class="string">whence为偏移起始位置，0表示开头，1表示当前，2表示结尾</span></span><br><span class="line"><span class="string">——如果要指定whence，则需要以二进制方式打开，否则只能使用0；</span></span><br><span class="line"><span class="string">移动指针后如果写入内容，会覆盖旧内容；</span></span><br><span class="line"><span class="string">如果移动指针数不足字符所占位数就会乱码；如果新内容不足旧内容位数也会乱码</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#1王盛1王盛1123想1</span></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test2.json&quot;</span>,mode=<span class="string">&quot;r+&quot;</span>,encoding=<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(file.tell())</span><br><span class="line"><span class="built_in">print</span>(file.read(<span class="number">3</span>))</span><br><span class="line"><span class="built_in">print</span>(file.tell())</span><br><span class="line">file.close()</span><br><span class="line"><span class="comment">#0</span></span><br><span class="line"><span class="comment">#1王盛</span></span><br><span class="line"><span class="comment">#7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#嘿嘿嘿嘿嘿嘿</span></span><br><span class="line">file = <span class="built_in">open</span>(<span class="string">&quot;test2.json&quot;</span>,mode=<span class="string">&quot;r+b&quot;</span>)</span><br><span class="line">file.seek(<span class="number">3</span>,<span class="number">0</span>) <span class="comment">#开头</span></span><br><span class="line"><span class="built_in">print</span>(file.tell())</span><br><span class="line"><span class="comment">#3</span></span><br><span class="line">file.seek(<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(file.tell())</span><br><span class="line"><span class="comment">#3</span></span><br><span class="line">file.seek(<span class="number">3</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(file.tell())</span><br><span class="line"><span class="comment">#6</span></span><br><span class="line">file.write(<span class="string">&quot;哈哈&quot;</span>.encode()) <span class="comment">#以二进制方式写入</span></span><br><span class="line"><span class="comment">#嘿嘿哈哈嘿嘿</span></span><br><span class="line">相当于将位数<span class="number">6</span>开头的两个字符覆盖为哈哈</span><br><span class="line"></span><br><span class="line">乱码情况<span class="number">1</span>：</span><br><span class="line"><span class="comment">#1王盛1王盛1123想1</span></span><br><span class="line">同样的方法就会乱码，因为指针位数<span class="number">6</span>时位置在第一个“盛”中间</span><br><span class="line">移动位数不足字符“盛”所占位数</span><br><span class="line"></span><br><span class="line">乱码情况<span class="number">2</span>：</span><br><span class="line"><span class="comment">#1王盛1王盛1123想1</span></span><br><span class="line">指针位数<span class="number">7</span>时，输入插入“哈哈”占<span class="number">6</span>个指针位，但后面“<span class="number">1</span>王盛”占了<span class="number">7</span>个指针位</span><br><span class="line">未占满，所以也会乱码</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="pickle序列化和反序列化"><a href="#pickle序列化和反序列化" class="headerlink" title="pickle序列化和反序列化"></a>pickle序列化和反序列化</h2><p>序列化指的是将对象转化成串行化的数据形式，存储到硬盘或网络中<br>反序列化就是相反的过程，将串行数据转换成对象</p>
<p><code>对象的本质是一个存储数据的内存块</code> ，有时候需要将其保存在硬盘上，或者发送到网络中传输，此时就需要使用对象的序列化与反序列化</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">pickle.dump(obj,file) 将obj写到存储的file中</span></span><br><span class="line"><span class="string">pickle.undump(file) 从file读取数据，反序列化城对象</span></span><br><span class="line"><span class="string">&#x27;</span><span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">import pickle</span><br><span class="line">with open(<span class="string">&#x27;data.dat&#x27;</span>,<span class="string">&#x27;wb&#x27;</span>) as f:</span><br><span class="line">    name = <span class="string">&#x27;ws&#x27;</span></span><br><span class="line">    age = 25</span><br><span class="line">    score = [100,20,30]</span><br><span class="line">    resume = &#123;<span class="string">&#x27;name&#x27;</span>:name, <span class="string">&#x27;age&#x27;</span>:age, <span class="string">&#x27;score&#x27;</span>:score&#125;</span><br><span class="line">    pickle.dump(resume,f)</span><br><span class="line">    <span class="comment"># 将resume中的数据，写入f也就是data.dat文件中</span></span><br><span class="line"><span class="comment"># 乱码</span></span><br><span class="line"></span><br><span class="line">with open(<span class="string">&#x27;data.dat&#x27;</span>,<span class="string">&#x27;rb&#x27;</span>) as f: <span class="comment"># 读取这个二进制文件</span></span><br><span class="line">    resume = pickle.load(f) <span class="comment"># 载入到resume</span></span><br><span class="line">    <span class="built_in">print</span>(resume) <span class="comment"># 打印resume</span></span><br></pre></td></tr></table></figure>

<h2 id="CSV文件操作"><a href="#CSV文件操作" class="headerlink" title="CSV文件操作"></a>CSV文件操作</h2><p>cvs是逗号分隔符文本文件，常用于数据存储与交换，Excel文件、数据库的导入导出</p>
<p>Excel文件如果另存为csv文件，就是以逗号分隔的数据</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import csv</span><br><span class="line"><span class="comment"># 读取</span></span><br><span class="line">with open(r<span class="string">&quot;d:\a.csv&quot;</span>) as a:</span><br><span class="line">  a_csv = csv.reader(a)    <span class="comment">#创建csv对象,它是一个包含所有数据的列表，每一行为一个元素</span></span><br><span class="line">  headers = next(a_csv)    <span class="comment">#获得列表对象，包含标题行的信息</span></span><br><span class="line">  <span class="built_in">print</span>(headers)</span><br><span class="line">  <span class="keyword">for</span> row <span class="keyword">in</span> a_csv:      <span class="comment">#循环打印各行内容</span></span><br><span class="line">    <span class="built_in">print</span>(row)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写入</span></span><br><span class="line">with open(r<span class="string">&quot;d:\b.csv&quot;</span>,<span class="string">&quot;w&quot;</span>) as b:</span><br><span class="line">  b_csv = csv.writer(b)    <span class="comment">#创建csv对象</span></span><br><span class="line">  b_csv.writerow(headers)   <span class="comment">#写入一行（标题）</span></span><br><span class="line">  b_csv.writerows(rows)    <span class="comment">#写入多行（数据）</span></span><br></pre></td></tr></table></figure>

<h2 id="os与os-path模块"><a href="#os与os-path模块" class="headerlink" title="os与os.path模块"></a>os与os.path模块</h2><p>os模块可以直接对操作系统进行操作，可以直接调用操作系统的可执行文件、命令，直接操作文件、目录等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.system(<span class="string">&quot;ping www.baidu.com&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">方法名 描述</span></span><br><span class="line"><span class="string">remove(path) 删除指定的文件</span></span><br><span class="line"><span class="string">rename(src,dest) 重命名文件或目录</span></span><br><span class="line"><span class="string">stat(path) 返回文件的所有属性</span></span><br><span class="line"><span class="string">listdir(path) 返回path目录下的文件和目录列表</span></span><br><span class="line"><span class="string">mkdir(path) 创建目录</span></span><br><span class="line"><span class="string">makedirs(path1/path2/path3/...) 创建多级目录</span></span><br><span class="line"><span class="string">rmdir(path) 删除目录</span></span><br><span class="line"><span class="string">removedirs(path1/path2...) 删除多级目录</span></span><br><span class="line"><span class="string">getcwd() 返回当前工作目录：current work dir</span></span><br><span class="line"><span class="string">chdir(path) 把path设为当前工作目录</span></span><br><span class="line"><span class="string">walk() 遍历目录树</span></span><br><span class="line"><span class="string">sep 当前操作系统所使用的路径分隔符</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#测试os模块中，关于文件和目录的操作</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment">#打印基本的信息</span></span><br><span class="line"><span class="built_in">print</span>(os.name)  <span class="comment">#windows--&gt;nt linux--&gt;posix</span></span><br><span class="line"><span class="built_in">print</span>(os.sep)   <span class="comment">#windows--&gt;\   linux--&gt;/</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(os.linesep))   <span class="comment">#windows--&gt;\r\n  linux--&gt;\n</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># repr 把对象转换成字符串</span></span><br><span class="line">a = <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">repr</span>(a))      <span class="comment">#repr可以显示数据信息</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#获取文件和文件夹的相关信息</span></span><br><span class="line"><span class="built_in">print</span>(os.stat(<span class="string">&quot;my01.py&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">#获得当前工作目录</span></span><br><span class="line"><span class="built_in">print</span>(os.getcwd())   </span><br><span class="line"><span class="comment"># C:\Users\13209\PycharmProjects\project01</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#切换目录chdir-change dir</span></span><br><span class="line">os.chdir(<span class="string">&quot;d:&quot;</span>)      <span class="comment">#当前的工作目录就变成了d：的</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建目录、删除目录</span></span><br><span class="line">os.mkdir(<span class="string">&quot;ws&quot;</span>)</span><br><span class="line">os.rmdir(<span class="string">&quot;ws&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#创建多级目录，相当于mkdir -p</span></span><br><span class="line">os.makedirs(<span class="string">&quot;ws/123/qwe&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#重命名</span></span><br><span class="line">os.rename(<span class="string">&quot;ws&quot;</span>,<span class="string">&quot;xhy&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出子目录，相当于ls</span></span><br><span class="line">dirs = os.listdir(<span class="string">&quot;C:/&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(dirs)</span><br><span class="line"><span class="comment"># [&#x27;$360Section&#x27;, &#x27;$Recycle.Bin&#x27;, &#x27;$WINDOWS.~BT&#x27;, &#x27;$Windows.~WS&#x27;, &#x27;$Win...</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="os-path模块"><a href="#os-path模块" class="headerlink" title="os.path模块"></a>os.path模块</h3><p>实现对目录和文件名进行操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> path</span><br><span class="line"><span class="comment">#通过__file__属性，可以直接获取当前文件的绝对路径</span></span><br><span class="line"><span class="built_in">print</span>(__file__)</span><br><span class="line"><span class="comment">#C:\Users\13209\PycharmProjects\first\Study\临时，用以复制粘贴.py</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">abspath方法——返回指定文件的绝对路径</span></span><br><span class="line"><span class="string">basename方法——返回指定路径的最后一个部分</span></span><br><span class="line"><span class="string">dirname方法——返回文件的文件夹</span></span><br><span class="line"><span class="string">exist方法——判断文件或目录是否存在</span></span><br><span class="line"><span class="string">isdir方法——判断目录是否存在</span></span><br><span class="line"><span class="string">isfile方法——判断文件是否存在</span></span><br><span class="line"><span class="string">split方法——将路径分割为dirname与basename组成的元组</span></span><br><span class="line"><span class="string">splitext——将指定的路径分割为分拣和扩展名组成的元组</span></span><br><span class="line"><span class="string">join方法——拼接路径</span></span><br><span class="line"><span class="string">getctime——返回创建时间</span></span><br><span class="line"><span class="string">getatime——返回最后访问时间</span></span><br><span class="line"><span class="string">getmtime——返回最后修改时间</span></span><br><span class="line"><span class="string">walk——遍历</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#abspath方法——返回指定文件的绝对路径</span></span><br><span class="line"><span class="built_in">print</span>(path.abspath(<span class="string">&#x27;test.log&#x27;</span>))</span><br><span class="line"><span class="comment">#C:\Users\13209\PycharmProjects\first\Study\test.log</span></span><br><span class="line"><span class="comment">#也可以使用相对路径来指定文件</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#basename方法——返回指定路径的最后一个部分</span></span><br><span class="line"><span class="built_in">print</span>(path.basename(<span class="string">&#x27;./test1.json&#x27;</span>))</span><br><span class="line"><span class="comment">#test1.json</span></span><br><span class="line"><span class="comment">#适用于只想要名字的部分</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#dirname方法——返回文件的文件夹</span></span><br><span class="line"><span class="built_in">print</span>(path.dirname(<span class="string">&#x27;../Study/test1.json&#x27;</span>))</span><br><span class="line"><span class="comment">#../Study</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#exist方法——判断文件或目录是否存在</span></span><br><span class="line"><span class="built_in">print</span>(path.exists(<span class="string">&#x27;../Study&#x27;</span>))</span><br><span class="line"><span class="comment">#True 表示文件存在</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#isdir方法——检测目录是否存在</span></span><br><span class="line"><span class="built_in">print</span>(path.isdir(<span class="string">&#x27;../Study&#x27;</span>))</span><br><span class="line"><span class="comment">#isfile方法——检测文件是否存在</span></span><br><span class="line"><span class="built_in">print</span>(path.isfile(<span class="string">&#x27;函数.py&#x27;</span>))</span><br><span class="line"><span class="comment">#True</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#split方法——将路径分割为dirname与basename组成的元组</span></span><br><span class="line"><span class="built_in">print</span>(path.split(<span class="string">&quot;/Users/13209/AppData/Local/KOOK/KOOK.exe&quot;</span>))</span><br><span class="line"><span class="comment">#(&#x27;/Users/13209/AppData/Local/KOOK&#x27;, &#x27;KOOK.exe&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#splitext——将指定的路径分割为分拣和扩展名组成的元组</span></span><br><span class="line"><span class="built_in">print</span>(path.splitext(<span class="string">&#x27;/KOOK/KOOK.exe&#x27;</span>))</span><br><span class="line"><span class="comment">#(&#x27;/KOOK/KOOK&#x27;, &#x27;.exe&#x27;)</span></span><br><span class="line"><span class="comment">#可以用来获取文件的类型，用来做判断</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#join方法——拼接路径</span></span><br><span class="line"><span class="built_in">print</span>(path.join(<span class="string">&#x27;/ws&#x27;</span>,<span class="string">&#x27;xhy/qwe&#x27;</span>))</span><br><span class="line"><span class="comment">#/ws\xhy/qwe</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br><span class="line">嵌套，动态获取目录</span><br><span class="line">源文件一般在<span class="built_in">bin</span>下，但是程序根目录应该在<span class="built_in">bin</span>之上，所以需要进行嵌套</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line">PATH = path.dirname(__file__)</span><br><span class="line">sys.path.append(PATH)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(PATH)</span><br><span class="line"><span class="comment">#C:\Users\13209\PycharmProjects\first\Study</span></span><br><span class="line"></span><br><span class="line">切换到上级目录</span><br><span class="line">PATH = path.dirname(path.dirname(path.dirname(__file__)))</span><br><span class="line"><span class="comment">#C:\Users\13209\PycharmProjects</span></span><br><span class="line"></span><br><span class="line">列出指定目录下所有的 .py 文件，并输出文件名</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line">path = os.getcwd() <span class="comment"># 获得当前目录</span></span><br><span class="line">file_list = os.listdir(path) <span class="comment"># 列出目录下的文件和目录</span></span><br><span class="line"><span class="built_in">print</span>(file_list)</span><br><span class="line"><span class="keyword">for</span> file_name <span class="keyword">in</span> file_list:</span><br><span class="line">    pos = file_name.rfind(<span class="string">&#x27;.&#x27;</span>) <span class="comment"># 从右往左滑</span></span><br><span class="line">    <span class="keyword">if</span> file_name.endswith(<span class="string">&#x27;.py&#x27;</span>):</span><br><span class="line">        <span class="built_in">print</span>(file_name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用推导式</span></span><br><span class="line">file_list2 = [file_name <span class="keyword">for</span> file_name <span class="keyword">in</span> os.listdir(path) <span class="keyword">if</span> file_name.endswith(<span class="string">&#x27;.py&#x27;</span>)]</span><br><span class="line"><span class="keyword">for</span> file_name <span class="keyword">in</span> file_list2:</span><br><span class="line">    <span class="built_in">print</span>(file_name)</span><br></pre></td></tr></table></figure>

<h3 id="walk遍历"><a href="#walk遍历" class="headerlink" title="walk遍历"></a>walk遍历</h3><p>os.walk() 方法是一个简单易用的文件、目录遍历器，可以帮助我们高<br>效的处理文件、目录</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">os.walk(top[, topdown=<span class="literal">True</span>[, onerror=<span class="literal">None</span>[, followlinks=<span class="literal">False</span>]]])</span><br><span class="line">其中， top :是要遍历的目录。 topdown ：可选， <span class="literal">True</span> ，先遍历 top 目录</span><br><span class="line">再遍历子目录。</span><br><span class="line"></span><br><span class="line">返回三元组（root、dirs、files）：</span><br><span class="line">root ：当前正在遍历的文件夹本身</span><br><span class="line">dirs ：一个列表，该文件夹中所有的目录的名字</span><br><span class="line">files ：一个列表，该文件夹中所有的文件的名字</span><br><span class="line"></span><br><span class="line">例子：</span><br><span class="line"><span class="keyword">import</span> os  </span><br><span class="line">path = os.getcwd()  </span><br><span class="line">  </span><br><span class="line"><span class="comment"># 注意这里不是 list_files = os.walk(path, topdown=True)，而是直接在 for 循环中使用  </span></span><br><span class="line"><span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(path, topdown=<span class="literal">True</span>):  </span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> files:  </span><br><span class="line">        <span class="built_in">print</span>(os.path.join(root, name))  <span class="comment"># 打印当前目录下的文件完整路径  </span></span><br><span class="line">    <span class="keyword">for</span> name <span class="keyword">in</span> dirs:  </span><br><span class="line">        <span class="built_in">print</span>(os.path.join(root, name))  <span class="comment"># 打印当前目录下的子目录完整路径  </span></span><br><span class="line">        <span class="comment"># 注意：这里只是打印子目录路径，而不是递归地遍历它们</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 递归算法，打印目录下的所有文件</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> os.path</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_file</span>(<span class="params">path,level</span>):</span><br><span class="line">    child_files = os.listdir(path)</span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> child_files:</span><br><span class="line">        file_name = os.path.join(path,file)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;\t&quot;</span>*level+file_name)</span><br><span class="line">        <span class="keyword">if</span> os.path.isdir(file_name):</span><br><span class="line">            print_file(file_name,level+<span class="number">1</span>)</span><br><span class="line">print_file(os.path.dirname(os.getcwd()),level=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<h2 id="shutil模块（拷贝与压缩"><a href="#shutil模块（拷贝与压缩" class="headerlink" title="shutil模块（拷贝与压缩"></a>shutil模块（拷贝与压缩</h2><p>shutil 模块是python标准库中提供的，主要用来做文件和文件夹的拷<br>贝、移动、删除等</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="comment">#copy文件内容</span></span><br><span class="line">shutil.copyfile(<span class="string">&quot;a.txt&quot;</span>,<span class="string">&quot;a_copy.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">递归拷贝（复制目录</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="comment">#&quot;音乐&quot;文件夹不存在才能用。</span></span><br><span class="line"><span class="comment"># 忽略以.html和.htm结尾的文件</span></span><br><span class="line">shutil.copytree(<span class="string">&quot;电影/学习&quot;</span>,<span class="string">&quot;音乐&quot;</span>,ignore=shutil.ignore_patterns(<span class="string">&quot;*.html&quot;</span>,<span class="string">&quot;*.htm&quot;</span>))</span><br><span class="line"></span><br><span class="line">压缩与解压缩</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> zipfile</span><br><span class="line">shutil.make_archive(<span class="string">&#x27;目标位置&#x27;</span>,<span class="string">&#x27;压缩方式&#x27;</span>,<span class="string">&#x27;压缩文件&#x27;</span>)</span><br><span class="line"><span class="comment"># 压缩锁哥文件，mode=w代表压缩，r代表解压缩</span></span><br><span class="line">z = zipfile.Zipfile(<span class="string">&quot;a.zip&quot;</span>,<span class="string">&quot;w&quot;</span>)</span><br><span class="line">z.write(<span class="string">&quot;a.txt&quot;</span>)</span><br><span class="line"></span><br><span class="line">z2 = zipfile.ZipFile(<span class="string">&quot;目标文件&quot;</span>,<span class="string">&quot;r&quot;</span>)</span><br><span class="line">z.write(<span class="string">&quot;a.txt&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h1><p>为了让一个源码文件中定义的函数，可以被另外一个源码文件所引用，就需要使用模块。一个python源文件就是一个模块</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240525161637.png"></p>
<p>模块：提供现成的函数和对象给需要的源码使用<br>包：多个模块或模块包的集合，包也可以说是一个模块<br>成员：组成模块或模块包的其中一部分，比如属性、函数都可以称为xx模块包的成员</p>
<p>模块的类型：<br>1、自己写的源码<br>2、标准模块（开发者定义的）<br>3、第三方模块（其他人开发的）</p>
<h2 id="模块化编程的流程"><a href="#模块化编程的流程" class="headerlink" title="模块化编程的流程"></a>模块化编程的流程</h2><p>模块化编程的一般流程：</p>
<ol>
<li>设计API，进行功能描述。（设计）</li>
<li>编码实现API中描述的功能。（编码）</li>
<li>在模块中编写测试代码，并消除全局代码。（测试）</li>
<li>使用私有函数实现不被外部客户端调用的模块函数。</li>
</ol>
<p>下面是一个API的例子：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#encoding=utf-8</span></span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot;</span></span><br><span class="line"><span class="string">本模块用于计算公司员工的薪资</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line"><span class="string">company</span> <span class="string">=</span> <span class="string">&quot;xxxxx&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">def</span> <span class="string">yearSalary(monthSalary):</span></span><br><span class="line">  <span class="string">&quot;&quot;</span><span class="string">&quot;根据传入的月薪，计算出年薪&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="string">pass</span></span><br><span class="line"></span><br><span class="line"><span class="string">def</span> <span class="string">daySalary(monthSalary):</span></span><br><span class="line">  <span class="string">&quot;&quot;</span><span class="string">&quot;根据传入的月薪，计算出每天的薪资&quot;</span><span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="string">pass</span></span><br><span class="line">  </span><br><span class="line"><span class="string">&quot;&quot;</span><span class="string">&quot; </span></span><br><span class="line"><span class="string">测试</span></span><br><span class="line"><span class="string">&quot;</span><span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<p>import加载的模块分为四种类型：</p>
<ol>
<li>使用python编写的代码.py文件</li>
<li>已被编译为共享库或DLL的C或C++扩展</li>
<li>一组模块的包</li>
<li>使用C编写并链接到python解释器的内置模块</li>
</ol>
<h2 id="包-package-的概念和结构"><a href="#包-package-的概念和结构" class="headerlink" title="包(package)的概念和结构"></a>包(package)的概念和结构</h2><p>当一个项目中有很多个模块时，需要再进行组织。我们将功能类似的模块放到一起，形成了“包”。本质上，“包”就是一个必须有__init__.py的文件夹。</p>
<p>在pycharm中创建包时，会自动创建带有__init__.py文件的包，在不同级的目录下，可以使用不同的级的模块。</p>
<p>导入包的过程本质上是导入了包的__init__.py文件，也就是执行了__init__.py文件，如果在里面import了包，也会被一并导入</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">import</span> <span class="string">*</span> <span class="string">语句理论上是希望文件系统找出包中所有的子模块，然后导入它们。这可能会花长时间</span></span><br><span class="line"><span class="string">Python</span> <span class="string">解决方案是提供一个明确的包索引：</span></span><br><span class="line"></span><br><span class="line"><span class="string">在__init__.py中定义__all__变量：</span></span><br><span class="line"><span class="string">__all__=[&#x27;moduleA&#x27;,&#x27;moduleB&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="string">不建议使用import</span> <span class="string">*</span></span><br></pre></td></tr></table></figure>

<h2 id="库"><a href="#库" class="headerlink" title="库"></a>库</h2><p>Python中库是借用其他编程语言的概念，没有特别具体的定义。</p>
<p>模块和包侧重于代码组织，有明确的定义。库强调的是功能性，而不是代码组织。</p>
<p>通常将某个功能的“模块的集合”，称为库。</p>
<p>Python标准库的主要功能有</p>
<ol>
<li>文本处理，包含文本格式化、正则表达式匹配、文本差异计算与合并、Unicode支持，二进制数据处理等功能</li>
<li>文件处理，包含文件操作、创建临时文件、文件压缩与归档、操作配置文件等功能</li>
<li>操作系统功能，包含线程与进程支持、IO复用、日期与时间处理、调用系统函数、日志（logging）等功能</li>
<li>网络通信，包含网络套接字，SSL加密通信、异步网络通信等功能</li>
<li>网络协议，支持HTTP，FTP，SMTP，POP，IMAP，NNTP，XMLRPC等多种网络协议，并提供了编写网络服务器的框架</li>
<li>W3C格式支持，包含HTML，SGML，XML的处理。</li>
<li>其它功能，包括国际化支持、数学运算、HASH、Tkinter等</li>
</ol>
<h2 id="使用模块"><a href="#使用模块" class="headerlink" title="使用模块"></a>使用模块</h2><p>下面代码块对以下一些内容进行了说明：模块的基础操作、主函数的作用、python查找模块的顺序、<strong>init</strong>.py文件的作用、项目目录的创建以及添加环境变量的操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#导入模块</span></span><br><span class="line"><span class="comment">#import 模块名</span></span><br><span class="line"><span class="keyword">import</span> test1</span><br><span class="line">test1.fun1()</span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#可以给模块设置别名 as 关键字</span></span><br><span class="line"><span class="keyword">import</span> test1 <span class="keyword">as</span> ws</span><br><span class="line">ws.fun1()</span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#一次导入多个模块，也可以添加别名</span></span><br><span class="line"><span class="keyword">import</span> test1 <span class="keyword">as</span> ws,os <span class="keyword">as</span> OS ,json <span class="keyword">as</span> JSON</span><br><span class="line">ws.fun1()</span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"><span class="comment">#import中，默认会导入模块中的所有成员</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#在模块中导入指定的成员</span></span><br><span class="line"><span class="comment">#from ... import ...</span></span><br><span class="line"><span class="keyword">from</span> test1 <span class="keyword">import</span> fun1</span><br><span class="line"><span class="comment">#直接导入后，可以直接执行，当成自己的函数或属性</span></span><br><span class="line">fun1()</span><br><span class="line"><span class="comment">#ws</span></span><br><span class="line"><span class="comment">#多个导入</span></span><br><span class="line"><span class="keyword">from</span> test1 <span class="keyword">import</span> fun1,fun2</span><br><span class="line"><span class="comment">#在模块包中导入某个模块</span></span><br><span class="line"><span class="keyword">from</span> asyncio <span class="keyword">import</span> protocols,tasks</span><br><span class="line"><span class="comment">#在模块包中导入某个模块内的成员</span></span><br><span class="line"><span class="keyword">from</span> asyncio.protocols <span class="keyword">import</span> BaseProtocol</span><br><span class="line"><span class="comment">#在模块包中导入某个模块内的成员，并设置别名</span></span><br><span class="line"><span class="keyword">from</span> asyncio.protocols <span class="keyword">import</span> BaseProtocol <span class="keyword">as</span> xx</span><br><span class="line"></span><br><span class="line">主函数的作用————将主逻辑与实现区分开</span><br><span class="line">在main中定义的函数，只有当源码作为程序执行时才会执行，在导入时就不会被执行</span><br><span class="line">当文件被当成模块导入时，只会执行main函数以外的函数</span><br><span class="line"></span><br><span class="line">python寻找模块的顺序————如何让模块被源码找到</span><br><span class="line">内置模块</span><br><span class="line">环境变量PYTHONPATH指定的模块</span><br><span class="line">标准库，包含了很多有用的模块，例如os、sys等</span><br><span class="line">当前目录：在当前脚本文件所在的目录中查找模块</span><br><span class="line">安装的第三方库，通常是使用pip或其他包管理工具安装的</span><br><span class="line"></span><br><span class="line"><span class="comment">#__init__.py文件 ———— 是模块的入口，直接导入模块包时将读取这个文件</span></span><br><span class="line">自己定义模块时，就需要添加__init__.py</span><br><span class="line">可以放入一些备注信息，也可以提供可调用的对象，比如如果在__init__.py定义了函数，那么导入后可以直接使用。</span><br><span class="line">可以将模块包内的成员都引入，使用时就可以使用顶层的模块包进行调用，不需要在用<span class="keyword">from</span> mod.xxx <span class="keyword">import</span> xxx的方式了</span><br><span class="line"><span class="comment"># 用__init__.py之前</span></span><br><span class="line"><span class="keyword">from</span> v1_1 <span class="keyword">import</span> v1,v2</span><br><span class="line"><span class="keyword">from</span> v1_1.n1_1 <span class="keyword">import</span> n1,n2 <span class="comment">#n1_1是二层模块</span></span><br><span class="line">v1.fun()</span><br><span class="line">v2.fun()</span><br><span class="line">v1_1.n1()</span><br><span class="line"></span><br><span class="line"><span class="comment">#用__init__.py之后，简化源码中的调用过程</span></span><br><span class="line"><span class="comment">#__init__py文件：</span></span><br><span class="line"><span class="keyword">from</span> .n1_1 <span class="keyword">import</span> * <span class="comment">#调用所有n1_1内的内容</span></span><br><span class="line"><span class="comment">#源码</span></span><br><span class="line"><span class="keyword">import</span> v1_1</span><br><span class="line">v1_1.n1()</span><br><span class="line"><span class="comment">#在顶层模块包的__init__.py，可以对二层、三层的模块的__init__.py文件进行引入</span></span><br><span class="line"><span class="comment">#使源码可以直接从顶层模块对底层的模块对象进行调用</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#做项目的注意点</span></span><br><span class="line"><span class="comment">#做项目时，首先要创建工程目录</span></span><br><span class="line"><span class="comment">#工程目录的标准化创建思路：</span></span><br><span class="line"><span class="number">1.</span>将功能不同的代码区分开。比如<span class="built_in">bin</span>，db，logs，data等目录</span><br><span class="line"><span class="built_in">bin</span>目录要包含main.py，写程序主体逻辑</span><br><span class="line"><span class="number">2.</span>要有readme文件，作为变量、函数、类的一些说明文件</span><br><span class="line"><span class="number">3.</span>要写帮助文档，即在函数下加<span class="string">&quot;&quot;&quot;&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#动态将项目目录添加到环境变量列表</span></span><br><span class="line"><span class="comment">#文件中导入另外的模块，需要将这些项目目录添加到环境变量列表，不然无法找到（参考前面“python寻找模块的顺序”）</span></span><br><span class="line"><span class="comment">#如果环境变量中没有项目目录，那么import引入就会导致错误</span></span><br><span class="line"><span class="comment">#查看操作系统环境变量列表</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="built_in">print</span>(sys.path)</span><br><span class="line"><span class="comment">#[&#x27;C:\\Users\\13209\\PycharmProjects\\first\\Study&#x27;, &#x27;C:\\Users\\13209\\PycharmProjects\\first&#x27;, &#x27;C:\\Users\\13209\\.conda\\envs\\demo\\python37.zip&#x27;, &#x27;C:\\Users\\13209\\.conda\\envs\\demo\\DLLs&#x27;, &#x27;C:\\Users\\13209\\.conda\\envs\\demo\\lib&#x27;, &#x27;C:\\Users\\13209\\.conda\\envs\\demo&#x27;, &#x27;C:\\Users\\13209\\.conda\\envs\\demo\\lib\\site-packages&#x27;]</span></span><br><span class="line"><span class="comment">#将路径添加到环境变量中，以桌面举例</span></span><br><span class="line">PATH=<span class="string">&#x27;C:\Users\13209\Desktop&#x27;</span>  <span class="comment">#把桌面的路径赋值给PATH</span></span><br><span class="line">sys.path.append(PATH)       <span class="comment">#用sys的函数添加，当代码在运行时，临时生效</span></span><br><span class="line"><span class="comment">#再import引入就不会导致异常</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h1 id="常用模块"><a href="#常用模块" class="headerlink" title="常用模块"></a>常用模块</h1><h2 id="re模块"><a href="#re模块" class="headerlink" title="re模块"></a>re模块</h2><p>#re模块，正则表达式————用于查找和验证<br>其实正则之前在grep那篇博客里也稍微讲过，这里就比较完整</p>
<h3 id="正则表达式规则"><a href="#正则表达式规则" class="headerlink" title="正则表达式规则"></a>正则表达式规则</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#预定义字符</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">\d 匹配所有十进制数字</span></span><br><span class="line"><span class="string">\D 匹配所有非数字，包含下划线</span></span><br><span class="line"><span class="string">\s 匹配所有空白字符，匹配空格</span></span><br><span class="line"><span class="string">\S 匹配所有非空字符，包括下划线</span></span><br><span class="line"><span class="string">\w 匹配所有字母，汉字和数字</span></span><br><span class="line"><span class="string">\W 匹配所有非字母，汉字和数字，包括下划线</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">eg:</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">str1 = <span class="string">&#x27;[qwesad王]3 214&#x27;</span></span><br><span class="line">chazhao = re.search(<span class="string">&#x27;\d&#x27;</span>,str1) <span class="comment">#使用re.search方法进行检索</span></span><br><span class="line"><span class="built_in">print</span>(chazhao.group())</span><br><span class="line"></span><br><span class="line"><span class="comment">#特殊字符</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">$ 结尾</span></span><br><span class="line"><span class="string">^ 开头</span></span><br><span class="line"><span class="string">* 可以出现n次</span></span><br><span class="line"><span class="string">+ 可以出现1次及以上</span></span><br><span class="line"><span class="string">？使用勉强模式——使其匹配的尽量少，可以为0</span></span><br><span class="line"><span class="string">. 匹配除了\n以外的所有单个字符</span></span><br><span class="line"><span class="string">| 或符，二选一进行匹配</span></span><br><span class="line"><span class="string">[]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">eg:</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">str1 = <span class="string">&#x27;[11sw11王11wss1111ws1123]3214&#x27;</span></span><br><span class="line">chazhao = re.findall(<span class="string">&#x27;ws*&#x27;</span>,str1)  <span class="comment">#输出一个列表</span></span><br><span class="line"><span class="built_in">print</span>(chazhao)</span><br><span class="line"><span class="comment">#[&#x27;w&#x27;, &#x27;wss&#x27;, &#x27;ws&#x27;]</span></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;ws+&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;wss&#x27;, &#x27;ws&#x27;]</span></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;ws+?&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;ws&#x27;, &#x27;ws&#x27;]</span></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;ws?&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;w&#x27;, &#x27;ws&#x27;, &#x27;ws&#x27;]</span></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;s.&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;sw&#x27;, &#x27;ss&#x27;, &#x27;s1&#x27;]</span></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;王.|32?&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;王1&#x27;, &#x27;3&#x27;, &#x27;32&#x27;]</span></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;[a-z]&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;s&#x27;, &#x27;w&#x27;, &#x27;w&#x27;, &#x27;s&#x27;, &#x27;s&#x27;, &#x27;w&#x27;, &#x27;s&#x27;]</span></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;[a-z0-9A-Z]+&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;11sw11&#x27;, &#x27;11wss1111ws1123&#x27;, &#x27;32W4&#x27;]</span></span><br><span class="line"></span><br><span class="line">(<span class="string">&#x27;[^a-z0-9A-Z]+&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;[&#x27;, &#x27;王&#x27;, &#x27;]&#x27;]</span></span><br><span class="line"></span><br><span class="line">str1 = <span class="string">&#x27;[11sw11王11wss1111ws1123]3214&#x27;</span></span><br><span class="line">chazhao = re.findall(<span class="string">&#x27;1&#123;1,3&#125;&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;11&#x27;, &#x27;11&#x27;, &#x27;11&#x27;, &#x27;111&#x27;, &#x27;1&#x27;, &#x27;11&#x27;]</span></span><br><span class="line">(<span class="string">&#x27;1&#123;3,&#125;&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;1111&#x27;]</span></span><br><span class="line">(<span class="string">&#x27;s1&#123;,3&#125;&#x27;</span>,str1)</span><br><span class="line"><span class="comment">#[&#x27;s&#x27;, &#x27;s&#x27;, &#x27;s111&#x27;, &#x27;s11&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#合理字符</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">\t 制表符</span></span><br><span class="line"><span class="string">\n 换行</span></span><br><span class="line"><span class="string">\r 回车</span></span><br><span class="line"><span class="string">\f 分页符</span></span><br><span class="line"><span class="string">\a 报警符</span></span><br><span class="line"><span class="string">\e 空格符</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#原始字符串r</span></span><br><span class="line"><span class="comment">#解决反斜杠问题，如果想要匹配一个字符串中的\，在re.findall(&#x27;s1&#123;,3&#125;&#x27;,str1)需要添加多个斜杠来表示</span></span><br><span class="line"><span class="comment">#例如：</span></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line">str1=<span class="string">&#x27;\\234 sdqs&#x27;</span></span><br><span class="line">chazhao = re.search(<span class="string">&#x27;\\\\\w+&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(str1)</span><br><span class="line"><span class="comment">#\234 sdqs</span></span><br><span class="line"><span class="built_in">print</span>(chazhao.group())</span><br><span class="line"><span class="comment">#\234</span></span><br><span class="line"><span class="comment">#使用原始字符串r</span></span><br><span class="line">str2=<span class="string">r&#x27;\213 3124&#x27;</span></span><br><span class="line">chazhao2 = re.search(<span class="string">r&#x27;\\\w+&#x27;</span>,str2)</span><br><span class="line"><span class="built_in">print</span>(str2)</span><br><span class="line"><span class="comment">#\213 3124</span></span><br><span class="line"><span class="built_in">print</span>(chazhao2.group())</span><br><span class="line"><span class="comment">#\213</span></span><br></pre></td></tr></table></figure>

<h3 id="正则表达式方法"><a href="#正则表达式方法" class="headerlink" title="正则表达式方法"></a>正则表达式方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment">#match方法——只从开头进行匹配</span></span><br><span class="line">str1 = <span class="string">&quot;/data/NFSdata 192.168.8.0/24(rw,sync)&quot;</span></span><br><span class="line">chazhao = re.<span class="keyword">match</span>(<span class="string">&#x27;NFS&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(chazhao)</span><br><span class="line"><span class="comment">#None</span></span><br><span class="line">chazhao2 = re.<span class="keyword">match</span>(<span class="string">&#x27;/data&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(chazhao2))    <span class="comment">#如果有，就会返回match类型的对象</span></span><br><span class="line"><span class="comment">#&lt;class &#x27;re.Match&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(chazhao2.group())</span><br><span class="line"><span class="comment">#/data</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#search方法——进行单个匹配</span></span><br><span class="line">chazhao3 = re.search(<span class="string">&#x27;/NFS\w+&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(chazhao3))     <span class="comment">#如果有，就会返回match类型的对象</span></span><br><span class="line"><span class="comment">#&lt;class &#x27;re.Match&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(chazhao3.group())</span><br><span class="line"><span class="comment">#/NFSdata</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#findall方法——返回所有匹配的字符串的列表</span></span><br><span class="line">chazhao4 = re.findall(<span class="string">&#x27;[a-z]+&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(chazhao4)</span><br><span class="line"><span class="comment">#[&#x27;data&#x27;, &#x27;data&#x27;, &#x27;rw&#x27;, &#x27;sync&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#finditer方法——返回字符串组成的迭代器</span></span><br><span class="line">chazhao4 = re.finditer(<span class="string">&#x27;[a-z]+&#x27;</span>,str1)    <span class="comment">#输出一个迭代器</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> chazhao4:                              <span class="comment">#通过循环进行遍历，进行查看</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line"><span class="comment"># &lt;re.Match object; span=(1, 5), match=&#x27;data&#x27;&gt;</span></span><br><span class="line"><span class="comment"># &lt;re.Match object; span=(9, 13), match=&#x27;data&#x27;&gt;</span></span><br><span class="line"><span class="comment"># &lt;re.Match object; span=(29, 31), match=&#x27;rw&#x27;&gt;</span></span><br><span class="line"><span class="comment"># &lt;re.Match object; span=(32, 36), match=&#x27;sync&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#fullmatch方法——必须完全匹配</span></span><br><span class="line">chazhao5 = re.fullmatch(<span class="string">&#x27;\s+&#x27;</span>,str1)  <span class="comment">#不完全匹配则返回空值</span></span><br><span class="line"><span class="built_in">print</span>(chazhao5)</span><br><span class="line"><span class="comment">#None</span></span><br><span class="line">str2 = <span class="string">&#x27;1234542134&#x27;</span></span><br><span class="line">chazhao6 = re.fullmatch(<span class="string">&#x27;\d+&#x27;</span>,str2) <span class="comment">#完全匹配</span></span><br><span class="line"><span class="built_in">print</span>(chazhao6.group())</span><br><span class="line"><span class="comment">#1234542134</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sub方法-将匹配的文本替换为其他文本</span></span><br><span class="line">str1 = <span class="string">&#x27;/data/NFSdata 192.168.8.0/24(rw,sync)&#x27;</span></span><br><span class="line"><span class="comment">#def sub(pattern, repl, string, count=0, flags=0): 匹配条件、替换值、目标文本、替换次数</span></span><br><span class="line">str1 = re.sub(<span class="string">&#x27;\d+&#x27;</span>,<span class="string">&#x27;1&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(str1)</span><br><span class="line"><span class="comment">#/data/NFSdata 1.1.1.1/1(rw,sync)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#split方法-从匹配文本处切割，返回切割后的文本的列表</span></span><br><span class="line">str1 = <span class="string">&#x27;/data/NFSdata 192.168.8.0/24(rw,sync)&#x27;</span></span><br><span class="line"><span class="comment">#def split(pattern, string, maxsplit=0, flags=0): 匹配条件、目标文本、最大切割次数</span></span><br><span class="line">list1 = re.split(<span class="string">&#x27;192.168.8.0/24&#x27;</span>,str1,maxsplit=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[&#x27;/data/NFSdata &#x27;, &#x27;(rw,sync)&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#分组字符()</span></span><br><span class="line">str1 = <span class="string">&#x27;/data/NFSdata 192.168.8.0/24(rw,sync)&#x27;</span></span><br><span class="line">chazhao = re.search(<span class="string">&#x27;(.*)\s(.*)\((.*)\)&#x27;</span>,str1)  <span class="comment">#在筛选条件中我加了(),将其分成了三个分组</span></span><br><span class="line"><span class="built_in">print</span>(chazhao)</span><br><span class="line"><span class="comment">#&lt;re.Match object; span=(0, 37), match=&#x27;/data/NFSdata 192.168.8.0/24(rw,sync)&#x27;&gt;</span></span><br><span class="line"><span class="comment">#此时re.search返回的是match类型的数据</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#group方法——匹配对象的方法，直接查看匹配到的内容</span></span><br><span class="line"><span class="built_in">print</span>(chazhao.group(<span class="number">0</span>)) <span class="comment">#默认，其本身</span></span><br><span class="line"><span class="comment">#/data/NFSdata 192.168.8.0/24(rw,sync)</span></span><br><span class="line"><span class="built_in">print</span>(chazhao.group(<span class="number">1</span>)) <span class="comment">#分组索引1</span></span><br><span class="line"><span class="comment">#/data/NFSdata</span></span><br><span class="line"><span class="built_in">print</span>(chazhao.group(<span class="number">2</span>)) <span class="comment">#分组索引2</span></span><br><span class="line"><span class="comment">#192.168.8.0/24</span></span><br><span class="line"><span class="built_in">print</span>(chazhao.group(<span class="number">3</span>))</span><br><span class="line"><span class="comment">#rw,sync</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#groups方法——匹配对象的方法，以元组方式返回</span></span><br><span class="line"><span class="built_in">print</span>(chazhao.groups())</span><br><span class="line"><span class="comment">#(&#x27;/data/NFSdata&#x27;, &#x27;192.168.8.0/24&#x27;, &#x27;rw,sync&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#groupdict方法——匹配对象的方法，以字典、键值对方式返回，但需要命名</span></span><br><span class="line"><span class="comment">#命名方式(?P&lt;name&gt;条件)</span></span><br><span class="line">chazhao2 = re.search(<span class="string">&#x27;(?P&lt;path&gt;.*)\s(?P&lt;ip&gt;.*)\((?P&lt;mod&gt;.*)\)&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(chazhao2.groupdict())</span><br><span class="line"><span class="comment">#&#123;&#x27;path&#x27;: &#x27;/data/NFSdata&#x27;, &#x27;ip&#x27;: &#x27;192.168.8.0/24&#x27;, &#x27;mod&#x27;: &#x27;rw,sync&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#start方法——匹配的文本的起始位索引</span></span><br><span class="line"><span class="comment">#end方法——匹配的文本的结束位索引</span></span><br><span class="line"><span class="comment">#span方法——返回起始位与结束位索引组成的元组</span></span><br><span class="line">str1 = <span class="string">&#x27;1234567qwerty&#x27;</span></span><br><span class="line">chazhao = re.search(<span class="string">&#x27;\d+&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(chazhao.start())</span><br><span class="line"><span class="built_in">print</span>(chazhao.end())</span><br><span class="line"><span class="built_in">print</span>(chazhao.span())</span><br><span class="line"><span class="comment"># 0</span></span><br><span class="line"><span class="comment"># 7</span></span><br><span class="line"><span class="comment"># (0, 7)</span></span><br><span class="line">chazhao2 = re.search(<span class="string">&#x27;[a-z]+&#x27;</span>,str1)</span><br><span class="line"><span class="built_in">print</span>(chazhao2.start())</span><br><span class="line"><span class="built_in">print</span>(chazhao2.end())</span><br><span class="line"><span class="built_in">print</span>(chazhao2.span())</span><br><span class="line"><span class="comment"># 7</span></span><br><span class="line"><span class="comment"># 13</span></span><br><span class="line"><span class="comment"># (7, 13)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="常用模块random"><a href="#常用模块random" class="headerlink" title="常用模块random"></a>常用模块random</h2><p>random伪随机数模块</p>
<h3 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment">#random-随机产生介于0和1之间的浮点数</span></span><br><span class="line"><span class="built_in">print</span>(random.random())</span><br><span class="line"><span class="comment">#0.34633936404062204</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#uniform-随机产生介于指定值之间的浮点数</span></span><br><span class="line"><span class="built_in">print</span>(random.uniform(<span class="number">1.5</span>,<span class="number">1.6</span>)) <span class="comment">#大小和前后无所谓；在函数内部，转换为浮点数进行计算</span></span><br><span class="line"><span class="comment">#1.5390638024943262</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#randint-随处产生介于指定值之间的整数</span></span><br><span class="line"><span class="built_in">print</span>(random.randint(<span class="number">1234</span>,<span class="number">42156</span>)) <span class="comment">#要求a&gt;b</span></span><br><span class="line"><span class="comment">#29306</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#randrange-随机产生位于范围的数值</span></span><br><span class="line"><span class="built_in">print</span>(random.randrange(<span class="number">1</span>,<span class="number">200</span>,<span class="number">10</span>))  <span class="comment">#可指定步长</span></span><br><span class="line"><span class="comment">#31</span></span><br><span class="line"><span class="comment">#71</span></span><br><span class="line"><span class="comment">#91</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#choice-从有序序列中随机抽取一项</span></span><br><span class="line"><span class="built_in">print</span>(random.choice([<span class="number">1</span>,<span class="number">2</span>,<span class="number">5</span>,<span class="number">846</span>,<span class="number">1234</span>,<span class="number">614</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment">#shuffle-将一个列表中的元素打乱</span></span><br><span class="line">list1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">random.shuffle(list1)  <span class="comment">#shuffle直接在list中修改</span></span><br><span class="line"><span class="built_in">print</span>(list1)</span><br><span class="line"><span class="comment">#[3, 4, 5, 2, 1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sample-从一个序列中取出指定数量的元素进行随机排序</span></span><br><span class="line">list1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line">list2 = random.sample(list1,<span class="number">5</span>)   <span class="comment">#sample需要设置一个对象去进行接受</span></span><br><span class="line"><span class="built_in">print</span>(list2)</span><br><span class="line"><span class="comment">#[3, 2, 8, 5, 7]</span></span><br></pre></td></tr></table></figure>

<h2 id="常用模块-JSON"><a href="#常用模块-JSON" class="headerlink" title="常用模块-JSON"></a>常用模块-JSON</h2><p>JSON是一种轻量级的数据交换格式，可以用以给程序之间交换数据</p>
<p>JSON为多种语言设计了接口，是一种“通用文本”</p>
<p>JSON的数据存储有两种格式：键值对、数组</p>
<h3 id="常用方法-1"><a href="#常用方法-1" class="headerlink" title="常用方法"></a>常用方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="comment">#dump-将python对象保存为JSON</span></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;王盛&#x27;</span>&#125;</span><br><span class="line">filepro=<span class="built_in">open</span>(<span class="string">&#x27;test1.json&#x27;</span>,<span class="string">&#x27;w&#x27;</span>)                  <span class="comment">#打开一个文件对象 名为test1.json，给与可写权限</span></span><br><span class="line">json.dump(dict1,filepro,ensure_ascii=<span class="literal">True</span>)      <span class="comment">#指定一个python对象、指定一个fileproject文件对象</span></span><br><span class="line"><span class="comment"># def dump(obj, fp, *, skipkeys=False, ensure_ascii=True, check_circular=True,</span></span><br><span class="line"><span class="comment">#         allow_nan=True, cls=None, indent=None, separators=None,</span></span><br><span class="line"><span class="comment">#         default=None, sort_keys=False, **kw):</span></span><br><span class="line"><span class="comment">#&#123;&quot;name&quot;: &quot;\u738b\u76db&quot;&#125;</span></span><br><span class="line">json.dump(dict1,filepro,ensure_ascii=<span class="literal">False</span>)             <span class="comment">#禁止转码</span></span><br><span class="line"><span class="comment">#&#123;&quot;name&quot;: &quot;王盛&quot;&#125;</span></span><br><span class="line">json.dump(dict1,filepro,ensure_ascii=<span class="literal">False</span>,indent=<span class="number">2</span>)    <span class="comment">#顶格2字符</span></span><br><span class="line"><span class="comment"># &#123;</span></span><br><span class="line"><span class="comment">#   &quot;name&quot;: &quot;王盛&quot;</span></span><br><span class="line"><span class="comment"># &#125;</span></span><br><span class="line">filepro.close()</span><br><span class="line"><span class="comment">#此时查看本目录下的test.json聚能看到已经记录上去</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#load-将JSON文件转换成python对象</span></span><br><span class="line">file=<span class="built_in">open</span>(<span class="string">&#x27;test1.json&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">dict1 = json.load(file)   <span class="comment">#返回一个字典</span></span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"><span class="comment">#&#123;&#x27;name&#x27;: &#x27;王盛&#x27;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#</span></span><br></pre></td></tr></table></figure>

<h2 id="常用模块-logging"><a href="#常用模块-logging" class="headerlink" title="常用模块-logging"></a>常用模块-logging</h2><p>用于在程序中生成日志</p>
<p>日志有等级区分：<br>1.调试等级 DEBUG —— 反映细节信息，仅诊断问题时用<br>2.正常等级 INFO —— 确认程序按预期执行<br>3.告警等级 WARNING —— 表示有意外，但程序依然可以预期执行（默认等级）<br>4.错误等级 ERROR —— 由于严重问题，某些功能无法正常执行<br>5.严重错误等级 CRITICAL —— 严重错误，程序无法继续执行</p>
<h3 id="logging-basicConfig方法常用传参"><a href="#logging-basicConfig方法常用传参" class="headerlink" title="logging.basicConfig方法常用传参"></a>logging.basicConfig方法常用传参</h3><p>默认会处理WARNING等级以上的错误，1级和2级的错误不会输出到python控制台</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">logging.debug(<span class="string">&#x27;debug&#x27;</span>)</span><br><span class="line">logging.warning(<span class="string">&#x27;warning&#x27;</span>)</span><br><span class="line"><span class="comment">#WARNING:root:warning</span></span><br><span class="line"><span class="comment">#level:user:message</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#filename与filemode</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">&#x27;test.log&#x27;</span>,filemode=<span class="string">&#x27;a&#x27;</span>) <span class="comment">#指定输出文件、指定文件打开方式</span></span><br><span class="line">logging.warning(<span class="string">&#x27;warning&#x27;</span>)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">当filename=&#x27;a&#x27;,表示为追加进日志文件</span></span><br><span class="line"><span class="string">当filemode=&#x27;w&#x27;,表示清空日志文件后再添加</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#level-修改默认日志等级</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">&#x27;test.log&#x27;</span>,filemode=<span class="string">&#x27;w&#x27;</span>,level=logging.DEBUG) <span class="comment">#指定输出文件、指定文件打开方式</span></span><br><span class="line">logging.debug(<span class="string">&#x27;debug&#x27;</span>)</span><br><span class="line"><span class="comment">#DE<span class="doctag">BUG:</span>root:debug</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#format-定义日志格式</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">%(asctime)s 精确到毫秒</span></span><br><span class="line"><span class="string">%(name)s 使用的记录器名称，默认root</span></span><br><span class="line"><span class="string">%(filename)s 日志输出的模块名</span></span><br><span class="line"><span class="string">%(funcName)s 日志输出的函数名</span></span><br><span class="line"><span class="string">%(message)s 日志信息</span></span><br><span class="line"><span class="string">%(levelname)s 日志等级</span></span><br><span class="line"><span class="string">%(lineno)s 日志所在行号</span></span><br><span class="line"><span class="string">%(levelno)s 日志等级 10 20 30 40 50</span></span><br><span class="line"><span class="string">%(pathname)s 日志输出的完整路径</span></span><br><span class="line"><span class="string">%(process)s 进程ID</span></span><br><span class="line"><span class="string">%(processName)s 进程名</span></span><br><span class="line"><span class="string">%(thread)s 线程ID</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line">format1 = <span class="string">&#x27;%(levelname)s - %(asctime)s - 第%(lineno)s行：%(message)s&#x27;</span></span><br><span class="line">logging.basicConfig(filename=<span class="string">&#x27;test.log&#x27;</span>,filemode=<span class="string">&#x27;a&#x27;</span>,level=logging.DEBUG,<span class="built_in">format</span>=format1)</span><br><span class="line">logging.debug(<span class="string">&#x27;出现错误&#x27;</span>)</span><br><span class="line"><span class="comment">#DEBUG - 2024-02-19 19:25:33,445 - 第7行：出现错误</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#datefmt-传递时间的格式</span></span><br><span class="line"><span class="comment">#样例——默认的时间样式</span></span><br><span class="line"><span class="keyword">import</span>  logging</span><br><span class="line">logging.basicConfig(</span><br><span class="line">	filename=<span class="string">&quot;test.log&quot;</span>,</span><br><span class="line">	<span class="built_in">format</span>=<span class="string">&quot;%(asctime)s:%(message)s&quot;</span>,</span><br><span class="line">    level=logging.DEBUG</span><br><span class="line">)</span><br><span class="line">logging.debug(<span class="string">&quot;debug&quot;</span>) </span><br><span class="line"><span class="comment">#2024-02-28 12:17:03,305:debug 带了毫秒</span></span><br><span class="line"></span><br><span class="line">logging.basicConfig(</span><br><span class="line">	filename=<span class="string">&quot;test.log&quot;</span>,</span><br><span class="line">	<span class="built_in">format</span>=<span class="string">&quot;%(asctime)s:%(message)s&quot;</span>,</span><br><span class="line">	datefmt=<span class="string">&quot;%Y-%m-%d-%H:%M:%S&quot;</span>, <span class="comment">#改变默认时间的样式</span></span><br><span class="line">  level=logging.DEBUG</span><br><span class="line">)</span><br><span class="line">logging.debug(<span class="string">&quot;debug&quot;</span>) </span><br><span class="line"><span class="comment">#2024-02-28-12:17:58:debug</span></span><br></pre></td></tr></table></figure>

<h3 id="日志流常用方法"><a href="#日志流常用方法" class="headerlink" title="日志流常用方法"></a>日志流常用方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="comment">#日志流</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">日志流模块组件</span></span><br><span class="line"><span class="string">记录器Logger——提供api</span></span><br><span class="line"><span class="string">处理程序Handler——创建的日志发到合适的目的地</span></span><br><span class="line"><span class="string">过滤器Filter——提供日志的控制工具</span></span><br><span class="line"><span class="string">格式化程序Formatter——日志的输出格式</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">logger记录器方法：</span></span><br><span class="line"><span class="string">xx = logging.getLogger() 创建记录器</span></span><br><span class="line"><span class="string">logger.setLevel(logging.DEBUG) 设置告警级别</span></span><br><span class="line"><span class="string">logger.addHandler(handler) 添加处理器</span></span><br><span class="line"><span class="string">logger.removeHandler(handler) 移除处理器</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">handler处理器方法：</span></span><br><span class="line"><span class="string">handler.setLevel(logging.DEBUG) 设置告警级别</span></span><br><span class="line"><span class="string">handler.setFormatter(formatter) 添加格式化程序</span></span><br><span class="line"><span class="string">handler.addFilter(filter) 添加过滤器</span></span><br><span class="line"><span class="string">handler.removeFilter(filter) 移除过滤器</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">formatter格式化程序方法：</span></span><br><span class="line"><span class="string">fmt = &#x27;%(asctime)s - %(levelname)s - %(message)s&#x27;</span></span><br><span class="line"><span class="string">xx =  logging.Formatter(fmt) 创建格式化程</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#创建记录器</span></span><br><span class="line">logger = logging.getLogger()</span><br><span class="line"><span class="comment">#设置logger的默认等级</span></span><br><span class="line">logger.setLevel(logging.DEBUG)</span><br><span class="line"><span class="comment">#创建控制台的处理器sh,文件的处理器fh,添加utf-8编码</span></span><br><span class="line">sh = logging.StreamHandler()</span><br><span class="line">fh = logging.FileHandler(filename=<span class="string">&#x27;test.log&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment">#给sh和fh设置消息等级，会覆盖logger的等级</span></span><br><span class="line">sh.setLevel(logging.ERROR)</span><br><span class="line">fh.setLevel(logging.INFO)</span><br><span class="line"><span class="comment">#给logger添加处理器</span></span><br><span class="line">logger.addHandler(sh)</span><br><span class="line">logger.addHandler(fh)</span><br><span class="line"><span class="comment">#创建格式化程序</span></span><br><span class="line">format1 = logging.Formatter(<span class="string">&quot;%(asctime)s - %(levelname)s - %(message)s&quot;</span>)</span><br><span class="line"><span class="comment">#给handler添加格式化程序</span></span><br><span class="line">sh.setFormatter(format1)</span><br><span class="line">fh.setFormatter(format1)</span><br><span class="line"></span><br><span class="line">logger.info(<span class="string">&quot;logger&quot;</span>)  <span class="comment">#用记录器logger创建debug日志</span></span><br><span class="line"><span class="comment">#此时控制台不会输出，但log内有告警</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#logger的复用，可以将其封装为函数，然后return即可</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log_fun</span>(<span class="params">filename</span>):</span><br><span class="line">    logger = logging.getLogger()</span><br><span class="line">    logger.setLevel(logging.DEBUG)</span><br><span class="line">    fh = logging.FileHandler(filename=filename,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    logger.addHandler(fh)</span><br><span class="line">    format1 = logging.Formatter(<span class="string">&#x27;(&quot;%(asctime)s - %(levelname)s - %(message)s&quot;)&#x27;</span>)</span><br><span class="line">    fh.setFormatter(format1)</span><br><span class="line">    <span class="keyword">return</span> logger</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    logger = log_fun(<span class="string">&#x27;test.log&#x27;</span>)</span><br><span class="line">    logger.info(<span class="string">&#x27;test&#x27;</span>)</span><br><span class="line"><span class="comment">#(&quot;2024-02-19 20:58:36,881 - INFO - test&quot;)</span></span><br><span class="line"><span class="comment">#(&quot;2024-02-19 20:58:51,552 - INFO - test&quot;)</span></span><br></pre></td></tr></table></figure>

<h2 id="常用模块-time和datetime"><a href="#常用模块-time和datetime" class="headerlink" title="常用模块-time和datetime"></a>常用模块-time和datetime</h2><h3 id="time模块"><a href="#time模块" class="headerlink" title="time模块"></a>time模块</h3><p>是一种主要用来读取和处理时间戳的模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 常用方法</span></span><br><span class="line"><span class="comment">#time方法——显示当前的时间戳-时间戳：从1970.1.1到现在的总秒数</span></span><br><span class="line"><span class="built_in">print</span>(time.time())</span><br><span class="line"><span class="comment">#1709039297.5584168</span></span><br><span class="line"><span class="comment">#1709039338.147382</span></span><br><span class="line"><span class="comment">#常用于计算时间差，用操作完的时间戳-开始的时间戳</span></span><br><span class="line">time1=time.time()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100000</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(time.time()-time1)</span><br><span class="line"><span class="comment">#0.23263192176818848 间隔了0.2秒</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#sleep方法——暂停程序，以秒为单位</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;2&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#localtime方法——以结构化形式返回时间</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">将所有信息用关键字的方式返回：</span></span><br><span class="line"><span class="string">没有传参时,返回当前时间戳的信息</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(time.localtime())</span><br><span class="line"><span class="comment">#time.struct_time(tm_year=2024, tm_mon=2, tm_mday=27, tm_hour=21, tm_min=21, tm_sec=31, tm_wday=1, tm_yday=58, tm_isdst=0)</span></span><br><span class="line"><span class="built_in">print</span>(time.localtime(<span class="number">1123456</span>))</span><br><span class="line"><span class="comment">#time.struct_time(tm_year=1970, tm_mon=1, tm_mday=14, tm_hour=8, tm_min=4, tm_sec=16, tm_wday=2, tm_yday=14, tm_isdst=0)</span></span><br><span class="line"><span class="built_in">print</span>(time.localtime(time1))</span><br><span class="line"><span class="comment">#time.struct_time(tm_year=2024, tm_mon=2, tm_mday=27, tm_hour=21, tm_min=28, tm_sec=1, tm_wday=1, tm_yday=58, tm_isdst=0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#mktime方法——将结构化输出变成时间戳进行返回</span></span><br><span class="line"><span class="built_in">print</span>(time.mktime(time.localtime()))</span><br><span class="line"><span class="comment">#1709040815.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#strftime方法——将结构化时间转换字符串</span></span><br><span class="line"><span class="comment">#strptime方法——将字符串转变为结构化时间</span></span><br><span class="line"><span class="comment">#def strftime(format, p_tuple=None)     #需要输入一个格式来接受这些结构化的时间</span></span><br><span class="line"><span class="comment">#def strptime(string, format): # real signature unknown; restored from __doc__</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">format参照表：</span></span><br><span class="line"><span class="string">%y 两位数年份</span></span><br><span class="line"><span class="string">%Y 四位数年份</span></span><br><span class="line"><span class="string">%m 月份</span></span><br><span class="line"><span class="string">%d 月份中的天数</span></span><br><span class="line"><span class="string">%H 24小时制小时</span></span><br><span class="line"><span class="string">%I 12小时制小时</span></span><br><span class="line"><span class="string">%M 分钟数</span></span><br><span class="line"><span class="string">%S 秒</span></span><br><span class="line"><span class="string">%a 本地简化星期名，如Tue、Wed等</span></span><br><span class="line"><span class="string">%A 本地完整星期名</span></span><br><span class="line"><span class="string">%b 本地简化月份名</span></span><br><span class="line"><span class="string">%B 本地完整月份名</span></span><br><span class="line"><span class="string">%c 本地完整的周期、日期、时间、年份表示</span></span><br><span class="line"><span class="string">%j 一年内的第几天</span></span><br><span class="line"><span class="string">%p 本地AM或PM表示符，如AM，PM</span></span><br><span class="line"><span class="string">%U 第几个星期0-53</span></span><br><span class="line"><span class="string">%w 星期数0-6</span></span><br><span class="line"><span class="string">%x 本地相应的日期表示</span></span><br><span class="line"><span class="string">%X 本地相应的时间表示</span></span><br><span class="line"><span class="string">%Z 时区名称</span></span><br><span class="line"><span class="string">%% %号</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="built_in">print</span>(time.localtime())</span><br><span class="line"><span class="comment">#time.struct_time(tm_year=2024, tm_mon=2, tm_mday=27, tm_hour=22, tm_min=40, tm_sec=35, tm_wday=1, tm_yday=58, tm_isdst=0)</span></span><br><span class="line"><span class="built_in">print</span>(time.strftime(<span class="string">&quot;%Y-%m-%d %H:%M:%S&quot;</span>,time.localtime()))</span><br><span class="line"><span class="comment">#2024-02-27 22:41:41</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(time.strptime(<span class="string">&quot;2024-02-27&quot;</span>, <span class="string">&quot;%Y-%m-%d&quot;</span>))      <span class="comment">#如果格式不匹配则会报错</span></span><br><span class="line"><span class="comment">#time.struct_time(tm_year=2024, tm_mon=2, tm_mday=27, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=1, tm_yday=58, tm_isdst=-1)</span></span><br></pre></td></tr></table></figure>

<h3 id="datetime模块"><a href="#datetime模块" class="headerlink" title="datetime模块"></a>datetime模块</h3><p>不涉及时间戳的，正常处理时间的模块</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">datetime中的五个成员类</span></span><br><span class="line"><span class="string">date——日期对象，常用属性year，month，day</span></span><br><span class="line"><span class="string">time——时间对象</span></span><br><span class="line"><span class="string">datetime——是上面两个的集合</span></span><br><span class="line"><span class="string">timedelta——时间间隔对象</span></span><br><span class="line"><span class="string">tzinfo——时区信息对象</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">#import datetime</span></span><br><span class="line"><span class="string">from datetime import date,time,datetime,timedelta</span></span><br><span class="line"><span class="string">如果需要同时使用import time，后面导入的函数会覆盖前面导入的</span></span><br><span class="line"><span class="string">可以设置别名</span></span><br><span class="line"><span class="string">from datetime import date,time as times,datetime,timedelta</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="date类"><a href="#date类" class="headerlink" title="date类"></a>date类</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> date</span><br><span class="line"></span><br><span class="line"><span class="comment">#date类</span></span><br><span class="line"><span class="comment">#实例化生成对象</span></span><br><span class="line">date1 = date(<span class="number">2024</span>,<span class="number">2</span>,<span class="number">27</span>)</span><br><span class="line"><span class="built_in">print</span>(date1)</span><br><span class="line"><span class="comment">#2024-02-27</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(date1))       <span class="comment">#其本身是一个date类的对象</span></span><br><span class="line"><span class="comment">#&lt;class &#x27;datetime.date&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#直接通过对象的属性进行访问</span></span><br><span class="line">date1 = date(<span class="number">2024</span>,<span class="number">2</span>,<span class="number">27</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.year,date1.month,date1.day)</span><br><span class="line"><span class="comment">#2024 2 27</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#today——类方法-返回当前日期的日期对象</span></span><br><span class="line"><span class="built_in">print</span>(date.today())</span><br><span class="line"><span class="comment">#2024-02-27</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(date.today()))</span><br><span class="line"><span class="comment">#&lt;class &#x27;datetime.date&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#isoclaendar——返回元组，元素分别返回年、周数、周几（从周一开始算）</span></span><br><span class="line"><span class="built_in">print</span>(date1.isocalendar())</span><br><span class="line"><span class="comment">#(2024, 9, 2)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#isoweekday-返回对应的星期几</span></span><br><span class="line"><span class="built_in">print</span>(date1.isoweekday())</span><br><span class="line"><span class="comment">#2</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#isoformat-以标准字符串形式返回日期</span></span><br><span class="line"><span class="built_in">print</span>(date1.isoformat())</span><br><span class="line"><span class="comment">#2024-02-27</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(date1.isoformat()))</span><br><span class="line"><span class="comment">#&lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#replace-替换日期中的属性值“年、月、日”</span></span><br><span class="line">date1 = date1.replace(year=<span class="number">2077</span>)</span><br><span class="line"><span class="built_in">print</span>(date1)</span><br><span class="line"><span class="comment">#2077-02-27</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#fromisoformat-类方法-通过标准日期字符串返回一个日期对象</span></span><br><span class="line"><span class="built_in">print</span>(date.fromisoformat(<span class="string">&quot;2024-02-27&quot;</span>))</span><br><span class="line"><span class="comment">#2024-02-27</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(date.fromisoformat(<span class="string">&quot;2024-02-27&quot;</span>)))</span><br><span class="line"><span class="comment">#&lt;class &#x27;datetime.date&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#timetuple-返回一个结构化时间的元组（可以用来转换为时间戳）</span></span><br><span class="line">date1 = date(<span class="number">2024</span>,<span class="number">2</span>,<span class="number">27</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.timetuple())</span><br><span class="line"><span class="comment">#time.struct_time(tm_year=2077, tm_mon=2, tm_mday=27, tm_hour=0, tm_min=0, tm_sec=0, tm_wday=5, tm_yday=58, tm_isdst=-1)</span></span><br></pre></td></tr></table></figure>

<h4 id="datetime类"><a href="#datetime类" class="headerlink" title="datetime类"></a>datetime类</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">datetime同时具有date和time的属性，是他俩的总和</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> date,time,datetime,timedelta</span><br><span class="line"><span class="comment">#实例化对象</span></span><br><span class="line">date1 = datetime(year=<span class="number">2024</span>,month=<span class="number">2</span>,day=<span class="number">27</span>,hour=<span class="number">1</span>,minute=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(date1)</span><br><span class="line"><span class="comment">#2024-02-27 01:02:00</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#fromtimestamp方法-类方法-通过时间戳返回datetime对象</span></span><br><span class="line"><span class="built_in">print</span>(datetime.fromtimestamp(<span class="number">123456456</span>))</span><br><span class="line"><span class="comment">#1973-11-30 05:27:36</span></span><br><span class="line"><span class="comment">#utcfromtimestamp方法-类方法-通过时间戳返回格林尼治时间的datetime对象</span></span><br><span class="line"><span class="built_in">print</span>(datetime.utcfromtimestamp(<span class="number">123456456</span>))</span><br><span class="line"><span class="comment">#1973-11-29 21:27:36 比正常的时间慢八个小时</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#now方法-类方法-返回一个现在时间的datetime对象</span></span><br><span class="line"><span class="built_in">print</span>(datetime.now())</span><br><span class="line"><span class="comment">#2024-02-28 09:35:48.321867</span></span><br><span class="line"><span class="built_in">print</span>(datetime.utcnow())</span><br><span class="line"><span class="comment">#2024-02-28 01:36:22.404848 格林尼治时间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#conbine方法-类方法-将date对象与time对象结合起来变成datetime对象</span></span><br><span class="line">date1 = date(<span class="number">2024</span>,<span class="number">2</span>,<span class="number">28</span>)</span><br><span class="line">time1 = time(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,)</span><br><span class="line"><span class="built_in">print</span>(datetime.combine(date1,time1))</span><br><span class="line"><span class="comment">#2024-02-28 01:02:03</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#fromisoformat-类方法-通过一个标准时间日期字符串返回一个datetime对象</span></span><br><span class="line"><span class="built_in">print</span>(datetime.fromisoformat(<span class="string">&quot;2024-02-28 00:00:00&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(datetime.fromisoformat(<span class="string">&quot;2024-02-28 00:00:00&quot;</span>)))</span><br><span class="line"><span class="comment">#2024-02-28 00:00:00</span></span><br><span class="line"><span class="comment">#&lt;class &#x27;datetime.datetime&#x27;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#timetuple-返回一个结构化时间元组</span></span><br><span class="line">date1 = datetime(year=<span class="number">2024</span>,month=<span class="number">2</span>,day=<span class="number">27</span>,hour=<span class="number">1</span>,minute=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.timetuple())</span><br><span class="line"><span class="comment">#time.struct_time(tm_year=2024, tm_mon=2, tm_mday=27, tm_hour=1, tm_min=2, tm_sec=0, tm_wday=1, tm_yday=58, tm_isdst=-1)</span></span><br><span class="line"><span class="built_in">print</span>(date1.utctimetuple())     <span class="comment">#格林尼治时间</span></span><br><span class="line"><span class="comment">#time.struct_time(tm_year=2024, tm_mon=2, tm_mday=27, tm_hour=1, tm_min=2, tm_sec=0, tm_wday=1, tm_yday=58, tm_isdst=0)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#timestamp-返回时间对象的时间戳</span></span><br><span class="line">date1 = datetime(year=<span class="number">2024</span>,month=<span class="number">2</span>,day=<span class="number">27</span>,hour=<span class="number">1</span>,minute=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.timestamp())</span><br><span class="line"><span class="comment">#1708966920.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#date方法-根据datetime对象返回date对象</span></span><br><span class="line"><span class="comment">#time方法-根据datetime对象返回time对象</span></span><br><span class="line">date1 = datetime(year=<span class="number">2024</span>,month=<span class="number">2</span>,day=<span class="number">27</span>,hour=<span class="number">1</span>,minute=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.date())</span><br><span class="line"><span class="comment">#2024-02-27</span></span><br><span class="line"><span class="built_in">print</span>(date1.time())</span><br><span class="line"><span class="comment">#01:02:00</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#replace方法</span></span><br><span class="line">date1 = datetime(year=<span class="number">2024</span>,month=<span class="number">2</span>,day=<span class="number">27</span>,hour=<span class="number">1</span>,minute=<span class="number">2</span>)</span><br><span class="line">date1 = date1.replace(second=<span class="number">59</span>)</span><br><span class="line"><span class="built_in">print</span>(date1)</span><br><span class="line"><span class="comment">#2024-02-27 01:02:59</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#isoformat方法-将datetime对象转换为字符串</span></span><br><span class="line"><span class="built_in">print</span>(date1.isoformat())</span><br><span class="line"><span class="comment">#2024-02-27T01:02:59</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#today方法=类方法</span></span><br><span class="line"><span class="built_in">print</span>(datetime.today())</span><br><span class="line"><span class="comment">#2024-02-28 10:34:07.253712</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#weekday方法-周一从0开始</span></span><br><span class="line"><span class="comment">#isoweekday方法-周一从1开始</span></span><br><span class="line"><span class="built_in">print</span>(date.today().weekday())</span><br><span class="line"><span class="comment">#2 是星期三</span></span><br><span class="line"><span class="built_in">print</span>(date.today().isoweekday())</span><br><span class="line"><span class="comment">#3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#isocalendar-返回一个元组，依次输出年，周数，周几</span></span><br><span class="line"><span class="comment">#同date</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#strftime和strptime方法</span></span><br><span class="line"><span class="comment">#对象→字符串 和 字符串→对象</span></span><br><span class="line">date1 = datetime(year=<span class="number">2024</span>,month=<span class="number">2</span>,day=<span class="number">27</span>,hour=<span class="number">1</span>,minute=<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.strftime(<span class="string">&quot;%Y-%m-%d&quot;</span>))</span><br><span class="line"><span class="comment">#2024-02-27             #字符串类型</span></span><br><span class="line">date2 = date1.strftime(<span class="string">&quot;%Y-%m-%d&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(date1.strptime(date2, <span class="string">&#x27;%Y-%m-%d&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(date1.strptime(date2, <span class="string">&#x27;%Y-%m-%d&#x27;</span>)))</span><br><span class="line"><span class="comment">#2024-02-27 00:00:00</span></span><br><span class="line"><span class="comment">#&lt;class &#x27;datetime.datetime&#x27;&gt; </span></span><br></pre></td></tr></table></figure>

<h4 id="timedelta类"><a href="#timedelta类" class="headerlink" title="timedelta类"></a>timedelta类</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> date,time,datetime,timedelta</span><br><span class="line"><span class="comment">#timedelta类-可以创建时间间隔对象，用以计算间隔的时间</span></span><br><span class="line"><span class="comment">#实例化：可以接收多个参数，且都为float，最好用关键字参数</span></span><br><span class="line">td1 = timedelta(hours=<span class="number">240</span>,minutes=<span class="number">20</span>,milliseconds=<span class="number">10</span>)</span><br><span class="line"><span class="comment">#td类在接受关键字后，会将值自动转换为days,seconds,microseconds这三个属性</span></span><br><span class="line"><span class="built_in">print</span>(td1) <span class="comment">#列出时间间隔</span></span><br><span class="line"><span class="comment">#10 days, 0:20:00.010000</span></span><br><span class="line"><span class="built_in">print</span>(td1.days)</span><br><span class="line"><span class="built_in">print</span>(td1.seconds)</span><br><span class="line"><span class="built_in">print</span>(td1.microseconds)</span><br><span class="line"><span class="comment">#10</span></span><br><span class="line"><span class="comment">#1200</span></span><br><span class="line"><span class="comment">#10000</span></span><br><span class="line"></span><br><span class="line">datetime1 = datetime(year=<span class="number">2024</span>,month=<span class="number">2</span>,day=<span class="number">28</span>)</span><br><span class="line">datetime2 = datetime(year=<span class="number">2025</span>,month=<span class="number">2</span>,day=<span class="number">28</span>)</span><br><span class="line"><span class="built_in">print</span>(datetime2 - datetime1) <span class="comment">#相同类的对象直接相减，得出时间间隔对象</span></span><br><span class="line"><span class="comment">#366 days, 0:00:00</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#用timedelta进行计算</span></span><br><span class="line">td2=timedelta(hours=<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(datetime1 - td2)  <span class="comment">#用正常时间减去时间间隔</span></span><br><span class="line"><span class="comment">#2024-02-27 14:00:00</span></span><br><span class="line"><span class="built_in">print</span>(datetime1 + td2)  <span class="comment">#用正常时间加上时间间隔</span></span><br><span class="line"><span class="comment">#2024-02-28 10:00:00</span></span><br></pre></td></tr></table></figure>

<h1 id="并发编程"><a href="#并发编程" class="headerlink" title="并发编程"></a>并发编程</h1><h2 id="一些概念"><a href="#一些概念" class="headerlink" title="一些概念"></a>一些概念</h2><p><strong>串行并行和并发</strong></p>
<ul>
<li>串行(serial)：一个CPU上，按顺序完成多个任务</li>
<li>并行(parallelism)：指的是任务数小于等于cpu核数，即任务一起执行</li>
<li>并发(concurrency)：一个CPU采用时间片管理方式，交替的处理多个任务。一般是是任务数多余cpu核数，通过操作系统的各种任务调度算法，实现用多个任务“一起”执行（实际上总有一些任务不在执行，因为切换任务的速度相当快，看上去一起执行而已）</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240529003313.png"></p>
<p><strong>线程、进程和协程</strong></p>
<ul>
<li>进程(Process)：拥有自己独立的堆和栈，既不共享堆，也不共享栈，进程由操作系统调度；进程切换需要的资源很最大，效率低</li>
<li>线程(Thread)：拥有自己独立的栈和共享的堆，共享堆，不共享栈，标准线程由操作系统调度；线程切换需要的资源一般，效率一般</li>
<li>协程(coroutine)：拥有自己独立的栈和共享的堆，共享堆，不共享栈，协程由程序员在协程的代码里显示调度；协程切换任务资源很小，效率高</li>
</ul>
<p><strong>同步与异步</strong></p>
<p>同步(synchronous)：A调用B，等待B返回结果后，A继续执行</p>
<p>异步(asynchronous )：A调用B，A继续执行，不等待B返回结果；B有结果了，通知A，A再做处理。</p>
<h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><ol>
<li><strong>线程（Thread）</strong>是操作系统能够进行运算调度的最小单位。它被包含在进程之中，是进程中的实际运作单位</li>
<li>线程是程序执行的最小单位，而进程是操作系统分配资源的最小单位；</li>
<li>一个进程由一个或多个线程组成，线程是一个进程中代码的不同执行路线；</li>
<li>拥有自己独立的栈和共享的堆，共享堆，不共享栈，标准线程由操作系统调度；</li>
<li>调度和切换：线程上下文切换比进程上下文切换要快得多。</li>
</ol>
<h3 id="线程的创建方式"><a href="#线程的创建方式" class="headerlink" title="线程的创建方式"></a>线程的创建方式</h3><p>Python的标准库提供了两个模块：_thread和threading，_thread是低级模块，threading是高级模块，对_thread进行了封装。<strong>绝大多数情况下，我们只需要使用threading这个高级模块。</strong></p>
<p>创建方式有两种</p>
<p>1.方法包装<br>2.类包装</p>
<p>线程的执行统一通过start()方法</p>
<p><strong>方法包装创建</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 线程</span></span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">from threading import Thread</span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line">def fun1(name):</span><br><span class="line">    <span class="built_in">print</span>(f<span class="string">&quot;&#123;name&#125;启动！&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(3):</span><br><span class="line">        <span class="built_in">print</span>(f<span class="string">&quot;&#123;name&#125;启动&#123;i&#125;秒&quot;</span>)</span><br><span class="line">        <span class="built_in">sleep</span>(1)</span><br><span class="line">    <span class="built_in">print</span>(f<span class="string">&quot;&#123;name&#125;结束&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;主线程&quot;</span>)</span><br><span class="line">    <span class="comment"># 方法包装——创建线程</span></span><br><span class="line">    t1 = Thread(target=fun1,args=(<span class="string">&quot;线程1&quot;</span>,))</span><br><span class="line">    t2 = Thread(target=fun1,args=(<span class="string">&quot;线程2&quot;</span>,))</span><br><span class="line">    <span class="comment"># 启动线程</span></span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;主线程结束&quot;</span>)</span><br><span class="line">    </span><br><span class="line">主线程启动</span><br><span class="line">线程1启动！</span><br><span class="line">线程1启动0秒</span><br><span class="line">线程2启动！主线程结束</span><br><span class="line"></span><br><span class="line">线程2启动0秒</span><br><span class="line">线程2启动1秒线程1启动1秒</span><br><span class="line"></span><br><span class="line">线程2启动2秒线程1启动2秒</span><br><span class="line"></span><br><span class="line">线程1结束线程2结束 <span class="comment"># 线程抢夺IO流</span></span><br><span class="line"></span><br><span class="line">可以看出这三个线程都是独立的，互不干扰</span><br></pre></td></tr></table></figure>

<p><strong>类包装创建线程</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">from threading import Thread</span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line"><span class="comment"># 通过类创建</span></span><br><span class="line">class NewThread(Thread):</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        Thread.__init__(self)</span><br><span class="line">        self.name = name</span><br><span class="line">    def run(self):</span><br><span class="line">        <span class="built_in">print</span>(f<span class="string">&quot;&#123;self.name&#125;启动！&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(3):</span><br><span class="line">            <span class="built_in">print</span>(f<span class="string">&quot;&#123;self.name&#125;启动&#123;i&#125;秒&quot;</span>)</span><br><span class="line">            <span class="built_in">sleep</span>(1)</span><br><span class="line">        <span class="built_in">print</span>(f<span class="string">&quot;&#123;self.name&#125;结束&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;主线程开始&quot;</span>)</span><br><span class="line">    t1 = NewThread(<span class="string">&quot;t1&quot;</span>)</span><br><span class="line">    t2 = NewThread(<span class="string">&quot;t2&quot;</span>)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;主线程结束&quot;</span>)</span><br><span class="line"></span><br><span class="line">主线程开始</span><br><span class="line">t1启动！</span><br><span class="line">t1启动0秒</span><br><span class="line">t2启动！</span><br><span class="line">t2启动0秒</span><br><span class="line">主线程结束</span><br><span class="line">t1启动1秒t2启动1秒</span><br><span class="line"></span><br><span class="line">t1启动2秒t2启动2秒</span><br><span class="line"></span><br><span class="line">t2结束t1结束</span><br></pre></td></tr></table></figure>

<p><strong>join()方法</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">等待子线程结束后，再结束主线程</span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">from threading import Thread</span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line"><span class="comment"># 通过类创建</span></span><br><span class="line">class NewThread(Thread):</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        Thread.__init__(self)</span><br><span class="line">        self.name = name</span><br><span class="line">    def run(self):</span><br><span class="line">        <span class="built_in">print</span>(f<span class="string">&quot;&#123;self.name&#125;启动！&quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(3):</span><br><span class="line">            <span class="built_in">print</span>(f<span class="string">&quot;&#123;self.name&#125;启动&#123;i&#125;秒&quot;</span>)</span><br><span class="line">            <span class="built_in">sleep</span>(1)</span><br><span class="line">        <span class="built_in">print</span>(f<span class="string">&quot;&#123;self.name&#125;结束&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;主线程开始&quot;</span>)</span><br><span class="line">    t1 = NewThread(<span class="string">&quot;t1&quot;</span>)</span><br><span class="line">    t2 = NewThread(<span class="string">&quot;t2&quot;</span>)</span><br><span class="line"></span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    <span class="comment"># 与主线程关联</span></span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;主线程结束&quot;</span>)</span><br><span class="line"></span><br><span class="line">主线程开始</span><br><span class="line">t1启动！</span><br><span class="line">t1启动0秒</span><br><span class="line">t2启动！</span><br><span class="line">t2启动0秒</span><br><span class="line">t1启动1秒</span><br><span class="line">t2启动1秒</span><br><span class="line">t1启动2秒</span><br><span class="line">t2启动2秒</span><br><span class="line">t1结束</span><br><span class="line">t2结束</span><br><span class="line">主线程结束</span><br></pre></td></tr></table></figure>

<p><strong>守护线程</strong></p>
<p>它的生命周期与主线程一致。主线程死亡，它也就随之死亡</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">from threading import Thread</span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line"><span class="comment"># 通过类创建</span></span><br><span class="line">class NewThread(Thread):</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        Thread.__init__(self)</span><br><span class="line">        self.name = name</span><br><span class="line">    def run(self):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(3):</span><br><span class="line">            <span class="built_in">print</span>(f<span class="string">&quot;&#123;self.name&#125;&#123;i&#125;&quot;</span>)</span><br><span class="line">            <span class="built_in">sleep</span>(1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;主线程开始&quot;</span>)</span><br><span class="line">    <span class="comment"># 通过类创建线程</span></span><br><span class="line">    t1 = NewThread(name=<span class="string">&quot;t1&quot;</span>)</span><br><span class="line">    <span class="comment"># 设置t1为守护线程</span></span><br><span class="line">    t1.daemon = True</span><br><span class="line">    t1.start()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;主线程结束&quot;</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">主线程开始</span><br><span class="line">t10主线程结束</span><br></pre></td></tr></table></figure>

<h2 id="GIL全局锁问题"><a href="#GIL全局锁问题" class="headerlink" title="GIL全局锁问题"></a>GIL全局锁问题</h2><p>Python的线程无论是几核的CPU，都是只有单线程的。这是一个设计的缺陷</p>
<p><strong>Python Global Interpreter Lock</strong></p>
<p>Python代码的执行由Python 虚拟机(也叫解释器主循环，CPython版本)来控制，Python 在设计之初就考虑到要在解释器的主循环中，同时只有一个线程在执行，即在任意时刻，只有一个线程在解释器中运行。对Python 虚拟机的访问由全局解释器锁（GIL）来控制，正是这个锁能保证同一时刻只有一个线程在运行。</p>
<h2 id="线程同步与互斥锁"><a href="#线程同步与互斥锁" class="headerlink" title="线程同步与互斥锁"></a>线程同步与互斥锁</h2><p>处理多线程问题时，多个线程访问同一个对象，并且某些线程还想修改这个对象。 这时候，我们就需要用到“线程同步”。 线程同步其实就是一种等待机制，多个需要同时访问此对象的线程进入这个对象的等待池形成队列，等待前面的线程使用完毕后，下一个线程再使用。</p>
<p>使线程内的内容不发生冲突</p>
<p><strong>不加锁的情况</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">from threading import Thread</span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line">class Count:</span><br><span class="line">    def __init__(self,money,name): <span class="comment"># 实例化账户</span></span><br><span class="line">        self.money = money</span><br><span class="line">        self.name = name</span><br><span class="line">class Draw(Thread):</span><br><span class="line">    def __init__(self,change,account):</span><br><span class="line">        Thread.__init__(self)</span><br><span class="line">        self.account = account <span class="comment"># 账户</span></span><br><span class="line">        self.change = change <span class="comment"># 变化的量</span></span><br><span class="line">        self.expenseTotal = 0 <span class="comment"># 总额支出</span></span><br><span class="line">    def run(self):</span><br><span class="line">        <span class="keyword">if</span> self.account.money &lt; self.change:</span><br><span class="line">            <span class="built_in">return</span></span><br><span class="line">        <span class="built_in">sleep</span>(1)</span><br><span class="line">        self.account.money -= self.change <span class="comment"># 取钱</span></span><br><span class="line">        self.expenseTotal += self.change <span class="comment"># 取钱总数量</span></span><br><span class="line">        <span class="built_in">print</span>(f<span class="string">&quot;账户：&#123;self.account.name&#125;,余额：&#123;self.account.money&#125;,共取了：&#123;self.expenseTotal&#125;\n&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a1 = Count(100,<span class="string">&quot;王盛&quot;</span>) <span class="comment"># 实例化账户</span></span><br><span class="line">    change1 = Draw(80,a1) <span class="comment"># 指定账户为a1，定义一个取钱线程</span></span><br><span class="line">    change2 = Draw(80,a1) <span class="comment"># 指定账户为a1，定义一个取钱线程</span></span><br><span class="line">    change1.start()</span><br><span class="line">    change2.start()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 账户：王盛,余额：20,共取了：80</span></span><br><span class="line"><span class="comment"># 账户：王盛,余额：-60,共取了：80</span></span><br><span class="line">钱直接被扣成负的了</span><br></pre></td></tr></table></figure>

<p><strong>使用互斥锁</strong></p>
<p>互斥锁: 对共享数据进行锁定，保证同一时刻只能有一个线程去操作。<br><strong>多个线程一起去抢互斥锁</strong>，抢到锁的线程先执行，没有抢到锁的线程需要等待，等互斥锁使用完释放后，其它等待的线程再去抢这个锁。<br>threading模块中定义了Lock变量，这个变量本质上是一个函数，通过调用这个函数可以获取一把互斥锁。</p>
<p><strong>互斥锁特点</strong></p>
<ul>
<li>必须使用同一个锁对象</li>
<li>互斥锁的作用就是保证同一时刻只能有一个线程去操作共享数据，保证共享数据不会出现错误问题</li>
<li>使用互斥锁的好处确保某段关键代码只能由一个线程从头到尾完整地去执行</li>
<li>使用互斥锁会影响代码的执行效率</li>
<li>同时持有多把锁，容易出现死锁的情况</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">在上面的案例中，就要保证判断和取钱要在一个线程中不能中断</span><br><span class="line"></span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">from threading import Thread,Lock</span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line">class Count:</span><br><span class="line">    def __init__(self,money,name): <span class="comment">#</span></span><br><span class="line">        self.money = money</span><br><span class="line">        self.name = name</span><br><span class="line">class Draw(Thread):</span><br><span class="line">    def __init__(self,change,account):</span><br><span class="line">        Thread.__init__(self)</span><br><span class="line">        self.account = account <span class="comment"># 账户</span></span><br><span class="line">        self.change = change <span class="comment"># 变化的量</span></span><br><span class="line">        self.expenseTotal = 0 <span class="comment"># 总额支出</span></span><br><span class="line">    def run(self):</span><br><span class="line">        lock1.acquire() <span class="comment"># 要求拿到一个锁</span></span><br><span class="line">        <span class="keyword">if</span> self.account.money &lt; self.change: <span class="comment"># 如果钱不够，就返回钱不够</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;余额不足&quot;</span>)</span><br><span class="line">            <span class="built_in">return</span></span><br><span class="line">        <span class="built_in">sleep</span>(1)</span><br><span class="line">        self.account.money -= self.change <span class="comment"># 取钱</span></span><br><span class="line">        self.expenseTotal += self.change <span class="comment"># 取钱总数量</span></span><br><span class="line">        lock1.release() <span class="comment"># 取完钱后释放锁</span></span><br><span class="line">        <span class="built_in">print</span>(f<span class="string">&quot;账户：&#123;self.account.name&#125;,余额：&#123;self.account.money&#125;,共取了：&#123;self.expenseTotal&#125;\n&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a1 = Count(100,<span class="string">&quot;王盛&quot;</span>) <span class="comment"># 实例化账户</span></span><br><span class="line">    lock1 = Lock() <span class="comment"># 实例化一个锁</span></span><br><span class="line">    change1 = Draw(80,a1) <span class="comment"># 指定账户为a1，定义一个取钱线程</span></span><br><span class="line">    change2 = Draw(80,a1) <span class="comment"># 指定账户为a1，定义一个取钱线程</span></span><br><span class="line">    change1.start()</span><br><span class="line">    change2.start()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 账户：王盛,余额：20,共取了：80</span></span><br><span class="line"><span class="comment"># 余额不足</span></span><br><span class="line"></span><br><span class="line">acquire和release方法之间的代码同一时刻只能有一个线程去操作</span><br><span class="line">如果在调用acquire方法的时候 其他线程已经使用了这个互斥锁，那么此时acquire方法会堵塞，直到这个互斥锁释放后才能再次上锁。</span><br></pre></td></tr></table></figure>

<h2 id="死锁问题"><a href="#死锁问题" class="headerlink" title="死锁问题"></a>死锁问题</h2><p>在多线程程序中，死锁问题很大一部分是由于一个线程同时获取多个锁造成。比如一个线程同时需要A和B锁才能执行，但B锁被被人使用了，并且也需要A锁。</p>
<p>死锁是由于“同步块需要同时持有多个锁造成”的，要解决这个问题，思路很简单，就是：同一个代码块，不要同时持有两个对象锁。</p>
<h2 id="信号量semaphore"><a href="#信号量semaphore" class="headerlink" title="信号量semaphore"></a>信号量semaphore</h2><p>应用场景：<br>如果用互斥锁，就是限制同一时刻只能有一个线程读取文件。但现在想要让一个线程写，而多个线程同时读文件，就可以用到信号量</p>
<p>底层原理：<br>信号量底层就是一个内置的计数器。每当资源获取时(调用acquire)计数器-1,资源释放时(调用release)计数器+1。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">from threading import Semaphore,Thread <span class="comment"># 引入线程和信号量</span></span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line">def home(name,se):</span><br><span class="line">    se.acquire() <span class="comment"># 获取锁</span></span><br><span class="line">    <span class="built_in">print</span>(f<span class="string">&quot;&#123;name&#125;进入房间&quot;</span>)</span><br><span class="line">    <span class="built_in">sleep</span>(2)</span><br><span class="line">    <span class="built_in">print</span>(f<span class="string">&quot;&#123;name&#125;离开房间&quot;</span>)</span><br><span class="line">    se.release() <span class="comment"># 释放锁</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    se = Semaphore(2) <span class="comment"># 实例化信号量对象，指定信号量</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(1,5):</span><br><span class="line">        t = Thread(target=home, args=(f<span class="string">&quot;第&#123;i&#125;个人&quot;</span>,se))</span><br><span class="line">        t.start()</span><br><span class="line"></span><br><span class="line">第1个人进入房间</span><br><span class="line">第2个人进入房间</span><br><span class="line">第1个人离开房间</span><br><span class="line">第3个人进入房间</span><br><span class="line">第2个人离开房间</span><br><span class="line">第4个人进入房间</span><br><span class="line">第4个人离开房间第3个人离开房间</span><br></pre></td></tr></table></figure>

<h2 id="事件event对象"><a href="#事件event对象" class="headerlink" title="事件event对象"></a>事件event对象</h2><p>Event 对象包含一个可由线程设置的信号标志，它允许线程等待某些事件的发生。在初始情况下，event 对象中的信号标志被设置假。如果有线程等待一个 event 对象，而这个 event 对象的标志为假，那么这个线程将会被一直阻塞直至该标志为真。</p>
<table>
<thead>
<tr>
<th>方法名</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>event.wait(timeout&#x3D;None)</td>
<td>调用该方法的线程会被阻塞，如果设置了timeout参数，超时后，线程会停止阻塞继续执行；</td>
</tr>
<tr>
<td>event.set()</td>
<td>将event的标志设置为True，调用wait方法的所有线程将被唤醒</td>
</tr>
<tr>
<td>event.clear()</td>
<td>将event的标志设置为False，调用wait方法的所有线程将被阻塞</td>
</tr>
<tr>
<td>event.is_set()</td>
<td>判断event的标志是否为True</td>
</tr>
</tbody></table>
<h2 id="生产者与消费者模型"><a href="#生产者与消费者模型" class="headerlink" title="生产者与消费者模型"></a>生产者与消费者模型</h2><p>生产者指的是负责生产数据的模块（这里模块可能是：方法、对象、线程、进程）</p>
<p>消费者指的是负责处理数据的模块（这里模块可能是：方法、对象、线程、进程）</p>
<p>消费者不能直接使用生产者的数据，它们之间有个“缓冲区”。生产者将生产好的数据放入“缓冲区”，消费者从“缓冲区”拿要处理的数据。</p>
<p>缓冲区是实现并发的核心，缓冲区的设置有3个好处：</p>
<p><strong>实现线程的并发协作</strong></p>
<p>有了缓冲区以后，生产者线程只需要往缓冲区里面放置数据，而不需要管消费者消费的情况；同样，消费者只需要从缓冲区拿数据处理即可，也不需要管生产者生产的情况。 这样，就从逻辑上实现了“生产者线程”和“消费者线程”的分离。</p>
<p><strong>缓冲区、线程通信——Queue对象</strong></p>
<p>使用queue 库中的队列。创建一个被多个线程共享的 Queue 对象，这些线程通过使用 put() 和 get()操作来向队列中添加或者删除元素</p>
<p>通过这样的方式进行线程之间的通信</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">from queue import Queue</span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line">from threading import Thread</span><br><span class="line"></span><br><span class="line">def producer(): <span class="comment"># 定义一个生产者</span></span><br><span class="line">    num = 1 <span class="comment"># 编号</span></span><br><span class="line">    <span class="keyword">while</span> True:</span><br><span class="line">        <span class="keyword">if</span> queue.qsize()&lt;=5: <span class="comment"># 如果queue缓冲区没满</span></span><br><span class="line">            <span class="built_in">print</span>(f<span class="string">&quot;生产第&#123;num&#125;个&quot;</span>)</span><br><span class="line">            queue.put(f<span class="string">&quot;第&#123;num&#125;个&quot;</span>) <span class="comment"># 用put向队列中添加元素</span></span><br><span class="line">            num += 1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;缓冲区已满&quot;</span>)</span><br><span class="line">        <span class="built_in">sleep</span>(2)</span><br><span class="line">def consumer(): <span class="comment"># 定义一个消费者</span></span><br><span class="line">    <span class="keyword">while</span> True:</span><br><span class="line">        <span class="built_in">print</span>(f<span class="string">&quot;消费&#123;queue.get()&#125;&quot;</span>)</span><br><span class="line">        <span class="built_in">sleep</span>(3)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    queue = Queue()</span><br><span class="line">    t1 = Thread(target=producer)</span><br><span class="line">    t2 = Thread(target=consumer)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line"></span><br><span class="line">生产第1个</span><br><span class="line">消费第1个</span><br><span class="line">生产第2个</span><br><span class="line">消费第2个</span><br><span class="line">生产第3个</span><br><span class="line">消费第3个</span><br></pre></td></tr></table></figure>

<h2 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h2><p>进程(Process)：拥有自己独立的堆和栈，既不共享堆，也不共享栈，进程由操作系统调度；进程切换需要的资源很最大，效率低。对于操作系统来说，一个任务就是一个进程。</p>
<p><strong>特点</strong></p>
<ol>
<li>可以使用计算机多核，进行任务的并行执行，提高执行效率</li>
<li>运行不受其他进程影响，创建方便</li>
<li>空间独立，数据安全</li>
<li>进程的创建和删除消耗的系统资源较多</li>
</ol>
<h3 id="进程的创建"><a href="#进程的创建" class="headerlink" title="进程的创建"></a>进程的创建</h3><p>也分为类包装与方法包装两种</p>
<p>Python的标准库提供了模块multiprocessing</p>
<p><strong>方法创建</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>(<span class="params">name</span>): <span class="comment">#使用方法进行进程的创建</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;进程<span class="subst">&#123;name&#125;</span>开始&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;当前进程ID<span class="subst">&#123;os.getpid()&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;父进程ID<span class="subst">&#123;os.getppid()&#125;</span>&quot;</span>)</span><br><span class="line">    sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;进程<span class="subst">&#123;name&#125;</span>结束&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;当前进程ID<span class="subst">&#123;os.getpid()&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="comment"># 创建进程</span></span><br><span class="line">    p1 = Process(target=fun1,args=(<span class="string">&quot;p1&quot;</span>,)) <span class="comment"># 创建</span></span><br><span class="line">    p2 = Process(target=fun1,args=(<span class="string">&quot;p2&quot;</span>,)) <span class="comment"># 创建第二个进程</span></span><br><span class="line">    p1.start()</span><br><span class="line">    p2.start()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">当前进程ID27652</span></span><br><span class="line"><span class="string">进程p1开始</span></span><br><span class="line"><span class="string">当前进程ID26476</span></span><br><span class="line"><span class="string">进程p2开始</span></span><br><span class="line"><span class="string">当前进程ID27660</span></span><br><span class="line"><span class="string">父进程ID27652</span></span><br><span class="line"><span class="string">父进程ID27652</span></span><br><span class="line"><span class="string">进程p1结束</span></span><br><span class="line"><span class="string">进程p2结束</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>类创建</strong></p>
<p>与Thread类创建线程差不多</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyProcess</span>(<span class="title class_ inherited__">Process</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>): <span class="comment"># 重写构造方法</span></span><br><span class="line">        Process.__init__(self) <span class="comment"># 引用Process的构造方法</span></span><br><span class="line">        self.name = name</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;进程<span class="subst">&#123;self.name&#125;</span>Running&quot;</span>)</span><br><span class="line">        sleep(<span class="number">3</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;进程<span class="subst">&#123;self.name&#125;</span>stoping&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    p1 = MyProcess(<span class="string">&quot;p1&quot;</span>)</span><br><span class="line">    p2 = MyProcess(<span class="string">&quot;p2&quot;</span>)</span><br><span class="line">    p1.start()</span><br><span class="line">    p2.start()</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">进程p1Running</span></span><br><span class="line"><span class="string">进程p2Running</span></span><br><span class="line"><span class="string">进程p1stoping</span></span><br><span class="line"><span class="string">进程p2stoping</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h2><h3 id="使用queue队列实现进程通信"><a href="#使用queue队列实现进程通信" class="headerlink" title="使用queue队列实现进程通信"></a>使用queue队列实现进程通信</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process, Queue</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyProcess</span>(<span class="title class_ inherited__">Process</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,mq</span>):</span><br><span class="line">        Process.__init__(self)</span><br><span class="line">        self.name = name</span><br><span class="line">        self.mq = mq</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">run</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;进程<span class="subst">&#123;self.name&#125;</span>开始&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;取得数据<span class="subst">&#123;self.mq.get()&#125;</span>&quot;</span>)</span><br><span class="line">        self.mq.put(self.name)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;进程<span class="subst">&#123;self.name&#125;</span>结束&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    mq = Queue() <span class="comment"># 实例化一个queue对象，名字叫mq</span></span><br><span class="line">    mq.put(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    mq.put(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">    mq.put(<span class="string">&quot;3&quot;</span>) <span class="comment"># 主进程中在mq中放入数据</span></span><br><span class="line">    p_list = [] <span class="comment"># 进程列表</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        p = MyProcess(<span class="string">f&quot;p<span class="subst">&#123;i&#125;</span>&quot;</span>,mq) <span class="comment"># 把mq传进去，不然不同进程就无法找到这个对象</span></span><br><span class="line">        p_list.append(p)</span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> p_list:</span><br><span class="line">        p.start()</span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> p_list: <span class="comment"># 等待子进程结束后再结束主进程</span></span><br><span class="line">        p.join()</span><br><span class="line">    <span class="built_in">print</span>(mq.get()) <span class="comment"># 取mq中的值</span></span><br><span class="line">    <span class="built_in">print</span>(mq.get())</span><br><span class="line">    <span class="built_in">print</span>(mq.get())</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">进程p0开始</span></span><br><span class="line"><span class="string">取得数据1</span></span><br><span class="line"><span class="string">进程p0结束</span></span><br><span class="line"><span class="string">进程p1开始</span></span><br><span class="line"><span class="string">取得数据2</span></span><br><span class="line"><span class="string">进程p1结束</span></span><br><span class="line"><span class="string">进程p2开始</span></span><br><span class="line"><span class="string">取得数据3</span></span><br><span class="line"><span class="string">进程p2结束</span></span><br><span class="line"><span class="string">p0</span></span><br><span class="line"><span class="string">p1</span></span><br><span class="line"><span class="string">p2</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="pipe管道实现进程通信"><a href="#pipe管道实现进程通信" class="headerlink" title="pipe管道实现进程通信"></a>pipe管道实现进程通信</h3><p>Pipe方法返回（conn1， conn2）代表一个管道的两个端。</p>
<p>若duplex参数为True（默认值），那么这个参数是全双工模式<br>若duplex为False，conn1只负责接收消息，conn2只负责发送消息</p>
<p>例：在全双工模式下，可以调用conn1.send发送消息，conn1.recv接收消息。如果没有消息可接收，recv方法会一直阻塞。如果管道已经被关闭，那么recv方法会抛出EOFError。</p>
<p>总的来说用得不多</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">import multiprocessing</span><br><span class="line">from time import <span class="built_in">sleep</span></span><br><span class="line"></span><br><span class="line">def func1(conn1):</span><br><span class="line">  sub_info = <span class="string">&quot;这是conn1端&quot;</span> <span class="comment"># 定义或者引用一个要传送的信息</span></span><br><span class="line">  <span class="built_in">print</span>(f<span class="string">&quot;进程1--&#123;multiprocessing.current_process().pid&#125;发送数据：&#123;sub_info&#125;&quot;</span>)</span><br><span class="line">  <span class="built_in">sleep</span>(1)</span><br><span class="line">  conn1.send(sub_info) <span class="comment"># conn1发送数据</span></span><br><span class="line">  <span class="built_in">print</span>(f<span class="string">&quot;来自进程2:&#123;conn1.recv()&#125;&quot;</span>)  <span class="comment"># 收取conn2的数据</span></span><br><span class="line">  <span class="built_in">sleep</span>(1)</span><br><span class="line">def func2(conn2):</span><br><span class="line">  sub_info = <span class="string">&quot;这是conn2端&quot;</span> <span class="comment"># 定义或者引用一个要传送的信息</span></span><br><span class="line">  <span class="built_in">print</span>(f<span class="string">&quot;进程2--&#123;multiprocessing.current_process().pid&#125;发送数据：&#123;sub_info&#125;&quot;</span>)</span><br><span class="line">  <span class="built_in">sleep</span>(1)</span><br><span class="line">  conn2.send(sub_info)<span class="comment"># conn2发送数据</span></span><br><span class="line">  <span class="built_in">print</span>(f<span class="string">&quot;来自进程1:&#123;conn2.recv()&#125;\n&quot;</span>) <span class="comment"># 收取conn2的数据</span></span><br><span class="line">  <span class="built_in">sleep</span>(1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  <span class="comment">#创建管道，分别是两端</span></span><br><span class="line">  conn1,conn2 = multiprocessing.Pipe()</span><br><span class="line">  <span class="comment"># 创建子进程</span></span><br><span class="line">  process1 = multiprocessing.Process(target=func1,args=(conn1,))</span><br><span class="line">  process2 = multiprocessing.Process(target=func2,args=(conn2,))</span><br><span class="line">  <span class="comment"># 启动子进程</span></span><br><span class="line">  process1.start()</span><br><span class="line">  process2.start()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">进程1--32748发送数据：这是conn1端</span></span><br><span class="line"><span class="string">进程2--14432发送数据：这是conn2端</span></span><br><span class="line"><span class="string">来自进程2:这是conn2端</span></span><br><span class="line"><span class="string">来自进程1:这是conn1端</span></span><br><span class="line"><span class="string">&#x27;</span><span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="manager管理器实现进程通信"><a href="#manager管理器实现进程通信" class="headerlink" title="manager管理器实现进程通信"></a>manager管理器实现进程通信</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="string">from</span> <span class="string">multiprocessing</span> <span class="string">import</span> <span class="string">Manager,</span> <span class="string">Process</span></span><br><span class="line"><span class="string">def</span> <span class="string">fun1(name,m_list,m_dict):</span> <span class="comment"># 子进程中修改共享对象</span></span><br><span class="line">    <span class="string">m_dict[&#x27;name&#x27;]</span> <span class="string">=</span> <span class="string">&quot;ws&quot;</span></span><br><span class="line">    <span class="string">m_list.append(&quot;hello&quot;)</span></span><br><span class="line"><span class="string">if</span> <span class="string">__name__</span> <span class="string">==</span> <span class="attr">&#x27;__main__&#x27;:</span></span><br><span class="line">    <span class="string">with</span> <span class="string">Manager()</span> <span class="attr">as mgr:</span> <span class="comment"># 创建一个Manager实例</span></span><br><span class="line">        <span class="string">m_list</span> <span class="string">=</span> <span class="string">mgr.list()</span> <span class="comment"># 定义一个共享列表m_list</span></span><br><span class="line">        <span class="string">m_dict</span> <span class="string">=</span> <span class="string">mgr.dict()</span> <span class="comment"># 定义一个共享字典m_dict</span></span><br><span class="line">        <span class="string">m_list.append(&#x27;Hello!!&#x27;)</span></span><br><span class="line">        <span class="comment"># 两个进程不能直接互相使用对象，需要互相传递</span></span><br><span class="line">        <span class="string">p1</span> <span class="string">=</span> <span class="string">Process(target=fun1,</span> <span class="string">args=(&#x27;p1&#x27;,</span> <span class="string">m_list,</span> <span class="string">m_dict))</span> <span class="comment"># 创建一个子进程</span></span><br><span class="line">        <span class="string">p1.start()</span></span><br><span class="line">        <span class="string">p1.join()</span>  <span class="comment"># 等p1进程结束，主进程继续执行</span></span><br><span class="line">        <span class="string">print(m_list)</span></span><br><span class="line">        <span class="string">print(m_dict)</span></span><br></pre></td></tr></table></figure>

<h2 id="进程池"><a href="#进程池" class="headerlink" title="进程池"></a>进程池</h2><p>进程池可以提供指定数量的进程给用户使用，即当有新的请求提交到进程池中时，如果池未满，则会创建一个新的进程用来执行该请求；反之，如果池中的进程数已经达到规定最大值，那么该请求就会等待，只要池中有进程空闲下来，该请求就能得到执行。</p>
<p><strong>相当于定义了进程的上限数量</strong></p>
<p>这几个进程的进程号是一致的，用完就会还回去</p>
<ol>
<li>提高效率，节省开辟进程和开辟内存空间的时间及销毁进程的时间</li>
<li>节省内存空间</li>
</ol>
<table>
<thead>
<tr>
<th>类&#x2F;方法</th>
<th>功能</th>
<th>参数</th>
</tr>
</thead>
<tbody><tr>
<td>Pool(processes)</td>
<td>创建进程池对象</td>
<td>processes表示进程池中有多少进程</td>
</tr>
<tr>
<td>pool.apply_async(func,args,kwds)</td>
<td>异步执行 ；将事件放入到进程池队列</td>
<td>func 事件函数 args 以元组形式给func传参kwds 以字典形式给func传参 返回值：返回一个代表进程池事件的对象，通过返回值的get方法可以得到事件函数的返回值</td>
</tr>
<tr>
<td>pool.apply(func,args,kwds)</td>
<td>同步执行；将事件放入到进程池队列</td>
<td>func 事件函数 args 以元组形式给func传参 kwds 以字典形式给func传参</td>
</tr>
<tr>
<td>pool.close()</td>
<td>关闭进程池</td>
<td></td>
</tr>
<tr>
<td>pool.join()</td>
<td>回收进程池</td>
<td></td>
</tr>
<tr>
<td>pool.map(func,iter)</td>
<td>类似于python的map函数，将要做的事件放入进程池</td>
<td>func 要执行的函数 iter 迭代对象</td>
</tr>
</tbody></table>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="string">from</span> <span class="string">multiprocessing</span> <span class="string">import</span> <span class="string">Pool</span></span><br><span class="line"><span class="string">import</span> <span class="string">os</span></span><br><span class="line"><span class="string">from</span> <span class="string">time</span> <span class="string">import</span> <span class="string">sleep</span></span><br><span class="line"><span class="string">def</span> <span class="string">func1(name):</span></span><br><span class="line">  <span class="string">print(f&quot;当前进程的ID:&#123;os.getpid()&#125;,&#123;name&#125;&quot;)</span></span><br><span class="line">  <span class="string">sleep(2)</span></span><br><span class="line">  <span class="string">return</span> <span class="string">name</span></span><br><span class="line"></span><br><span class="line"><span class="string">def</span> <span class="string">func2(args):</span></span><br><span class="line">  <span class="string">print(args)</span></span><br><span class="line"></span><br><span class="line"><span class="string">if</span> <span class="string">__name__</span> <span class="string">==</span> <span class="attr">&quot;__main__&quot;:</span></span><br><span class="line">  <span class="string">pool</span> <span class="string">=</span> <span class="string">Pool(5)</span> <span class="comment"># 实例化一个进程池，设置最多包含五个进程</span></span><br><span class="line"></span><br><span class="line">  <span class="string">pool.apply_async(func</span> <span class="string">=</span> <span class="string">func1,args=(&#x27;sxt1&#x27;,),callback=func2)</span> <span class="comment"># 结束时执行func2</span></span><br><span class="line">  <span class="string">pool.apply_async(func</span> <span class="string">=</span> <span class="string">func1,args=(&#x27;sxt2&#x27;,),callback=func2)</span></span><br><span class="line">  <span class="string">pool.apply_async(func</span> <span class="string">=</span> <span class="string">func1,args=(&#x27;sxt3&#x27;,),callback=func2)</span></span><br><span class="line">  <span class="string">pool.apply_async(func</span> <span class="string">=</span> <span class="string">func1,args=(&#x27;sxt4&#x27;,))</span></span><br><span class="line">  <span class="string">pool.apply_async(func</span> <span class="string">=</span> <span class="string">func1,args=(&#x27;sxt5&#x27;,))</span></span><br><span class="line">  <span class="string">pool.apply_async(func</span> <span class="string">=</span> <span class="string">func1,args=(&#x27;sxt6&#x27;,))</span></span><br><span class="line">  <span class="string">pool.apply_async(func</span> <span class="string">=</span> <span class="string">func1,args=(&#x27;sxt7&#x27;,))</span></span><br><span class="line">  <span class="string">pool.apply_async(func</span> <span class="string">=</span> <span class="string">func1,args=(&#x27;sxt8&#x27;,))</span></span><br><span class="line"></span><br><span class="line">  <span class="string">pool.close()</span></span><br><span class="line">  <span class="string">pool.join()</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;</span><span class="string">&#x27;</span></span><br><span class="line"><span class="string">当前进程的ID:525344,sxt1</span></span><br><span class="line"><span class="string">当前进程的ID:524032,sxt2</span></span><br><span class="line"><span class="string">当前进程的ID:523960,sxt3</span></span><br><span class="line"><span class="string">当前进程的ID:493052,sxt4</span></span><br><span class="line"><span class="string">当前进程的ID:523844,sxt5 </span></span><br><span class="line"><span class="string">当前进程的ID:525344,sxt6 # sxt6和sxt1的进程号是一致的</span></span><br><span class="line"><span class="string">sxt1</span></span><br><span class="line"><span class="string">当前进程的ID:524032,sxt7</span></span><br><span class="line"><span class="string">sxt2</span></span><br><span class="line"><span class="string">sxt3</span></span><br><span class="line"><span class="string">当前进程的ID:523960,sxt8</span></span><br><span class="line"><span class="string">&#x27;</span><span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>使用with管理线程池</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="string">from</span> <span class="string">multiprocessing</span> <span class="string">import</span> <span class="string">Pool</span></span><br><span class="line"><span class="string">import</span> <span class="string">os</span></span><br><span class="line"><span class="string">from</span> <span class="string">time</span> <span class="string">import</span> <span class="string">sleep</span></span><br><span class="line"><span class="string">def</span> <span class="string">func1(name):</span></span><br><span class="line">  <span class="string">print(f&quot;当前进程的ID:&#123;os.getpid()&#125;,&#123;name&#125;&quot;)</span></span><br><span class="line">  <span class="string">sleep(2)</span></span><br><span class="line">  <span class="string">return</span> <span class="string">name</span></span><br><span class="line"><span class="string">if</span> <span class="string">__name__</span> <span class="string">==</span> <span class="attr">&quot;__main__&quot;:</span></span><br><span class="line">  <span class="string">with</span> <span class="string">Pool(5)</span> <span class="attr">as pool:</span>  <span class="comment"># 使用with管理</span></span><br><span class="line">  <span class="comment"># pool.map函数式编程，将后面的参数以此赋值给func1</span></span><br><span class="line">  <span class="comment"># 会将返回的数据放到args中</span></span><br><span class="line">    <span class="string">args</span> <span class="string">=</span> <span class="string">pool.map(func1,(&#x27;sxt1,&#x27;,&#x27;sxt2,&#x27;,&#x27;sxt3,&#x27;,&#x27;sxt4,&#x27;,&#x27;sxt5,&#x27;,&#x27;sxt6,&#x27;,&#x27;sxt7,&#x27;,&#x27;sxt8,&#x27;))</span></span><br><span class="line">    <span class="attr">for a in args:</span></span><br><span class="line">      <span class="string">print(a)</span></span><br></pre></td></tr></table></figure>

<h2 id="协程"><a href="#协程" class="headerlink" title="协程"></a>协程</h2><p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213111.png"></p>
<p>协程，全称是“协同程序”，用来实现任务协作。是一种在线程中，比线程更加轻量级的存在，由程序员自己写程序来管理。</p>
<p>当出现IO阻塞时，CPU一直等待IO返回，处于空转状态。这时候用协程，可以执行其他任务。当IO返回结果后，再回来处理数据。充分利用了IO等待的时间，提高了效率。</p>
<p><strong>控制流的让出和恢复</strong></p>
<ol>
<li>每个协程有自己的执行栈，可以保存自己的执行现场</li>
<li>可以由用户程序按需创建协程（比如：遇到io操作）</li>
<li>协程“主动让出（yield）”执行权时候,会保存执行现场(保存中断时的寄存器上下文和栈)，然后切换到其他协程</li>
<li>协程恢复执行（resume）时，根据之前保存的执行现场恢复到中断前的状态，继续执行，这样就通过协程实现了轻量的由用户态调度的多任务模型</li>
</ol>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213144.png"></p>
<p><strong>协程的优点</strong></p>
<ol>
<li>由于自身带有上下文和栈，无需线程上下文切换的开销,属于程序级别的切换，操作系统完全感知不到，因而更加轻量级；</li>
<li>无需原子操作的锁定及同步的开销；</li>
<li>方便切换控制流，简化编程模型</li>
<li>单线程内就可以实现并发的效果，最大限度地利用cpu，且可扩展性高，成本低（注：一个CPU支持上万的协程都不是问题。所以很适合用于高并发处理）</li>
</ol>
<p><strong>协程的缺点</strong></p>
<ol>
<li>无法利用多核资源：协程的本质是个单线程,它不能同时将 单个CPU的多个核用上,协程需要和进程配合才能运行在多CPU上。</li>
<li>当然我们日常所编写的绝大部分应用都没有这个必要，除非是cpu密集型应用。</li>
</ol>
<h3 id="asyncio异步IO实现协程"><a href="#asyncio异步IO实现协程" class="headerlink" title="asyncio异步IO实现协程"></a>asyncio异步IO实现协程</h3><ol>
<li>正常的函数执行时是不会中断的，所以要写一个能够中断的函数，需要加async</li>
<li>async 用来声明一个函数为异步函数，异步函数的特点是能在函数执行过程中挂起，去执行其他异步函数，等到挂起条件（假设挂起条件是sleep(5)）消失后，也就是5秒到了再回来执行</li>
<li>await 用来用来声明程序挂起，比如异步程序执行到某一步时需要等待的时间很长，就将此挂起，去执行其他的异步程序。</li>
<li>asyncio是python3.5之后的协程模块，是python实现并发重要的包，这个包使用事件循环驱动实现并发。</li>
</ol>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="string">import</span> <span class="string">asyncio</span></span><br><span class="line"><span class="string">import</span> <span class="string">time</span></span><br><span class="line"><span class="string">async</span> <span class="string">def</span> <span class="string">func1():</span>   <span class="comment">#定义一个异步方法</span></span><br><span class="line">  <span class="string">for</span> <span class="string">i</span> <span class="string">in</span> <span class="string">range(3):</span></span><br><span class="line">    <span class="string">print(f&#x27;北京：第&#123;i&#125;次打印&#x27;)</span></span><br><span class="line">    <span class="string">await</span> <span class="string">asyncio.sleep(1)</span> <span class="comment"># 挂起一秒</span></span><br><span class="line">  <span class="string">return</span> <span class="string">&quot;func1执行完毕&quot;</span></span><br><span class="line"><span class="string">async</span> <span class="string">def</span> <span class="string">func2():</span></span><br><span class="line">  <span class="string">for</span> <span class="string">k</span> <span class="string">in</span> <span class="string">range(3):</span></span><br><span class="line">    <span class="string">print(f&#x27;上海：第&#123;k&#125;次打印&#x27;</span> <span class="string">)</span></span><br><span class="line">    <span class="string">await</span> <span class="string">asyncio.sleep(1)</span> <span class="comment"># 挂起一秒</span></span><br><span class="line">  <span class="string">return</span> <span class="string">&quot;func2执行完毕&quot;</span></span><br><span class="line"><span class="string">async</span> <span class="string">def</span> <span class="string">main():</span> <span class="comment"># main也需要定义成异步</span></span><br><span class="line">  <span class="string">res</span> <span class="string">=</span> <span class="string">await</span> <span class="string">asyncio.gather(func1(),</span> <span class="string">func2())</span> <span class="comment"># 将func1和2传入，表示交替执行fun1和2</span></span><br><span class="line">  <span class="comment">#await异步执行func1方法</span></span><br><span class="line">  <span class="comment">#返回值为函数的返回值列表，返回给res</span></span><br><span class="line">  <span class="string">print(res)</span></span><br><span class="line"><span class="string">if</span> <span class="string">__name__</span> <span class="string">==</span> <span class="attr">&#x27;__main__&#x27;:</span></span><br><span class="line">  <span class="string">start_time</span> <span class="string">=</span> <span class="string">time.time()</span></span><br><span class="line">  <span class="string">asyncio.run(main())</span> <span class="comment"># 执行异步函数main</span></span><br><span class="line">  <span class="string">end_time</span> <span class="string">=</span> <span class="string">time.time()</span></span><br><span class="line">  <span class="string">print(f&quot;耗时&#123;end_time-start_time&#125;&quot;)</span></span><br></pre></td></tr></table></figure>

<h1 id="网络编程"><a href="#网络编程" class="headerlink" title="网络编程"></a>网络编程</h1><h2 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h2><p><strong>TCP</strong></p>
<p>TCP（Transmission Control Protocol，传输控制协议）。TCP方式就类似于拨打电话，使用该种方式进行网络通讯时，需要建立专门的虚拟连接，然后进行可靠的数据传输，如果数据发送失败，则客户端会自动重发该数据。</p>
<p><strong>UDP</strong></p>
<p>UDP（User Data Protocol，用户数据报协议）</p>
<p>UDP是一个非连接的协议，传输数据之前源端和终端不建立连接， 当它想传送时就简单地去抓取来自应用程序的数据，并尽可能快地把它扔到网络上。 在发送端，UDP传送数据的速度仅仅是受应用程序生成数据的速度、 计算机的能力和传输带宽的限制； 在接收端，UDP把每个消息段放在队列中，应用程序每次从队列中读一个消息段。</p>
<p>UDP 因为没有拥塞控制，一直会以恒定的速度发送数据。即使网络条件不好，也不会对发送速率进行调整。这样实现的弊端就是在网络条件不好的情况下可能会导致丢包，但是优点也很明显，在某些实时性要求高的场景（比如电话会议）就需要使用 UDP 而不是 TCP</p>
<p><strong>TCP和UDP的区别</strong></p>
<p>这两种传输方式都在实际的网络编程中使用，重要的数据一般使用TCP方式进行数据传输，而大量的非核心数据则可以通过UDP方式进行传递，在一些程序中甚至结合使用这两种方式进行数据传递。</p>
<p>由于TCP需要建立专用的虚拟连接以及确认传输是否正确，所以使用TCP方式的速度稍微慢一些，而且传输时产生的数据量要比UDP稍微大一些。</p>
<ul>
<li>TCP是面向连接的，传输数据安全，稳定，效率相对较低。</li>
<li>UDP是面向无连接的，传输数据不安全，效率较高。</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>UDP</th>
<th>TCP</th>
</tr>
</thead>
<tbody><tr>
<td>是否连接</td>
<td>无连接</td>
<td>面向连接</td>
</tr>
<tr>
<td>是否可靠</td>
<td>不可靠传输，不使用流量控制和拥塞控制</td>
<td>是否可靠</td>
</tr>
<tr>
<td>连接对象个数</td>
<td>支持一对一，一对多，多对一和多对多交互通信</td>
<td>连接对象个数</td>
</tr>
<tr>
<td>传输方式</td>
<td>面向报文</td>
<td>传输方式</td>
</tr>
<tr>
<td>首部开销</td>
<td>首部开销小，仅8字节</td>
<td>首部开销</td>
</tr>
<tr>
<td>适用场景</td>
<td>适用于实时应用（IP电话、视频会议、直播等）</td>
<td>适用场景</td>
</tr>
</tbody></table>
<h3 id="TCP建立连接与断开连接"><a href="#TCP建立连接与断开连接" class="headerlink" title="TCP建立连接与断开连接"></a>TCP建立连接与断开连接</h3><p><strong>三次握手</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213317.png"></p>
<p>第一步：客户端发送一个包含SYN即同步（Synchronize）标志的TCP报文，SYN同步报文会指明客户端使用的端口以及TCP连接的初始序号。</p>
<p>第二步：服务器在收到客户端的SYN报文后，将返回一个SYN+ACK的报文，表示客户端的请求被接受，同时TCP序号被加一，ACK即确认（Acknowledgement）</p>
<p>第三步：客户端也返回一个确认报文ACK给服务器端，同样TCP序列号被加一，到此一个TCP连接完成。然后才开始通信的第二步：数据处理。</p>
<p><strong>四次挥手</strong></p>
<p>第一步： 当主机A完成数据传输后,将控制位FIN置1，提出停止TCP连接的请求 ；</p>
<p>第二步： 主机B收到FIN后对其作出响应，确认这一方向上的TCP连接将关闭,将ACK置1；</p>
<p>第三步： 由B 端再提出反方向的关闭请求,将FIN置1 ；</p>
<p>第四步： 主机A对主机B的请求进行确认，将ACK置1，双方向的关闭结束.。</p>
<h3 id="数据包结构"><a href="#数据包结构" class="headerlink" title="数据包结构"></a>数据包结构</h3><p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213354.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213407.png"></p>
<h2 id="套接子编程概述"><a href="#套接子编程概述" class="headerlink" title="套接子编程概述"></a>套接子编程概述</h2><h3 id="socket编程"><a href="#socket编程" class="headerlink" title="socket编程"></a>socket编程</h3><p>TCP协议和UDP协议是传输层的两种协议。Socket是传输层供给应用层的编程接口，分为TCP编程和UDP编程两类。</p>
<p>Socket编程封装了常见的TCP、UDP操作，可以实现非常方便的网络编程。</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213436.png"></p>
<h3 id="socket-函数"><a href="#socket-函数" class="headerlink" title="socket()函数"></a>socket()函数</h3><p>通过使用socket模块提供的socket对象，可以在计算机网络中建立可以互相通信的服务器与客户端。在服务器端需要建立一个socket对象，并等待客户端的连接。客户端使用socket对象与服务器端进行连接</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Python 中，通常用一个Socket表示“打开了一个网络连接”</span><br><span class="line">socket.socket([family[, <span class="built_in">type</span>[, protocol]]])</span><br><span class="line"></span><br><span class="line">family: 套接字家族可以使AF_UNIX或者AF_INET；</span><br><span class="line">AF 表示ADDRESS FAMILY 地址族</span><br><span class="line">AF_INET（又称 PF_INET）是 IPv4 网络协议的套接字类型；</span><br><span class="line">AF_UNIX 则是 Unix 系统本地通信</span><br><span class="line"></span><br><span class="line"><span class="built_in">type</span>: 套接字类型</span><br><span class="line">如果是TCP 用SOCK_STREAM</span><br><span class="line">如果是UDP 用SOCK_DGRAM</span><br><span class="line"></span><br><span class="line">protocol: 一般不填，默认为<span class="number">0</span></span><br></pre></td></tr></table></figure>

<p>一些常用socket函数列举</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>服务器端套接字函数</td>
<td></td>
</tr>
<tr>
<td>s.bind()</td>
<td>绑定地址（host,port）到套接字， 在AF_INET下,以元组（host,port）的形式表示地址。</td>
</tr>
<tr>
<td>s.listen()</td>
<td>开始TCP监听。backlog指定在拒绝连接之前，操作系统可以挂起的最大连接数量。该值至少为1，大部分应用程序设为5就可以了。</td>
</tr>
<tr>
<td>s.accept()</td>
<td>被动接受TCP客户端连接,(阻塞式)等待连接的到来</td>
</tr>
<tr>
<td>客户端套接字</td>
<td></td>
</tr>
<tr>
<td>s.connect()</td>
<td>主动初始化TCP服务器连接，。一般address的格式为元组（hostname,port），如果连接出错，返回socket.error错误。</td>
</tr>
<tr>
<td>s.connect_ex()</td>
<td>connect()函数的扩展版本,出错时返回出错码,而不是抛出异常</td>
</tr>
<tr>
<td>公共用途的套接字函数</td>
<td></td>
</tr>
<tr>
<td>s.recv()</td>
<td>接收TCP数据，数据以字符串形式返回，bufsize指定要接收的最大数据量。flag提供有关消息的其他信息，通常可以忽略。</td>
</tr>
<tr>
<td>s.send()</td>
<td>发送TCP数据，将string中的数据发送到连接的套接字。返回值是要发送的字节数量，该数量可能小于string的字节大小。</td>
</tr>
<tr>
<td>s.sendall()</td>
<td>完整发送TCP数据，完整发送TCP数据。将string中的数据发送到连接的套接字，但在返回之前会尝试发送所有数据。成功返回None，失败则抛出异常。</td>
</tr>
<tr>
<td>s.recvfrom()</td>
<td>接收UDP数据，与recv()类似，但返回值是（data,address）。其中data是包含接收数据的字符串，address是发送数据的套接字地址。</td>
</tr>
<tr>
<td>s.sendto()</td>
<td>发送UDP数据，将数据发送到套接字，address是形式为（ipaddr，port）的元组，指定远程地址。返回值是发送的字节数。</td>
</tr>
<tr>
<td>s.close()</td>
<td>关闭套接字</td>
</tr>
<tr>
<td>s.getpeername()</td>
<td>返回连接套接字的远程地址。返回值通常是元组（ipaddr,port）。</td>
</tr>
<tr>
<td>s.getsockname()</td>
<td>返回套接字自己的地址。通常是一个元组(ipaddr,port)</td>
</tr>
<tr>
<td>s.setsockopt(level,optname,value)</td>
<td>设置给定套接字选项的值。</td>
</tr>
<tr>
<td>s.getsockopt(level,optname[.buflen])</td>
<td>返回套接字选项的值。</td>
</tr>
<tr>
<td>s.settimeout(timeout)</td>
<td>设置套接字操作的超时期，timeout是一个浮点数，单位是秒。值为None表示没有超时期。一般，超时期应该在刚创建套接字时设置，因为它们可能用于连接的操作（如connect()）</td>
</tr>
<tr>
<td>s.gettimeout()</td>
<td>返回当前超时期的值，单位是秒，如果没有设置超时期，则返回None。</td>
</tr>
<tr>
<td>s.fileno()</td>
<td>返回套接字的文件描述符。</td>
</tr>
<tr>
<td>s.setblocking(flag)</td>
<td>如果flag为0，则将套接字设为非阻塞模式，否则将套接字设为阻塞模式（默认值）。非阻塞模式下，如果调用recv()没有发现任何数据，或send()调用无法立即发送数据，那么将引起socket.error异常。</td>
</tr>
<tr>
<td>s.makefile()</td>
<td>创建一个与该套接字相关连的文件</td>
</tr>
</tbody></table>
<h2 id="UDP编程"><a href="#UDP编程" class="headerlink" title="UDP编程"></a>UDP编程</h2><h3 id="简单例子"><a href="#简单例子" class="headerlink" title="简单例子"></a>简单例子</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">服务端</span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 服务端接收数据</span></span><br><span class="line">s = socket(AF_INET,SOCK_DGRAM) <span class="comment"># 创建UDP类型的套接子</span></span><br><span class="line">s.bind((<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8000</span>)) <span class="comment"># 绑定接受信息的端口,传入一个元组</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;等待接收中&quot;</span>)</span><br><span class="line">recv_data = s.recvfrom(<span class="number">1024</span>) <span class="comment"># 接收数据，最大接受1024字节</span></span><br><span class="line"><span class="comment"># recv_data是一个返回的元组，因为发送的信息也是元组</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;收到<span class="subst">&#123;recv_data[<span class="number">0</span>].decode(<span class="string">&#x27;gbk&#x27;</span>)&#125;</span>,来自<span class="subst">&#123;recv_data[<span class="number">1</span>]&#125;</span>&quot;</span>) <span class="comment"># 接受的时候用gbk解码</span></span><br><span class="line">s.close()</span><br><span class="line"></span><br><span class="line">客户端</span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line">s = socket(AF_INET, SOCK_DGRAM) <span class="comment"># 创建一个套接子</span></span><br><span class="line">address = (<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8000</span>) <span class="comment"># 定义目标地址和端口</span></span><br><span class="line">data = <span class="built_in">input</span>(<span class="string">&quot;要发送的数据：&quot;</span>) <span class="comment"># 输入一个发送的数据</span></span><br><span class="line">s.sendto(data.encode(<span class="string">&quot;gbk&quot;</span>),address) <span class="comment"># 发送数据,同时对data进行编码处理</span></span><br><span class="line">s.close() <span class="comment"># 关闭接口</span></span><br><span class="line"></span><br><span class="line">运行结果如图</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213519.png"></p>
<h3 id="UDP持续通信"><a href="#UDP持续通信" class="headerlink" title="UDP持续通信"></a>UDP持续通信</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="comment"># 服务端</span></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line">s = socket(AF_INET, SOCK_DGRAM)</span><br><span class="line">s.bind((<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8000</span>)) <span class="comment"># 绑定ip端口，以元组形式传入</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Waiting for connection...&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    recv_data = s.recvfrom(<span class="number">1024</span>) <span class="comment">#最大接受字节数1024</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;收到信息：<span class="subst">&#123;recv_data[<span class="number">0</span>].decode(<span class="string">&#x27;gbk&#x27;</span>)&#125;</span>,从<span class="subst">&#123;recv_data[<span class="number">1</span>]&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> recv_data[<span class="number">0</span>].decode(<span class="string">&#x27;gbk&#x27;</span>) == <span class="string">&#x27;EOF&#x27;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;结束&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="comment"># 客户端</span></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line">s = socket(AF_INET, SOCK_DGRAM)</span><br><span class="line">addr = (<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8000</span>) <span class="comment"># 目标地址和端口</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    data = <span class="built_in">input</span>(<span class="string">f&quot;向<span class="subst">&#123;addr[<span class="number">0</span>]&#125;</span>发送信息：&quot;</span>)</span><br><span class="line">    s.sendto(data.encode(<span class="string">&quot;gbk&quot;</span>),addr)</span><br><span class="line">    <span class="keyword">if</span> data == <span class="string">&quot;EOF&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;结束&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213544.png"></p>
<h3 id="UDP多线程双工通信"><a href="#UDP多线程双工通信" class="headerlink" title="UDP多线程双工通信"></a>UDP多线程双工通信</h3><p>在这种情况下服务端和客户端的区分就不是很明确了，只要调换发送口和接收口即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="comment"># 服务器端</span></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="comment"># 定义收发函数的方法，将其放到线程中运行</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">recv_data</span>(): <span class="comment">#</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        recv_data = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;收到信息：<span class="subst">&#123;recv_data[<span class="number">0</span>].decode(<span class="string">&#x27;gbk&#x27;</span>)&#125;</span>,from<span class="subst">&#123;recv_data[<span class="number">1</span>]&#125;</span>&quot;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_data</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        data = <span class="built_in">input</span>(<span class="string">&quot;发送信息：&quot;</span>)</span><br><span class="line">        address = (<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8002</span>)</span><br><span class="line">        s.sendto(data.encode(<span class="string">&#x27;gbk&#x27;</span>),address)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = socket(AF_INET, SOCK_DGRAM)</span><br><span class="line">    s.bind((<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8000</span>))</span><br><span class="line">    t1 = Thread(target=recv_data)</span><br><span class="line">    t2 = Thread(target=send_data)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line"></span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="comment"># 客户端</span></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="comment"># 定义收发函数的方法，将其放到线程中运行</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">recv_data</span>(): <span class="comment">#</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        recv_data = s.recvfrom(<span class="number">1024</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;收到信息：<span class="subst">&#123;recv_data[<span class="number">0</span>].decode(<span class="string">&#x27;gbk&#x27;</span>)&#125;</span>,from<span class="subst">&#123;recv_data[<span class="number">1</span>]&#125;</span>&quot;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_data</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        data = <span class="built_in">input</span>(<span class="string">&quot;发送信息：&quot;</span>)</span><br><span class="line">        address = (<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8000</span>)</span><br><span class="line">        s.sendto(data.encode(<span class="string">&#x27;gbk&#x27;</span>),address)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    s = socket(AF_INET, SOCK_DGRAM)</span><br><span class="line">    s.bind((<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8002</span>))</span><br><span class="line">    t1 = Thread(target=recv_data)</span><br><span class="line">    t2 = Thread(target=send_data)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240605213632.png"></p>
<h2 id="TCP编程"><a href="#TCP编程" class="headerlink" title="TCP编程"></a>TCP编程</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">在UDP中，因为没有连接，所以在每次发送都需要添加对端的ip和port</span><br><span class="line"></span><br><span class="line">创建Socket服务器程序的步骤：</span><br><span class="line">(<span class="number">1</span>)创建Socket对象</span><br><span class="line">(<span class="number">2</span>)绑定端口号</span><br><span class="line">(<span class="number">3</span>)监听端口号</span><br><span class="line">(<span class="number">4</span>)等待客户端Socket的连接</span><br><span class="line">(<span class="number">5</span>)读取客户端数据</span><br><span class="line">(<span class="number">6</span>)向客户端发送数据</span><br><span class="line">(<span class="number">7</span>)关闭客户端socket</span><br><span class="line">(<span class="number">8</span>)关闭服务端socket</span><br><span class="line"></span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 服务器端</span></span><br><span class="line">server_socket = socket(AF_INET, SOCK_STREAM) <span class="comment"># tcp  socket</span></span><br><span class="line">server_socket.bind((<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8999</span>)) <span class="comment"># 监听本机8999端口</span></span><br><span class="line">server_socket.listen(<span class="number">5</span>) <span class="comment"># 等待5秒</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;等待连接&quot;</span>)</span><br><span class="line"><span class="comment"># accept是一个阻塞的方法，等待连接，将连接信息赋值给</span></span><br><span class="line">client_socket,client_info = server_socket.accept()</span><br><span class="line"><span class="comment"># client_socket代表新客户端，info代表ip和port</span></span><br><span class="line">recv_data = client_socket.recv(<span class="number">1024</span>) <span class="comment"># 最大接受1024字节</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;收到信息<span class="subst">&#123;recv_data.decode(<span class="string">&#x27;gbk&#x27;</span>)&#125;</span>,来源<span class="subst">&#123;client_info&#125;</span>&quot;</span>)</span><br><span class="line">client_socket.close()</span><br><span class="line">server_socket.close()</span><br><span class="line"></span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="comment"># 客户端</span></span><br><span class="line">client_socket = socket(AF_INET, SOCK_STREAM)</span><br><span class="line"><span class="comment">#发起一个连接</span></span><br><span class="line">client_socket.connect(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8999</span>)</span><br><span class="line"><span class="comment"># 发送消息</span></span><br><span class="line">client_socket.send(<span class="string">&quot;wangsheng&quot;</span>.encode(<span class="string">&quot;utf-8&quot;</span>))</span><br><span class="line">client_socket.close()</span><br><span class="line"></span><br><span class="line">运行之后</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240607164113.png"></p>
<h3 id="TCP双向通信"><a href="#TCP双向通信" class="headerlink" title="TCP双向通信"></a>TCP双向通信</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="string">from</span> <span class="string">socket</span> <span class="string">import</span> <span class="string">*</span></span><br><span class="line"><span class="comment"># 服务器端</span></span><br><span class="line"><span class="string">server_socket</span> <span class="string">=</span> <span class="string">socket(AF_INET,</span> <span class="string">SOCK_STREAM)</span> <span class="comment"># tcp  socket</span></span><br><span class="line"><span class="string">server_socket.bind((&quot;127.0.0.1&quot;,8999))</span> <span class="comment"># 监听本机8999端口</span></span><br><span class="line"><span class="string">server_socket.listen(5)</span> <span class="comment"># 等待5秒</span></span><br><span class="line"><span class="string">print(&quot;等待连接&quot;)</span></span><br><span class="line"><span class="string">client_socket,client_info</span> <span class="string">=</span> <span class="string">server_socket.accept()</span></span><br><span class="line"><span class="string">print(&quot;客户端连接成功&quot;)</span></span><br><span class="line"><span class="attr">while True:</span> <span class="comment"># 搞一个循环来收发消息客户端消息</span></span><br><span class="line">    <span class="string">recv_data</span> <span class="string">=</span> <span class="string">client_socket.recv(1024).decode(&quot;gbk&quot;)</span></span><br><span class="line">    <span class="string">print(f&quot;收到消息&#123;recv_data&#125;，来源&#123;client_info&#125;&quot;)</span></span><br><span class="line">    <span class="string">if</span> <span class="string">recv_data</span> <span class="string">==</span> <span class="attr">&quot;EOF&quot;:</span></span><br><span class="line">        <span class="string">print(&quot;结束&quot;)</span></span><br><span class="line">        <span class="string">break</span></span><br><span class="line">    <span class="string">msg</span> <span class="string">=</span> <span class="string">input(&quot;发送消息：&quot;)</span></span><br><span class="line">    <span class="string">client_socket.send(msg.encode(&quot;gbk&quot;))</span></span><br><span class="line"></span><br><span class="line"><span class="string">client_socket.close()</span></span><br><span class="line"><span class="string">server_socket.close()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="string">from</span> <span class="string">socket</span> <span class="string">import</span> <span class="string">*</span></span><br><span class="line"><span class="comment"># 客户端</span></span><br><span class="line"><span class="string">client_socket</span> <span class="string">=</span> <span class="string">socket(AF_INET,</span> <span class="string">SOCK_STREAM)</span></span><br><span class="line"><span class="comment">#发起一个连接</span></span><br><span class="line"><span class="string">client_socket.connect((&quot;127.0.0.1&quot;,8999))</span></span><br><span class="line"><span class="string">print(&quot;成功连接&quot;)</span></span><br><span class="line"><span class="comment"># 发送消息</span></span><br><span class="line"><span class="attr">while True:</span></span><br><span class="line">    <span class="string">msg</span> <span class="string">=</span> <span class="string">input(&quot;发送消息：&quot;)</span></span><br><span class="line">    <span class="string">client_socket.send(msg.encode(&quot;gbk&quot;))</span></span><br><span class="line">    <span class="string">if</span> <span class="string">msg</span> <span class="string">==</span> <span class="attr">&quot;EOF&quot;:</span></span><br><span class="line">        <span class="string">break</span></span><br><span class="line">    <span class="comment"># 接收信息</span></span><br><span class="line">    <span class="string">recv_data</span> <span class="string">=</span> <span class="string">client_socket.recv(1024).decode(&quot;gbk&quot;)</span></span><br><span class="line">    <span class="string">print(f&quot;服务器端消息:&#123;recv_data&#125;&quot;)</span></span><br><span class="line"><span class="string">client_socket.close()</span></span><br><span class="line"></span><br><span class="line"><span class="string">这种情况只能一问一答，</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240607164135.png"></p>
<h3 id="TCP多线程双工通信"><a href="#TCP多线程双工通信" class="headerlink" title="TCP多线程双工通信"></a>TCP多线程双工通信</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="string">from</span> <span class="string">socket</span> <span class="string">import</span> <span class="string">*</span></span><br><span class="line"><span class="string">from</span> <span class="string">threading</span> <span class="string">import</span> <span class="string">Thread</span></span><br><span class="line"><span class="comment"># 服务器端</span></span><br><span class="line"><span class="comment"># 定义两个函数，分别管收发</span></span><br><span class="line"><span class="string">def</span> <span class="string">recv_data():</span></span><br><span class="line">    <span class="attr">while True:</span></span><br><span class="line">        <span class="string">re_data</span> <span class="string">=</span> <span class="string">tcp_client_socket.recv(1024).decode(&quot;gbk&quot;)</span></span><br><span class="line">        <span class="string">print(f&quot;B:&#123;re_data&#125;&quot;)</span></span><br><span class="line">        <span class="string">if</span> <span class="string">re_data</span> <span class="string">==</span> <span class="attr">&#x27;EOF&#x27;:</span></span><br><span class="line">            <span class="string">break</span></span><br><span class="line"><span class="string">def</span> <span class="string">send_data():</span></span><br><span class="line">    <span class="attr">while True:</span></span><br><span class="line">        <span class="string">msg</span> <span class="string">=</span> <span class="string">input(&quot;&gt;&quot;)</span></span><br><span class="line">        <span class="string">tcp_client_socket.send(msg.encode(&quot;gbk&quot;))</span></span><br><span class="line">        <span class="string">if</span> <span class="string">msg</span> <span class="string">==</span> <span class="attr">&quot;EOF&quot;:</span></span><br><span class="line">            <span class="string">break</span></span><br><span class="line"><span class="string">if</span> <span class="string">__name__</span> <span class="string">==</span> <span class="attr">&#x27;__main__&#x27;:</span></span><br><span class="line">    <span class="string">tcp_server_socket</span> <span class="string">=</span> <span class="string">socket(AF_INET,</span> <span class="string">SOCK_STREAM)</span></span><br><span class="line">    <span class="string">tcp_server_socket.bind((&quot;127.0.0.1&quot;,9000))</span> <span class="comment"># 绑定端口</span></span><br><span class="line">    <span class="string">tcp_server_socket.listen(5)</span> <span class="comment"># 等待五秒</span></span><br><span class="line">    <span class="string">print(&quot;等待连接&quot;)</span></span><br><span class="line">    <span class="string">tcp_client_socket,host</span> <span class="string">=</span> <span class="string">tcp_server_socket.accept()</span></span><br><span class="line">    <span class="string">print(&quot;连接成功&quot;)</span></span><br><span class="line">    <span class="string">t1</span> <span class="string">=</span> <span class="string">Thread(target=recv_data)</span></span><br><span class="line">    <span class="string">t2</span> <span class="string">=</span> <span class="string">Thread(target=send_data)</span></span><br><span class="line">    <span class="string">t1.start()</span></span><br><span class="line">    <span class="string">t2.start()</span></span><br><span class="line">    <span class="string">t1.join()</span></span><br><span class="line">    <span class="string">t2.join()</span></span><br><span class="line">    <span class="string">tcp_client_socket.close()</span></span><br><span class="line">    <span class="string">tcp_server_socket.close()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="string">from</span> <span class="string">socket</span> <span class="string">import</span> <span class="string">*</span></span><br><span class="line"><span class="string">from</span> <span class="string">threading</span> <span class="string">import</span> <span class="string">Thread</span></span><br><span class="line"><span class="comment"># 客户端</span></span><br><span class="line"><span class="comment"># 定义两个函数，分别管收发</span></span><br><span class="line"><span class="string">def</span> <span class="string">recv_data():</span></span><br><span class="line">    <span class="attr">while True:</span></span><br><span class="line">        <span class="string">recv_data</span> <span class="string">=</span> <span class="string">tcp_client_socket.recv(1024).decode(&quot;gbk&quot;)</span></span><br><span class="line">        <span class="string">print(f&quot;A:&#123;recv_data&#125;&quot;)</span></span><br><span class="line">        <span class="string">if</span> <span class="string">recv_data</span> <span class="string">==</span> <span class="attr">&#x27;EOF&#x27;:</span></span><br><span class="line">            <span class="string">break</span></span><br><span class="line"><span class="string">def</span> <span class="string">send_data():</span></span><br><span class="line">    <span class="attr">while True:</span></span><br><span class="line">        <span class="string">msg</span> <span class="string">=</span> <span class="string">input(&quot;&gt;&quot;)</span></span><br><span class="line">        <span class="string">tcp_client_socket.send(msg.encode(&quot;gbk&quot;))</span></span><br><span class="line">        <span class="string">if</span> <span class="string">msg</span> <span class="string">==</span> <span class="attr">&#x27;EOF&#x27;:</span></span><br><span class="line">            <span class="string">break</span></span><br><span class="line"><span class="string">if</span> <span class="string">__name__</span> <span class="string">==</span> <span class="attr">&#x27;__main__&#x27;:</span></span><br><span class="line">    <span class="string">tcp_client_socket</span> <span class="string">=</span> <span class="string">socket(AF_INET,</span> <span class="string">SOCK_STREAM)</span></span><br><span class="line">    <span class="string">tcp_client_socket.connect((&quot;127.0.0.1&quot;,9000))</span></span><br><span class="line">    <span class="string">print(&quot;连接成功&quot;)</span></span><br><span class="line">    <span class="string">t1</span> <span class="string">=</span> <span class="string">Thread(target=recv_data)</span></span><br><span class="line">    <span class="string">t2</span> <span class="string">=</span> <span class="string">Thread(target=send_data)</span></span><br><span class="line">    <span class="string">t1.start()</span></span><br><span class="line">    <span class="string">t2.start()</span></span><br><span class="line">    <span class="string">t1.join()</span></span><br><span class="line">    <span class="string">t2.join()</span></span><br><span class="line">    <span class="string">tcp_client_socket.close()</span></span><br><span class="line">    </span><br><span class="line"><span class="string">两边都往对方发送EOF时，双线程都会结束</span></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240607164207.png"></p>
<h1 id="函数式编程"><a href="#函数式编程" class="headerlink" title="函数式编程"></a>函数式编程</h1><p>函数式编程的一些关键概念</p>
<h2 id="偏函数"><a href="#偏函数" class="headerlink" title="偏函数"></a>偏函数</h2><p>作用就是把一个函数某些参数固定住（也就是设置默认值），返回一个新的函数，调用这个新的函数会更简单。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">比如<span class="built_in">int</span>转<span class="number">8</span>进制数字，需要使用</span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;123&quot;</span>,base=<span class="number">8</span>)</span><br><span class="line">全都要转<span class="number">8</span>进制就要全都带base参数</span><br><span class="line"></span><br><span class="line">现在有functools.partial偏函数就可以直接固定base值</span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> functools</span><br><span class="line">int2 = functools.partial(<span class="built_in">int</span>, base=<span class="number">2</span>) <span class="comment">#定义一个偏函数，使用base=2的参数</span></span><br><span class="line"><span class="built_in">print</span>(int2(<span class="string">&#x27;1000000&#x27;</span>)) <span class="comment">#64</span></span><br><span class="line"><span class="built_in">print</span>(int2(<span class="string">&#x27;1000000&#x27;</span>, base=<span class="number">10</span>)) <span class="comment">#也可以修改base的值</span></span><br></pre></td></tr></table></figure>

<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><ul>
<li>局部变量：如果名称绑定再一个代码块中，则为该代码块的局部变量，除非声明为nonlocal或global</li>
<li>全局变量：如果模块绑定在模块层级，则为全局变量</li>
<li><strong>自由变量</strong>：如果变量在一个代码块中被使用但不是在其中定义，则为自由变量</li>
</ul>
<p>闭包是一个函数，而且存在于另一个函数当中，可以访问另一个函数的作用域</p>
<p>闭包可以访问到父级函数的变量，且该变量不会销毁</p>
<h3 id="闭包的内存分析"><a href="#闭包的内存分析" class="headerlink" title="闭包的内存分析"></a>闭包的内存分析</h3><p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621215149.png"></p>
<p>在inner中调用了outer的a变量，返回inner时，a对象不会随着outer关闭而消失，而是由inner继续指向</p>
<p>优点：</p>
<p>1.隐藏变量，避免全局污染</p>
<p>2.可以读取函数内部的变量</p>
<p>使用不当的缺点：</p>
<p>1.导致变量不会被垃圾回收机制回收，造成内存消耗</p>
<p>2.可能会造成内存泄漏的问题</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">使用闭包在不侵入代码的前提下添加功能</span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outfunc</span>(<span class="params">func</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">infunc</span>(<span class="params">*args,**kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;日志纪录 start...&quot;</span>)</span><br><span class="line">    func(*args,**kwargs)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;日志纪录 end...&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> infunc</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;使用功能1&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun2</span>(<span class="params">a,b,c</span>):</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;使用功能2&quot;</span>,a,b,c)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(fun1))</span><br><span class="line">fun1 = outfunc(fun1)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(fun1))</span><br><span class="line">fun1()</span><br><span class="line">fun2 = outfunc(fun2)</span><br><span class="line">fun2(<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>)</span><br><span class="line"></span><br><span class="line"><span class="number">1853641106240</span></span><br><span class="line"><span class="number">1853641546208</span></span><br><span class="line">日志纪录 start...</span><br><span class="line">使用功能<span class="number">1</span></span><br><span class="line">日志纪录 end...</span><br><span class="line">日志纪录 start...</span><br><span class="line">使用功能<span class="number">2</span> <span class="number">100</span> <span class="number">200</span> <span class="number">300</span></span><br><span class="line">日志纪录 end...</span><br></pre></td></tr></table></figure>

<h2 id="map函数"><a href="#map函数" class="headerlink" title="map函数"></a>map函数</h2><p>是一个内置函数，接收两种参数，函数与序列。map将传入的函数依次作用到序列的每个元素，并把结果作为新的list返回</p>
<p>如果要将函数作用在序列上，就可以这么操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">x</span>):</span><br><span class="line">  <span class="keyword">return</span> x * x</span><br><span class="line">L = []</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]:</span><br><span class="line">  L.append(f(n))</span><br><span class="line"><span class="built_in">print</span>(L)</span><br><span class="line"></span><br><span class="line"><span class="comment"># [1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">f2</span>(<span class="params">x,y</span>):</span><br><span class="line">  <span class="keyword">return</span> x+y</span><br><span class="line">L=<span class="built_in">map</span>(f2,[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(L))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [11, 22, 33]</span></span><br></pre></td></tr></table></figure>

<h2 id="reduce函数"><a href="#reduce函数" class="headerlink" title="reduce函数"></a>reduce函数</h2><p>属于funtools模块</p>
<p>reduce把一个函数作用在一个序列[x1, x2, x3…]上，这个函数必须接收两个参数，reduce把结果继续和序列的下一个元素做累积计算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 序列求和</span></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x, y</span>):</span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line"><span class="built_in">sum</span>=reduce(add, [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">sum</span>)</span><br></pre></td></tr></table></figure>

<h2 id="filter函数"><a href="#filter函数" class="headerlink" title="filter函数"></a>filter函数</h2><p>内置函数，用于过滤序列，把传入的函数依次作用于每个元素，然后根据返回值是True还是False, 决定保留还是丢弃该元素。</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621215240.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">is_odd</span>(<span class="params">n</span>):</span><br><span class="line">  <span class="keyword">return</span> n % <span class="number">2</span> == <span class="number">1</span> <span class="comment"># </span></span><br><span class="line">L=<span class="built_in">filter</span>(is_odd, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">list</span>(L))</span><br><span class="line"></span><br><span class="line"><span class="comment"># [1, 5]</span></span><br><span class="line">删掉偶数，只留奇数</span><br></pre></td></tr></table></figure>

<h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><p>装饰器来自 Decorator 的直译。什么叫装饰，就是装点、提供一些额外的功能。在 python 中的装饰器则是提供了一些额外的功能。</p>
<p>装饰器本质上是一个Python函数（其实就是闭包），它可以让其他函数在不需要做任何代码变动的前提下增加额外功能，装饰器的返回值也是一个函数对象。</p>
<p>装饰器用于有以下场景，比如：插入日志、性能测试、事务处理、缓存、权限校验等场景。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">不适用装饰器：</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">outfunc</span>(<span class="params">func</span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">infunc</span>():</span><br><span class="line">    func()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;日志纪录&quot;</span>)</span><br><span class="line">  <span class="keyword">return</span> infunc</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;使用功能1&quot;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun2</span>():</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;使用功能2&quot;</span>)</span><br><span class="line"></span><br><span class="line">log1 = outfunc(fun1)</span><br><span class="line">log2 = outfunc(fun2)</span><br><span class="line">fun1()</span><br><span class="line">fun2()</span><br><span class="line"></span><br><span class="line">使用装饰器：</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log_module</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        func()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;日志&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"><span class="meta">@log_module</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log1</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;使用功能1&quot;</span>)</span><br><span class="line"><span class="meta">@log_module</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">log2</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;使用功能2&quot;</span>)</span><br><span class="line"><span class="comment"># 调用使用装饰器的方法</span></span><br><span class="line">fun1()</span><br><span class="line">fun2()</span><br></pre></td></tr></table></figure>

<h3 id="多个装饰器执行顺序"><a href="#多个装饰器执行顺序" class="headerlink" title="多个装饰器执行顺序"></a>多个装饰器执行顺序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@mylog</span></span><br><span class="line"><span class="meta">@cost_time</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">等同于</span><br><span class="line">fun2 = cost_time(fun1)</span><br><span class="line">fun2 = mylog(fun1)</span><br><span class="line">等同于</span><br><span class="line">fun2 = mylog(cost_time(fun2))</span><br><span class="line"></span><br><span class="line">先执行cost_time函数，再执行mylog函数</span><br><span class="line"></span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mylog</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;开始记录日志&quot;</span>)</span><br><span class="line">        func()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;结束记录日志&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cost_time</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;cost_time start&quot;</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>():</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;开始计时&quot;</span>)</span><br><span class="line">        start = time.time()</span><br><span class="line">        func()</span><br><span class="line">        end = time.time()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;花费时间<span class="subst">&#123;end-start&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> end-start</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;cost_time end&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"><span class="meta">@mylog</span></span><br><span class="line"><span class="meta">@cost_time</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;开始测试&quot;</span>)</span><br><span class="line">    time.sleep(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;结束测试&quot;</span>)</span><br><span class="line">fun1()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">计时结束</span></span><br><span class="line"><span class="string">开始记录日志</span></span><br><span class="line"><span class="string">开始计时</span></span><br><span class="line"><span class="string">开始测试</span></span><br><span class="line"><span class="string">结束测试</span></span><br><span class="line"><span class="string">花费时间2.001138925552368</span></span><br><span class="line"><span class="string">结束记录日志</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="带参数的装饰器"><a href="#带参数的装饰器" class="headerlink" title="带参数的装饰器"></a>带参数的装饰器</h3><p>在两层封装的装饰器中，因为固定有一层需要写被返回的函数。必须多封装一层，用以传递额外的参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mylog</span>(<span class="params"><span class="built_in">type</span></span>):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">decorator</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">infunc</span>(<span class="params">*args,**kwargs</span>):</span><br><span class="line">      <span class="keyword">if</span> <span class="built_in">type</span>==<span class="string">&quot;文件&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;文件中：日志纪录&quot;</span>)</span><br><span class="line">      <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;控制台：日志纪录&quot;</span>)</span><br><span class="line">      <span class="keyword">return</span> func(*args,**kwargs)</span><br><span class="line">    <span class="keyword">return</span> infunc</span><br><span class="line">  <span class="keyword">return</span> decorator</span><br><span class="line"></span><br><span class="line"><span class="meta">@mylog(<span class="params"><span class="string">&quot;文件&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun2</span>(<span class="params">a,b</span>):</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;使用功能2&quot;</span>,a,b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  fun2(<span class="number">100</span>,<span class="number">200</span>)</span><br></pre></td></tr></table></figure>

<h3 id="wraps装饰器"><a href="#wraps装饰器" class="headerlink" title="wraps装饰器"></a>wraps装饰器</h3><p>一个函数不止有他的执行语句，还有着 <strong>name__（函数名），__doc</strong> （说明文档）等属性，我们之前的例子会导致这些属性改变。</p>
<p>functool.wraps可以将原函数对象的指定属性赋值给包装函数对象，默认有module、name、doc，或者通过参数选择。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在使用装饰器的过程中，最外层的函数（在主函数中调用的函数）并不是实际上执行的函数</span><br><span class="line">在内存中都是指向了装饰器中的函数。</span><br><span class="line">可以使用wraps装饰器：</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">mylog</span>(<span class="params">func</span>):</span><br><span class="line"><span class="meta">  @wraps(<span class="params">func</span>)</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">infunc</span>(<span class="params">*args,**kwargs</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;日志纪录...&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;函数文档:&quot;</span>,func.__doc__)</span><br><span class="line">    <span class="keyword">return</span> func(*args,**kwargs)</span><br><span class="line">  <span class="keyword">return</span> infunc</span><br></pre></td></tr></table></figure>

<h3 id="内置装饰器property、staticmethod、classmethod"><a href="#内置装饰器property、staticmethod、classmethod" class="headerlink" title="内置装饰器property、staticmethod、classmethod"></a><strong>内置装饰器</strong>property、staticmethod、classmethod</h3><p><strong>property装饰器</strong></p>
<p>用于像访问属性一样来获取一个函数的返回值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">User</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,month_salary</span>):</span><br><span class="line">    self.name = name</span><br><span class="line">    self.month_salary = month_salary</span><br><span class="line"></span><br><span class="line"><span class="meta">  @property</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">year_salary</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">int</span>(self.month_salary)*<span class="number">12</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  u1 = User(<span class="string">&quot;ws&quot;</span>,<span class="string">&quot;1800&quot;</span>)</span><br><span class="line">  <span class="built_in">print</span>(u1.year_salary) <span class="comment"># 返回年薪</span></span><br></pre></td></tr></table></figure>

<p><strong>staticmethod装饰器</strong></p>
<p>用于类中的静态方法，不经实例化也可以直接调用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line"><span class="meta">  @staticmethod</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">say_hello</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello world!&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  Person.say_hello()</span><br></pre></td></tr></table></figure>

<p><strong>classmethod装饰器</strong></p>
<p>用于类方法，传入cls。不经过实例化也可以直接使用类来调用。和staticmethod的区别就是</p>
<p>需要传入参数，所以也需要在最开始的类初始化方法中定义参数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name</span>):</span><br><span class="line">      self.name = name</span><br><span class="line"><span class="meta">  @classmethod</span></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">say_hello</span>(<span class="params">cls,name</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;我是<span class="subst">&#123;name&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello world!&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">  Person.say_hello(<span class="string">&quot;王盛&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="类装饰器"><a href="#类装饰器" class="headerlink" title="类装饰器"></a>类装饰器</h2><p>类能实现装饰器的功能， 是由于当我们调用一个对象时，实际上调用的是它的 <strong>call</strong> 方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Demo</span>:</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;我是 Demo&#x27;</span>)</span><br><span class="line">demo = Demo()</span><br><span class="line">demo() <span class="comment"># 直接调用对象，实质是调用了他的__call__()</span></span><br><span class="line"></span><br><span class="line">类装饰器的使用</span><br><span class="line">fun1 函数是作为参数传递给了 NewClass 类的构造函数 __init__ 方法</span><br><span class="line">而不是 __call__ 方法。但当之后调用 fun1() 时，调用NewClass 实例的 __call__ 方法</span><br><span class="line"><span class="comment">#coding=UTF-8</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NewClass</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,func</span>): <span class="comment"># 写构造方法</span></span><br><span class="line">        self.func = func</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self,*args,**kwargs</span>): <span class="comment"># 写call方法</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;记录&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> self.func(*args,**kwargs)</span><br><span class="line"><span class="meta">@NewClass </span><span class="comment"># fun1 = NewClass(fun1)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;使用fun1&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    fun1()</span><br></pre></td></tr></table></figure>

<h2 id="案例：缓存装饰器、计时装饰器"><a href="#案例：缓存装饰器、计时装饰器" class="headerlink" title="案例：缓存装饰器、计时装饰器"></a>案例：缓存装饰器、计时装饰器</h2><p>思路：通过time设计计时器，通过定义cache字典来做缓存</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">对于同个输入没有必要重新执行，直接使用缓存输出结果即可</span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep,time</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cost_time</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">inner</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        start = time()</span><br><span class="line">        result = func(*args,**kwargs)</span><br><span class="line">        end = time()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;耗时为<span class="subst">&#123;end-start&#125;</span>&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cache</span>():</span><br><span class="line">    __cache=&#123;&#125; <span class="comment"># 创建一个字典，把方法名为key，输出值为value</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,func</span>):</span><br><span class="line">        self.func = func</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__call__</span>(<span class="params">self,*args,**kwargs</span>):</span><br><span class="line">        <span class="comment"># 如果缓存中有方法名，则返回对应值</span></span><br><span class="line">        <span class="keyword">if</span> self.func.__name__ <span class="keyword">in</span> Cache.__cache:</span><br><span class="line">            <span class="keyword">return</span> Cache.__cache[self.func.__name__]</span><br><span class="line">        <span class="keyword">else</span>: <span class="comment"># 如果没有则进行计算</span></span><br><span class="line">            result = self.func(*args, **kwargs)</span><br><span class="line">            <span class="comment"># 将计算出来的值记录到缓存中</span></span><br><span class="line">            Cache.__cache[self.func.__name__] = result</span><br><span class="line">            <span class="keyword">return</span> result</span><br><span class="line"><span class="meta">@cost_time</span></span><br><span class="line"><span class="meta">@Cache</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">long_time</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;启动 1&quot;</span>)</span><br><span class="line">    sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;结束 2&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;函数结束&quot;</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    r1 = long_time()</span><br><span class="line">    r2 = long_time()</span><br><span class="line">    <span class="built_in">print</span>(r1)</span><br><span class="line">    <span class="built_in">print</span>(r2)</span><br><span class="line">    </span><br><span class="line">启动 <span class="number">1</span></span><br><span class="line">结束 <span class="number">2</span></span><br><span class="line">耗时为<span class="number">3.000478744506836</span> <span class="comment"># 可以看到第一次花费时间，</span></span><br><span class="line">耗时为<span class="number">0.0</span> <span class="comment"># 第二次不花时间直接输出了</span></span><br><span class="line">函数结束</span><br><span class="line">函数结束</span><br></pre></td></tr></table></figure>

<h2 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h2><p>在Python中，一边循环一边计算的机制，称为生成器：generator</p>
<p>比如如果仅仅需要访问前面几个元素，那后面绝大多数元素占用的空间都浪费了。如果列表元素按照某种算法推算出来，那我们就可以在循环的过程中不断推算出后续的元素，这样就不必创建完整的list，从而节省大量的空间。</p>
<p>是一种以时间换空间的方式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">生成器表达式很简单，只要把一个列表推导式的[]改成()，就创建了一个生成器(generator)</span><br><span class="line">L = [x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line"><span class="built_in">print</span>(L)</span><br><span class="line"><span class="comment"># [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</span></span><br><span class="line"></span><br><span class="line">g = (x * x <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(g)</span><br><span class="line"><span class="comment"># &lt;generator object &lt;genexpr&gt; at 0x000002A7BF7D3850&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="生成器函数"><a href="#生成器函数" class="headerlink" title="生成器函数"></a>生成器函数</h3><p>如果一个函数中包含yield关键字，那么这个函数就不再是一个普通函数，调用函数就是创建了一个生成器（generator）对象。</p>
<p>生成器仅仅保存了一套生成数值的算法，并且没有让这个算法现在就开始执行，根据调用来进行计算与返回</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;start&quot;</span>)</span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> i &lt;<span class="number">3</span>:</span><br><span class="line">        <span class="keyword">yield</span> i</span><br><span class="line">        <span class="comment">#print(f&quot;temp:&#123;temp&#125;&quot;)</span></span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;end&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;结束&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    a = test()</span><br><span class="line">    <span class="built_in">print</span>(a)</span><br><span class="line">    a.__next__() <span class="comment"># start</span></span><br><span class="line">    a.__next__() <span class="comment"># 0</span></span><br><span class="line">    a.__next__() <span class="comment"># 1</span></span><br><span class="line">    a.__next__() <span class="comment"># StopIteration: 结束</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">相当于每次调用它的__next__,都会执行这个yield</span></span><br><span class="line"><span class="string">yield执行完之后会让程序挂起</span></span><br><span class="line"><span class="string">return代表生成器结束，就会返回报错</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">send()函数，将值<span class="number">100</span>发到生成器内部</span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment"># send的作用是唤醒并继续执行，发送一个信息到生成器内部</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">foo</span>():</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;start&quot;</span>)</span><br><span class="line">  i = <span class="number">0</span></span><br><span class="line">  <span class="keyword">while</span> i&lt;<span class="number">4</span>:</span><br><span class="line">    temp = <span class="keyword">yield</span> i</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;temp:<span class="subst">&#123;temp&#125;</span>&quot;</span>)</span><br><span class="line">    i=i+<span class="number">1</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;end&quot;</span>)</span><br><span class="line"></span><br><span class="line">g = foo()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(g)) <span class="comment"># 同g.__next__</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;******&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(g.send(<span class="number">100</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">next</span>(g)) <span class="comment">#调用第二次</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for a in g: for循环调用同理</span></span><br><span class="line"><span class="comment">#   print(a)</span></span><br><span class="line"></span><br><span class="line">start</span><br><span class="line"><span class="number">0</span></span><br><span class="line">******</span><br><span class="line">temp:<span class="number">100</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">temp:<span class="literal">None</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h2><p><strong>特点</strong></p>
<ol>
<li>迭代器是一个可以记住遍历的位置的对象。</li>
<li>迭代器对象从集合的第一个元素开始访问，直到所有的元素被访问完结束。</li>
<li>迭代器只能往前不会后退。</li>
<li>迭代器有两个基本的方法：<code>iter()</code> 和 <code>next()</code></li>
</ol>
<p>实现了<code>iter</code>方法和<code>next</code>方法的对象就是迭代器。</p>
<p>生成器都是<code>Iterator</code>对象，但<code>list</code>、<code>dict</code>、<code>str</code>虽然是<code>Iterable（可迭代对象）</code>，却不是<code>Iterator（迭代器）</code>。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterator</span><br><span class="line"><span class="keyword">from</span> collections.abc <span class="keyword">import</span> Iterable</span><br><span class="line">a = <span class="built_in">isinstance</span>([],Iterable)</span><br><span class="line"><span class="built_in">print</span>(a) </span><br><span class="line">a = <span class="built_in">isinstance</span>([],Iterator)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"></span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line">[]是可迭代对象,但不是迭代器</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621215643.png"></p>
<p>Python的<code>Iterator</code>对象表示的是一个<strong>数据流</strong>。可以把这个数据流看做是一个有序序列，但我们却不能提前知道序列的长度，只能不断通过<code>next()</code>函数实现按需计算下一个数据，所以<code>Iterator</code>的计算是惰性的，只有在需要返回下一个数据时它才会计算。</p>
<p>所以，生成器一定是迭代器。</p>
<p><code>Iterator</code>甚至可以表示一个无限大的数据流，例如全体自然数。而使用list是永远不可能存储全体自然数的。</p>
<h3 id="for循环的本质"><a href="#for循环的本质" class="headerlink" title="for循环的本质"></a>for循环的本质</h3><p>是使用next()来实现的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]:</span><br><span class="line"> <span class="keyword">pass</span></span><br><span class="line">本质上是</span><br><span class="line"><span class="comment"># 首先获得Iterator对象:</span></span><br><span class="line">it = <span class="built_in">iter</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"><span class="comment"># 循环:</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line"> <span class="keyword">try</span>:</span><br><span class="line">   <span class="comment"># 获得下一个值:</span></span><br><span class="line">   x = <span class="built_in">next</span>(it)</span><br><span class="line"> <span class="keyword">except</span> StopIteration:</span><br><span class="line">   <span class="comment"># 遇到StopIteration就退出循环</span></span><br><span class="line">   <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>如果要自己创建一个迭代器，就需要分别重写<code>__tier__</code>方法和<code>__next__</code>方法</p>
<h2 id="动态语言特性"><a href="#动态语言特性" class="headerlink" title="动态语言特性"></a>动态语言特性</h2><p>动态语言指的是运行时可以改变其结构的语言 ：例如新的函数、 对象、甚至代码可以被引进， 已有的函数可以被删除或是其他结构上的变化。</p>
<h3 id="给对象添加属性和方法"><a href="#给对象添加属性和方法" class="headerlink" title="给对象添加属性和方法"></a>给对象添加属性和方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> types</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>():</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,name,age</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">p1 = Person(<span class="string">&quot;wangsheng&quot;</span>,<span class="number">24</span>)</span><br><span class="line">p2 = Person(<span class="string">&quot;xuehuiying&quot;</span>,<span class="number">24</span>)</span><br><span class="line">p1.height = <span class="number">176</span> <span class="comment"># 直接添加属性</span></span><br><span class="line"><span class="built_in">print</span>(p1.height) <span class="comment"># 176</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fun1</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">f&quot;<span class="subst">&#123;self.name&#125;</span> is <span class="subst">&#123;self.age&#125;</span>&quot;</span>)</span><br><span class="line">p2.fun1 = types.MethodType(fun1,p2) <span class="comment"># 通过types.MethodType添加方法</span></span><br><span class="line">p2.fun1() <span class="comment"># xuehuiying is 24</span></span><br></pre></td></tr></table></figure>

<h3 id="给类添加属性和方法"><a href="#给类添加属性和方法" class="headerlink" title="给类添加属性和方法"></a>给类添加属性和方法</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">**添加静态方法与类方法:</span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="keyword">import</span> types</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Persion</span>():</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">static1</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;static~&quot;</span>)</span><br><span class="line">Persion.static = <span class="built_in">staticmethod</span>(static1) <span class="comment">#直接添加静态方法</span></span><br><span class="line">Persion.static() <span class="comment"># 调用</span></span><br><span class="line"><span class="comment"># static~</span></span><br><span class="line"><span class="meta">@classmethod </span><span class="comment"># 类方法装饰器</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cls1</span>(<span class="params">cls,name</span>):</span><br><span class="line">  cls.name = name</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">f&#x27;cls~<span class="subst">&#123;cls.name&#125;</span>&#x27;</span>)</span><br><span class="line">Persion.clsfunc = cls1 <span class="comment"># 直接添加</span></span><br><span class="line">Persion.clsfunc(<span class="string">&quot;ws&quot;</span>)</span><br><span class="line"><span class="comment"># cls~ws**</span></span><br></pre></td></tr></table></figure>

<h3 id="slots-属性"><a href="#slots-属性" class="headerlink" title="__slots__ 属性**"></a><code>__slots__</code> 属性**</h3><ol>
<li><code>__slots__</code>对动态添加成员变量、成员方法有限制。对动态添加类属性、类方法没有限制。</li>
<li><code>__slots__</code>只对本类有限制，不限制子类</li>
</ol>
<p>为的是不让别人乱加</p>
<h1 id="变量的类型标注"><a href="#变量的类型标注" class="headerlink" title="变量的类型标注"></a>变量的类型标注</h1><p>变量类型注解是用来对变量和函数的参数返回值类型做注解（暗示），帮助开发者写出更加严谨的代码，让调用方减少类型方面的错误，也可以提高代码的可读性和易用性。</p>
<h3 id="常用的数据类型"><a href="#常用的数据类型" class="headerlink" title="常用的数据类型"></a><strong>常用的数据类型</strong></h3><table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>int</td>
<td>整型 integer</td>
</tr>
<tr>
<td>float</td>
<td>浮点数字</td>
</tr>
<tr>
<td>bool</td>
<td>布尔（int 的子类）</td>
</tr>
<tr>
<td>str</td>
<td>字符 (unicode)</td>
</tr>
<tr>
<td>bytes</td>
<td>8 位字符</td>
</tr>
<tr>
<td>object</td>
<td>任意对象（公共基类）</td>
</tr>
<tr>
<td>List[str]</td>
<td>字符组成的列表</td>
</tr>
<tr>
<td>Tuple[int, int]</td>
<td>两个int对象的元组</td>
</tr>
<tr>
<td>Tuple[int, …]</td>
<td>任意数量的 int 对象的元组</td>
</tr>
<tr>
<td>Dict[str, int]</td>
<td>键是 str 值是 int 的字典</td>
</tr>
<tr>
<td>Iterable[int]</td>
<td>包含 int 的可迭代对象</td>
</tr>
<tr>
<td>Sequence[bool]</td>
<td>布尔值序列（只读）</td>
</tr>
<tr>
<td>Mapping[str, int]</td>
<td>从 str 键到 int 值的映射（只读）</td>
</tr>
<tr>
<td>Any</td>
<td>具有任意类型的动态类型值</td>
</tr>
<tr>
<td>Union</td>
<td>联合类型</td>
</tr>
<tr>
<td>Optional</td>
<td>参数可以为空或已经声明的类型</td>
</tr>
<tr>
<td>Mapping</td>
<td>映射，是 collections.abc.Mapping 的泛型</td>
</tr>
<tr>
<td>MutableMapping</td>
<td>Mapping 对象的子类，可变</td>
</tr>
<tr>
<td>Generator</td>
<td>生成器类型, Generator[YieldType、SendType、ReturnType]</td>
</tr>
<tr>
<td>NoReturn</td>
<td>函数没有返回结果</td>
</tr>
<tr>
<td>Set</td>
<td>集合 set 的泛型, 推荐用于注解返回类型</td>
</tr>
<tr>
<td>AbstractSet</td>
<td>collections.abc.Set 的泛型，推荐用于注解参数</td>
</tr>
<tr>
<td>Sequence</td>
<td>collections.abc.Sequence 的泛型，list、tuple 等的泛化类型</td>
</tr>
<tr>
<td>TypeVar</td>
<td>自定义兼容特定类型的变量</td>
</tr>
<tr>
<td>Generic</td>
<td>自定义泛型类型</td>
</tr>
<tr>
<td>NewType</td>
<td>声明一些具有特殊含义的类型</td>
</tr>
<tr>
<td>Callable</td>
<td>可调用类型, Callable[[参数类型], 返回类型]</td>
</tr>
<tr>
<td>NoReturn</td>
<td>没法返回值</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">对于简单的 Python 内置类型，只需使用类型的名称</span><br><span class="line">a:<span class="built_in">int</span> = <span class="number">10</span></span><br><span class="line">b:<span class="built_in">str</span> = <span class="string">&quot;ws&quot;</span></span><br><span class="line">c:<span class="built_in">float</span> = <span class="string">&quot;1.12&quot;</span></span><br><span class="line">d:<span class="built_in">bool</span> = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">mypy是Python的可选静态类型检查器，pip安装这个模块之后,在终端中指定mypy就可以对指定</span><br><span class="line">文件进行检查</span><br><span class="line"></span><br><span class="line">如果需要标注一些序列的类型，在<span class="number">3.10</span>之前需要引入对应的模块</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span>, <span class="type">Set</span>, <span class="type">Dict</span>, <span class="type">Tuple</span></span><br><span class="line">x:<span class="type">List</span>[<span class="built_in">int</span>] = [<span class="number">1</span>]</span><br><span class="line">x:<span class="type">Set</span>[<span class="built_in">int</span>] = &#123;<span class="number">6</span>, <span class="number">7</span>&#125;</span><br><span class="line">x:<span class="type">Dict</span>[<span class="built_in">str</span>, <span class="built_in">float</span>] = &#123;<span class="string">&#x27;field&#x27;</span>: <span class="number">2.0</span>&#125; <span class="comment"># 字典要对应key和value的值类型</span></span><br><span class="line"><span class="comment"># 元组</span></span><br><span class="line">x:<span class="type">Tuple</span>[<span class="built_in">int</span>,<span class="built_in">str</span>,<span class="built_in">float</span>] = (<span class="number">3</span>, <span class="string">&quot;yes&quot;</span>, <span class="number">7.5</span>) <span class="comment"># 对于固定大小的元组，指定所有元素的类型</span></span><br><span class="line">x:<span class="type">Tuple</span>[<span class="built_in">int</span>, ...] = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment"># 对于可变大小的元组，使用一种类型和省略号</span></span><br></pre></td></tr></table></figure>

<h3 id="函数参数返回值添加类型标注"><a href="#函数参数返回值添加类型标注" class="headerlink" title="函数参数返回值添加类型标注"></a>函数参数返回值添加类型标注</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注释函数定义的方式</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">stringify</span>(<span class="params">num:<span class="built_in">int</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">str</span>(num)</span><br><span class="line"><span class="built_in">print</span>(stringify(<span class="number">10</span>))</span><br><span class="line"><span class="comment"># 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plus</span>(<span class="params">num1: <span class="built_in">int</span>, num2: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line"><span class="built_in">print</span>(plus(<span class="number">10</span>,<span class="number">20</span>))</span><br><span class="line"><span class="comment"># 30</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#迭代器</span></span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> Iterator</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">g</span>(<span class="params">n: <span class="built_in">int</span></span>) -&gt; Iterator[<span class="built_in">int</span>]:</span><br><span class="line">  i = <span class="number">0</span></span><br><span class="line">  <span class="keyword">while</span> i &lt; n:</span><br><span class="line">    <span class="keyword">yield</span> i</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="混合类型标注"><a href="#混合类型标注" class="headerlink" title="混合类型标注"></a>混合类型标注</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 旧版</span></span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">Union</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">oldFunc</span>(<span class="params">para:<span class="type">Union</span>[<span class="built_in">int</span>,<span class="built_in">float</span>]</span>)-&gt;<span class="type">Union</span>[<span class="built_in">int</span>,<span class="built_in">float</span>]:</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新版</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">newFunc</span>(<span class="params">para:<span class="built_in">int</span>|<span class="built_in">float</span></span>)-&gt; <span class="built_in">int</span>|<span class="built_in">float</span>:</span><br><span class="line">  <span class="keyword">return</span> para+<span class="number">10</span></span><br><span class="line"><span class="built_in">print</span>(newFunc(<span class="number">10</span>))</span><br><span class="line"><span class="built_in">print</span>(newFunc(<span class="number">10.10</span>))</span><br></pre></td></tr></table></figure>

<h3 id="给类型添加别名"><a href="#给类型添加别名" class="headerlink" title="给类型添加别名"></a>给类型添加别名</h3><p>这样可以直接用别名代替类型名，增加代码的可读性</p>
<p>通过typing的TypeAlias方法进行修改别名</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> TypeAlias</span><br><span class="line">newname: TypeAlias = <span class="built_in">str</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">newFunc</span>(<span class="params">param:newname</span>) -&gt; newname:</span><br><span class="line">  <span class="keyword">return</span> param + param</span><br><span class="line">user = create_user(<span class="string">&quot;john_doe&quot;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="散装新特性"><a href="#散装新特性" class="headerlink" title="散装新特性"></a>散装新特性</h1><p><strong>字典的三个方法新增mapping属性</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mydict = &#123;<span class="string">&quot;一&quot;</span>:<span class="number">1</span>,<span class="string">&quot;二&quot;</span>:<span class="number">2</span>,<span class="string">&quot;三&quot;</span>:<span class="number">3</span>&#125;</span><br><span class="line"><span class="comment">#旧版本</span></span><br><span class="line"><span class="comment">#print(mydict.keys(),mydict.values(),mydict.items())</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#新版本</span></span><br><span class="line">keys = mydict.keys()</span><br><span class="line">values = mydict.values()</span><br><span class="line">items = mydict.items()</span><br><span class="line"><span class="built_in">print</span>(keys.mapping,values.mapping,items.mapping)</span><br></pre></td></tr></table></figure>

<p><strong>函数zip()新增strict参数</strong></p>
<p>strict表示严格检查要zip的两个对象元素数量是否一致</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">keys = [<span class="string">&#x27;one&#x27;</span>,<span class="string">&#x27;two&#x27;</span>,<span class="string">&#x27;three&#x27;</span>,<span class="string">&#x27;four&#x27;</span>]</span><br><span class="line">values = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="comment">#旧版本</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>(<span class="built_in">zip</span>(keys,values)))</span><br><span class="line"><span class="comment">#新版本</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dict</span>(<span class="built_in">zip</span>(keys,values,strict=<span class="literal">True</span>)))</span><br><span class="line"></span><br><span class="line">报错：</span><br><span class="line"><span class="comment">#Traceback (most recent call last):</span></span><br><span class="line"><span class="comment">#  File &quot;C:\Users\13209\PycharmProjects\project01\66.py&quot;, line 7, in &lt;module&gt;</span></span><br><span class="line"><span class="comment">#    print(dict(zip(keys,values,strict=True)))</span></span><br><span class="line"><span class="comment">#          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span></span><br><span class="line"><span class="comment">#ValueError: zip() argument 2 is longer than argument 1</span></span><br><span class="line"><span class="comment">#&#123;&#x27;one&#x27;: 1, &#x27;two&#x27;: 2, &#x27;three&#x27;: 3, &#x27;four&#x27;: 4&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>dataclass装饰器</strong></p>
<p>这个装饰器是Python 3.7及以后版本中引入的，可以很容易地定义一个数据类，而无需手动编写那些常见的特殊方法。这不仅可以减少代码量，还可以提高代码的可读性和可维护性。</p>
<p><code>dataclass</code>装饰器将根据类属性生成数据类和数据类需要的方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> dataclasses <span class="keyword">import</span> dataclass</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> ClassVar</span><br><span class="line"><span class="meta">@dataclass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span>: <span class="comment"># 定义构造函数中的属性</span></span><br><span class="line">  name:<span class="built_in">str</span> </span><br><span class="line">  number:<span class="built_in">int</span></span><br><span class="line">  postion:<span class="built_in">str</span></span><br><span class="line">  age:<span class="built_in">int</span>=field(default=<span class="number">19</span>,<span class="built_in">repr</span>=<span class="literal">False</span>) <span class="comment"># 自定义变量的参数</span></span><br><span class="line">  <span class="comment"># repr=False表示打印时不会输出</span></span><br><span class="line">  country:ClassVar[<span class="built_in">str</span>] <span class="comment"># 类属性</span></span><br><span class="line"></span><br><span class="line">p1 = Player(<span class="string">&#x27;SXT&#x27;</span>,<span class="number">18</span>,<span class="string">&#x27;PG&#x27;</span>,<span class="number">26</span>)</span><br><span class="line"><span class="built_in">print</span>(p1)</span><br></pre></td></tr></table></figure>

<p><code>dataclasses.dataclass(*, init=True, repr=True, eq=True, order=False, unsafe_hash=False, frozen=False)</code></p>
<table>
<thead>
<tr>
<th>key</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>init</td>
<td>指定是否自动生成__init__，如果已经有定义同名方法则忽略这个值，也就是指定为True也不会自动生成</td>
</tr>
<tr>
<td>repr</td>
<td>同init，指定是否自动生成__repr__；自动生成的打印格式为class_name(arrt1:value1, attr2:value2, …)</td>
</tr>
<tr>
<td>eq</td>
<td>同init，指定是否生成__eq__；自动生成的方法将按属性在类内定义时的顺序逐个比较，全部的值相同才会返回True</td>
</tr>
<tr>
<td>order</td>
<td>自动生成__lt__，__le__，__gt__，__ge__，比较方式与eq相同；如果order指定为True而eq指定为False，将引发ValueError；如果已经定义同名函数，将引发TypeError</td>
</tr>
<tr>
<td>unsafehash</td>
<td>如果是False，将根据eq和frozen参数来生成__hash__:1. eq和frozen都为True，__hash__将会生成2. eq为True而frozen为False，__hash__被设为None3. eq为False，frozen为True，__hash__将使用超类（object）的同名属性（通常就是基于对象id的hash） 当设置为True时将会根据类属性自动生成__hash__，然而这是不安全的，因为这些属性是默认可变的，这会导致hash的不一致，所以除非能保证对象属性不可随意改变，否则应该谨慎地设置该参数为True</td>
</tr>
<tr>
<td>frozen</td>
<td>设为True时对field赋值将会引发错误，对象将是不可变的，如果已经定义了__setattr__和__delattr__将会引发TypeError</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如：</span><br><span class="line"><span class="meta">@dataclass(<span class="params">init=<span class="literal">False</span>, <span class="built_in">repr</span>=<span class="literal">False</span>, eq=<span class="literal">False</span></span>)  </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>字典合并</strong></p>
<p>python3.9之后的新特性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 旧版本</span></span><br><span class="line">dict1.update(dict2)</span><br><span class="line"><span class="built_in">print</span>(dict1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新版本</span></span><br><span class="line">dict1 = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>: <span class="number">2</span>&#125;  </span><br><span class="line">dict2 = &#123;<span class="string">&#x27;b&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;c&#x27;</span>: <span class="number">4</span>&#125;  </span><br><span class="line">dict3 = dict1 | dict2  <span class="comment"># &#123;&#x27;a&#x27;: 1, &#x27;b&#x27;: 3, &#x27;c&#x27;: 4&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#或者</span></span><br><span class="line">dict1 |= dict2 </span><br><span class="line">等价于</span><br><span class="line">dict1 = dict1 | dict2</span><br></pre></td></tr></table></figure>

<p><strong>match新用法</strong></p>
<p>3.10后的新特性，用来取代if_else的语法，效率更高</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">语句的匹配</span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line">status = <span class="number">400</span></span><br><span class="line"><span class="keyword">match</span> status:</span><br><span class="line">  <span class="keyword">case</span> <span class="number">200</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;访问成功&#x27;</span>)</span><br><span class="line">  <span class="keyword">case</span> <span class="number">404</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;资源不存在&#x27;</span>)</span><br><span class="line">  <span class="keyword">case</span> <span class="number">502</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;网关有问题&#x27;</span>)</span><br><span class="line">  <span class="keyword">case</span> <span class="number">500</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;服务有问题&#x27;</span>)</span><br><span class="line">  <span class="keyword">case</span> _: <span class="comment"># 其他任何值</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;不能识别&#x27;</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">模式的匹配</span><br><span class="line"><span class="comment">#coding=utf-8</span></span><br><span class="line"><span class="comment">#模式匹配</span></span><br><span class="line">person1 = (<span class="string">&#x27;ws&#x27;</span>,<span class="number">25</span>,<span class="string">&#x27;male&#x27;</span>)</span><br><span class="line">person2 = (<span class="string">&#x27;xhy&#x27;</span>,<span class="number">24</span>,<span class="string">&#x27;female&#x27;</span>)</span><br><span class="line">person3 = (<span class="string">&#x27;zhz&#x27;</span>,<span class="number">25</span>,<span class="string">&#x27;male&#x27;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>(<span class="params">person</span>):</span><br><span class="line">  <span class="keyword">match</span> person:</span><br><span class="line">    <span class="keyword">case</span> (name,_,<span class="string">&#x27;female&#x27;</span>): <span class="comment"># _代表无所谓，不重要</span></span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;name&#125;</span> is woman&#x27;</span>)</span><br><span class="line">    <span class="keyword">case</span> (name,_,<span class="string">&#x27;male&#x27;</span>):</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;name&#125;</span> is man&#x27;</span>)</span><br><span class="line">    <span class="keyword">case</span> (name,age,gender):</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">f&#x27;<span class="subst">&#123;name&#125;</span> is <span class="subst">&#123;age&#125;</span> old&#x27;</span>)</span><br><span class="line">func(person1)</span><br><span class="line">func(person2)</span><br><span class="line">func(person3)</span><br><span class="line"></span><br><span class="line"><span class="comment">#ws is man</span></span><br><span class="line"><span class="comment">#xhy is woman</span></span><br><span class="line"><span class="comment">#zhz is man</span></span><br></pre></td></tr></table></figure>

<h1 id="内存管理机制（八股文）"><a href="#内存管理机制（八股文）" class="headerlink" title="内存管理机制（八股文）"></a>内存管理机制（八股文）</h1><p>Python是由C语言开发的，底层操作都是基于C语言实现，Python中创建每个对象，内部都会与C语言结构体维护一些值。</p>
<p>1.在创建对象时，每个对象至少内部4个值，<strong>PyObject结构体</strong>(上一个对象、下一个对象、类型、引用个数)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#define _PyObject_HEAD_EXTRA       \</span></span><br><span class="line">  struct _<span class="built_in">object</span> *_ob_next;      \</span><br><span class="line">  struct _<span class="built_in">object</span> *_ob_prev;</span><br><span class="line">typedef struct _<span class="built_in">object</span> &#123;</span><br><span class="line">  _PyObject_HEAD_EXTRA</span><br><span class="line">  Py_ssize_t ob_refcnt;</span><br><span class="line">  PyTypeObject *ob_type;</span><br><span class="line">&#125; PyObject; </span><br></pre></td></tr></table></figure>

<p>2.有多个元素组成的对象使用PyVarObject，里面由：PyObject结构体(上一个对象、下一个对象、类型、引用个数)+Ob_size(items&#x3D;元素，元素个数)。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">typedef struct &#123;</span><br><span class="line">  PyObject ob_base;</span><br><span class="line">  Py_ssize_t ob_size; /* Number of items <span class="keyword">in</span> variable part */</span><br><span class="line">&#125; PyVarObject;</span><br></pre></td></tr></table></figure>

<p>在python程序中创建的任何对象都会被放在refchain双向列表链表中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">例：</span><br><span class="line">f = <span class="number">3.14</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">内部会创建：</span></span><br><span class="line"><span class="string">1.开辟内存</span></span><br><span class="line"><span class="string">2.初始化</span></span><br><span class="line"><span class="string">  ob_fval = 3.14 值</span></span><br><span class="line"><span class="string">  ob_type = float 类型</span></span><br><span class="line"><span class="string">  ob_refcnt = 1 引用数量</span></span><br><span class="line"><span class="string">3.将对象加入到双向链表refchain中</span></span><br><span class="line"><span class="string">   _ob_next = refchain中的上一个对象-上一个指针</span></span><br><span class="line"><span class="string">   _ob_prev = refchain中的下一个对象-下一个指针</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="Python的缓存机制"><a href="#Python的缓存机制" class="headerlink" title="Python的缓存机制"></a>Python的缓存机制</h2><h3 id="小整数对象池"><a href="#小整数对象池" class="headerlink" title="小整数对象池"></a>小整数对象池</h3><p>一些整数在程序中的使用非常广泛，Python为了优化速度，使用了小整数对象池， 避免为整数频繁申请和销毁内存空间。</p>
<p>Python 对小整数的定义是 [-5, 257) 这些整数对象是提前建立好的，不会被垃圾回收。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a = -<span class="number">5</span></span><br><span class="line">b = -<span class="number">5</span></span><br><span class="line">a <span class="keyword">is</span> b</span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"></span><br><span class="line">-<span class="number">6</span> -&gt; <span class="literal">False</span></span><br><span class="line"><span class="number">256</span> -&gt;  <span class="literal">True</span></span><br><span class="line"><span class="number">257</span> -&gt; <span class="literal">False</span></span><br><span class="line">每个大整数，均创建一个新的对象</span><br></pre></td></tr></table></figure>

<h2 id="intern机制"><a href="#intern机制" class="headerlink" title="intern机制"></a>intern机制</h2><p>每个单词(字符串)，不夹杂空格或者其他符号，默认开启intern机制，共享内存，靠引用计数决定是否销毁</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&#x27;helloworld&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;helloworld&#x27;</span></span><br><span class="line">a和b是同一个对象，如果使用下划线也是同个对象</span><br><span class="line"></span><br><span class="line">a = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">b = <span class="string">&#x27;hello world&#x27;</span></span><br><span class="line">不是同一个对象</span><br></pre></td></tr></table></figure>

<h2 id="free-list机制"><a href="#free-list机制" class="headerlink" title="free_list机制"></a>free_list机制</h2><p>当一个对象的引用计数器为0时，按理说应该回收，但内存不会直接回收，而是将对象添加到free_list链表中缓存。以后再去创建对象时，不再重新开辟内存，而是直接使用free_list。</p>
<p>比如float，list，tuple，dict都有free_list机制</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">f = <span class="number">3.14</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(f))</span><br><span class="line">ff = <span class="number">3.14</span></span><br><span class="line"><span class="keyword">del</span> f <span class="comment"># 删除f，此时引用计数器为0，照理来说应该删除</span></span><br><span class="line"><span class="comment"># 但实际上f这个3.14已经被添加到free_list中了</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(ff)) <span class="comment"># 可见其id与f是相同的</span></span><br></pre></td></tr></table></figure>

<p>float类型，维护的free_list链表最多可缓存100个float对象。</p>
<p>list类型，维护的free_list数组最多可缓存80个list对象。</p>
<p>tuple类型，维护一个free_list数组且数组含量20</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">重复创建相同元素数量的元组，放入free_list中后，会占用相同的位置</span><br><span class="line">a = (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))</span><br><span class="line"><span class="keyword">del</span> a</span><br><span class="line">b = (<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))</span><br><span class="line"></span><br><span class="line">a = &#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>,<span class="string">&quot;b&quot;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(a))</span><br><span class="line"><span class="keyword">del</span> a</span><br><span class="line">b = &#123;<span class="string">&#x27;c&#x27;</span>:<span class="number">3</span>,<span class="string">&quot;d&quot;</span>:<span class="number">4</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">id</span>(b))</span><br><span class="line"></span><br><span class="line"><span class="number">1779322404736</span></span><br><span class="line"><span class="number">1779322404736</span></span><br></pre></td></tr></table></figure>

<p>↑dict类型，维护的free_list数组最多可缓存80个dict对象。运行方式与元组是一致的</p>
<h2 id="垃圾回收机制"><a href="#垃圾回收机制" class="headerlink" title="垃圾回收机制"></a>垃圾回收机制</h2><p>Python 内部采用 <strong>引用计数法</strong> ，为每个对象维护引用次数，并据此回收不再需要的垃圾对象。由于引用计数法存在重大缺陷，循环引用时有内存泄露风险，因此 python 还采用 <strong>标记清除法</strong> 来回收存在循环引用的垃圾对象。此外，为了提高垃圾回收( <em>GC</em> )效率，<em>Python</em> 还引入了 <strong>分代回收机制</strong> 。</p>
<h3 id="引用计数法"><a href="#引用计数法" class="headerlink" title="引用计数法"></a><strong>引用计数法</strong></h3><p><strong>引用计数</strong> 是计算机编程语言中的一种 <strong>内存管理技术</strong> ，它将资源被引用的次数保存起来，当引用次数变为 0 时就将资源释放。</p>
<p>Python 也使用引用计数这种方式来管理内存，每个 Python 对象都包含一个公共头部，头部中的 ob_refcnt 字段便用于维护对象被引用次数。回忆对象模型部分内容，我们知道一个典型的 Python 对象结构如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621215935.png"></p>
<p><strong>引用计数增加的情况</strong></p>
<ol>
<li>对象被创建</li>
<li>如果有新的对象使用该对象</li>
<li>作为容器对象的一个元素</li>
<li>被作为参数传递给函数</li>
</ol>
<p><strong>引用计数减少的情况</strong></p>
<ol>
<li>对象的引用被显示的销毁</li>
<li>新对象不再使用该对象</li>
<li>对象从列表中被移除，或者列表对象本身被销毁</li>
<li>函数调用结束</li>
</ol>
<p><strong>引用计数机制的优点</strong></p>
<ul>
<li>简单</li>
<li>实时性：一旦没有引用，内存就直接释放了。</li>
</ul>
<p><strong>引用计数机制的缺点</strong></p>
<ul>
<li>维护引用计数消耗资源</li>
<li>循环引用的问题无法解决——如下所示</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">b = [<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">a.append(b) <span class="comment">#b的计数器2</span></span><br><span class="line">b.append(a) <span class="comment">#a的计数器2</span></span><br><span class="line"><span class="keyword">del</span> a</span><br><span class="line"><span class="keyword">del</span> b</span><br><span class="line"></span><br><span class="line">相互引用的这种情况下，计数器a和b都无法归零</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621220002.png"></p>
<h3 id="标记清除法"><a href="#标记清除法" class="headerlink" title="标记清除法"></a>标记清除法</h3><p>引用计数法能够解决大多数垃圾回收的问题，但是遇到两个对象相互引用的情况，del语句可以减少引用次数，但是引用计数不会归0，对象也就不会被销毁，从而造成了内存泄漏问题。<strong>针对该情况，Python引入了标记-清除机制</strong>。</p>
<p>主动思路一般分为两步：<strong>垃圾识别</strong> 和 <strong>垃圾回收</strong> 。垃圾对象被识别出来后，回收就只是自然而然的工作了，因此垃圾识别是解决问题的关键。</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621220020.png"></p>
<p>遍历活跃对象，第一步需要找出 <strong>根对象</strong> ( root object )集合。所谓根对象，就是指被全局引用或者在栈中引用的对象，这部对象是不能被删除的。</p>
<p>根对象本身是 <strong>可达的</strong> ( reachable )，不能删除；被根对象引用的对象也是可达的，同样不能删除；以此类推。我们从一个根对象出发，沿着引用关系遍历，遍历到的所有对象都是可达的，不能删除。</p>
<p>而没有被标色的对象就是 <strong>不可达</strong> ( unreachable )的垃圾对象，可以被安全回收。循环引用的致命缺陷完美解决了！</p>
<p>也就是它的关键是“遍历来标记不可达的对象”，并且将其删除</p>
<h3 id="分代回收机制"><a href="#分代回收机制" class="headerlink" title="分代回收机制"></a><strong>分代回收机制</strong></h3><p>如果每次执行标记清除法时，都需要遍历所有对象，多半会影响程序性能。</p>
<p>对象存活时间越长，它们被释放的概率越低，可以适当降低回收频率；相反，对象存活时间越短，它们被释放的概率越高，可以适当提高回收频率。</p>
<p>Python 内部根据对象存活时间，将对象分为 3 代</p>
<p>随着时间的推进，程序冗余对象逐渐增多，达到一定阈值，系统进行回收。</p>
<p>这 <em>3</em> 个代分别称为：<strong>初生代</strong>、<strong>中生代</strong> 以及 <strong>老生代</strong>。当这 3 个代初始化完毕后，对应的 gc_generation 数组大概是这样的：</p>
<p><img src="https://cdn.jsdelivr.net/gh/durative/picture-warehouse@main/images/20240621220106.png"></p>
<p><strong>第一代链表：</strong></p>
<p>当第一代达到700，就开始检测哪些对象引用计数变成0了，把不是0的放到第二代链表里，此时第一代链表就是空了，当再次达到700时，就再检测一遍。</p>
<p><strong>第二代链表：</strong></p>
<p>当第二代链表达到10，就检测一次。</p>
<p><strong>第三代链表：</strong></p>
<p>第三代链表检测10之后，第三代链表检测一次。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> gc</span><br><span class="line"><span class="comment">#python 中内置模块gc触发</span></span><br><span class="line"><span class="built_in">print</span>(gc.get_threshold()) <span class="comment">#查看gc默认值</span></span><br><span class="line"><span class="comment">#输出(700, 10, 10)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#返回一个元组，分别获取这三代当前计数</span></span><br><span class="line">gc.get_count() </span><br><span class="line"><span class="comment">#设置阈值</span></span><br><span class="line">gc.set_threshold()</span><br><span class="line"><span class="comment">#关闭gc垃圾回收机制</span></span><br><span class="line">gc.disable()</span><br></pre></td></tr></table></figure>
    </article>
    <!-- license -->
    
        <div class="license-wrapper">
            <p>原文作者：<a href="https://akemi.zj.cn">王盛</a>
            <p>原文链接：<a href="https://akemi.zj.cn/2024/02/06/Python/">https://akemi.zj.cn/2024/02/06/Python/</a>
            <p>发表日期：<a href="https://akemi.zj.cn/2024/02/06/Python/">February 6th 2024, 1:50:54 pm</a>
            <p>更新日期：<a href="https://akemi.zj.cn/2024/02/06/Python/">February 20th 2025, 6:37:27 pm</a>
            <p>版权声明：本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href="/2024/02/27/K8s/" title="k8s基础知识">
                    <div class="nextTitle">k8s基础知识</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href="/2024/02/06/PVE/" title="虚拟化系统PVE物理机快速安装指南">
                    <div class="prevTitle">虚拟化系统PVE物理机快速安装指南</div>
                </a>
            
        </li>
    </ul>
    <!-- comment -->
    
        <div class="post-comment">
            <!-- 来必力 City 版安装代码 -->


            

            

            

            <!-- utteranc评论 -->


            <!-- partial('_partial/comment/changyan') -->
            <!--PC版-->


            
            

            

        </div>
    
    <!-- timeliness note -->
    <!-- idea from: https://hexo.fluid-dev.com/posts/hexo-injector/#%E6%96%87%E7%AB%A0%E6%97%B6%E6%95%88%E6%80%A7%E6%8F%90%E7%A4%BA -->
    
    <!-- Mathjax -->
    
</main>

                <!-- profile -->
                
            </div>
            <footer class="footer footer-unloaded">
    <!-- social  -->
    
        <div class="social">
            
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


        </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- website approve for Chinese user -->
    
    <!-- 不蒜子  -->
    
        <div class="busuanzi-container">
            
             
                <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
            
        </div>
    	
</footer>

        </div>
        <!-- toc -->
        
            <div class="toc-wrapper toc-wrapper-loding" style=







    top:50vh;

>
                <div class="toc-catalog">
                    <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
                </div>
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Anaconda%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E4%BB%8B%E7%BB%8D%E4%B8%8E%E6%90%AD%E5%BB%BA"><span class="toc-number">1.</span> <span class="toc-text">Anaconda开发环境介绍与搭建</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97-%E2%80%94%E2%80%94-%E5%AE%9E%E7%8E%B0%E5%85%B7%E4%BD%93%E5%8A%9F%E8%83%BD%E7%9A%84%E5%B7%A5%E5%85%B7%E5%8C%85"><span class="toc-number">1.1.</span> <span class="toc-text">模块 —— 实现具体功能的工具包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83-%E2%80%94%E2%80%94-%E7%BB%99%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%81%9A%E7%94%A8%E9%80%94%E4%B8%8A%E7%9A%84%E5%8C%BA%E5%88%86"><span class="toc-number">1.2.</span> <span class="toc-text">虚拟环境 —— 给开发环境做用途上的区分</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pip%E5%92%8Cconda%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AF%B9%E6%AF%94%EF%BC%9A"><span class="toc-number">1.3.</span> <span class="toc-text">pip和conda包管理工具的对比：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#anaconda%E7%9A%84conda%E4%B8%8Epip%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.</span> <span class="toc-text">anaconda的conda与pip命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#windows%E5%AE%89%E8%A3%85anaconda%E4%B8%8Epycharm"><span class="toc-number">1.5.</span> <span class="toc-text">windows安装anaconda与pycharm</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.</span> <span class="toc-text">标识符与数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#python%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9E%84%E6%88%90"><span class="toc-number">2.1.</span> <span class="toc-text">python程序的构成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E9%87%8A"><span class="toc-number">2.2.</span> <span class="toc-text">注释</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%87%E8%AF%86%E7%AC%A6%E5%AE%9A%E4%B9%89%E8%A7%84%E5%88%99"><span class="toc-number">2.3.</span> <span class="toc-text">标识符定义规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Python%E6%A0%87%E8%AF%86%E7%AC%A6%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">2.4.</span> <span class="toc-text">Python标识符命名规则</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E5%92%8C%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.1.</span> <span class="toc-text">关键字和内置函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F"><span class="toc-number">2.5.</span> <span class="toc-text">变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E5%88%A0%E9%99%A4%E4%B8%8E%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">2.6.</span> <span class="toc-text">变量删除与垃圾回收机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E5%BC%8F%E8%B5%8B%E5%80%BC"><span class="toc-number">2.6.1.</span> <span class="toc-text">链式赋值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%8C%85%E8%B5%8B%E5%80%BC"><span class="toc-number">2.6.2.</span> <span class="toc-text">解包赋值</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.7.</span> <span class="toc-text">数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B4%E5%9E%8Bint"><span class="toc-number">2.7.1.</span> <span class="toc-text">整型int</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%AE%E7%82%B9%E5%9E%8Bfloat"><span class="toc-number">2.7.2.</span> <span class="toc-text">浮点型float</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E5%80%BC"><span class="toc-number">2.7.3.</span> <span class="toc-text">布尔值</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.</span> <span class="toc-text">运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.1.</span> <span class="toc-text">基本运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6-1"><span class="toc-number">3.2.</span> <span class="toc-text">运算符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">3.3.</span> <span class="toc-text">位运算符</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%B4%E6%95%B0%E7%BC%93%E5%AD%98%E9%97%AE%E9%A2%98"><span class="toc-number">4.</span> <span class="toc-text">整数缓存问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">5.</span> <span class="toc-text">字符串</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E7%A0%81"><span class="toc-number">5.1.</span> <span class="toc-text">编码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%88%9B%E5%BB%BA"><span class="toc-number">5.2.</span> <span class="toc-text">字符串创建</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%8B%BC%E6%8E%A5"><span class="toc-number">5.3.</span> <span class="toc-text">字符串的拼接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6"><span class="toc-number">5.4.</span> <span class="toc-text">转义字符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%93%8D%E4%BD%9C"><span class="toc-number">5.5.</span> <span class="toc-text">字符串操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E5%8F%98%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">5.6.</span> <span class="toc-text">可变字符串</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%A9%BB%E7%95%99%E6%9C%BA%E5%88%B6"><span class="toc-number">5.7.</span> <span class="toc-text">字符串驻留机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%A0%BC%E5%BC%8F%E5%8C%96format"><span class="toc-number">5.8.</span> <span class="toc-text">字符串的格式化format</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E5%AD%97%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">5.9.</span> <span class="toc-text">数字格式化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">5.10.</span> <span class="toc-text">类型转换</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BA%8F%E5%88%97"><span class="toc-number">6.</span> <span class="toc-text">序列</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8"><span class="toc-number">6.1.</span> <span class="toc-text">列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">6.1.1.</span> <span class="toc-text">列表的创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">6.1.2.</span> <span class="toc-text">列表操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E9%81%8D%E5%8E%86len-max-min"><span class="toc-number">6.1.3.</span> <span class="toc-text">列表遍历len max min</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%9F%E8%AE%A1%E6%AC%A1%E6%95%B0%E3%80%81%E6%8C%87%E5%AE%9A%E5%85%83%E7%B4%A0%EF%BC%9Acount%E3%80%81index%E6%96%B9%E6%B3%95"><span class="toc-number">6.1.4.</span> <span class="toc-text">统计次数、指定元素：count、index方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E5%88%87%E7%89%87"><span class="toc-number">6.1.5.</span> <span class="toc-text">列表切片</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E5%85%B8"><span class="toc-number">6.2.</span> <span class="toc-text">字典</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">6.2.1.</span> <span class="toc-text">字典的创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">6.2.2.</span> <span class="toc-text">字典的操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">6.3.</span> <span class="toc-text">元组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%81%E5%8C%85%E4%B8%8E%E8%A7%A3%E5%8C%85"><span class="toc-number">6.4.</span> <span class="toc-text">封包与解包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88"><span class="toc-number">6.5.</span> <span class="toc-text">集合</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E5%85%B3%E7%B3%BB%E6%B5%8B%E8%AF%95"><span class="toc-number">6.6.</span> <span class="toc-text">集合的关系测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E5%8F%AF%E5%8F%98%E9%9B%86%E5%90%88"><span class="toc-number">6.7.</span> <span class="toc-text">不可变集合</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6%E6%96%B9%E6%B3%95"><span class="toc-number">7.</span> <span class="toc-text">流程控制方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF"><span class="toc-number">7.1.</span> <span class="toc-text">分支</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF"><span class="toc-number">7.2.</span> <span class="toc-text">循环</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%B3%E5%87%BA"><span class="toc-number">7.3.</span> <span class="toc-text">跳出</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">7.4.</span> <span class="toc-text">练习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%BE%AA%E7%8E%AF%E6%9D%A5%E9%81%8D%E5%8E%86%E5%8F%AF%E8%BF%AD%E4%BB%A3%E5%AF%B9%E8%B1%A1"><span class="toc-number">7.5.</span> <span class="toc-text">通过循环来遍历可迭代对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF%E7%BB%83%E4%B9%A0"><span class="toc-number">7.6.</span> <span class="toc-text">嵌套循环练习</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E4%B8%AD%E7%9A%84%E4%BC%98%E5%8C%96"><span class="toc-number">7.7.</span> <span class="toc-text">循环中的优化</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">8.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#LEGB%E8%A7%84%E5%88%99%E2%80%94%E2%80%94%E6%9F%A5%E6%89%BE%E9%A1%BA%E5%BA%8F"><span class="toc-number">8.1.</span> <span class="toc-text">LEGB规则——查找顺序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">8.2.</span> <span class="toc-text">函数的格式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%98%E9%87%8F"><span class="toc-number">8.2.1.</span> <span class="toc-text">函数变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E7%9A%84%E4%BC%A0%E9%80%92"><span class="toc-number">8.2.2.</span> <span class="toc-text">函数参数的传递</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">8.3.</span> <span class="toc-text">浅拷贝和深拷贝</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#main%E5%87%BD%E6%95%B0%E4%B8%8E%E4%B8%80%E4%BA%9B%E5%B8%B8%E8%AF%86"><span class="toc-number">8.3.1.</span> <span class="toc-text">main函数与一些常识</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%A0%E5%8F%82"><span class="toc-number">8.4.</span> <span class="toc-text">传参</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lambda%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0"><span class="toc-number">8.5.</span> <span class="toc-text">lambda表达式和匿名函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#eval%E5%87%BD%E6%95%B0"><span class="toc-number">8.6.</span> <span class="toc-text">eval函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E5%87%BD%E6%95%B0"><span class="toc-number">8.7.</span> <span class="toc-text">递归函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E5%87%BD%E6%95%B0"><span class="toc-number">8.8.</span> <span class="toc-text">嵌套函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#del-%E6%9E%90%E6%9E%84%E6%96%B9%E6%B3%95%E5%92%8C%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">8.9.</span> <span class="toc-text">__del__析构方法和垃圾回收机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#call-%E6%96%B9%E6%B3%95%E5%92%8C%E5%8F%AF%E8%B0%83%E7%94%A8%E5%AF%B9%E8%B1%A1"><span class="toc-number">8.10.</span> <span class="toc-text">__call__方法和可调用对象</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B"><span class="toc-number">9.</span> <span class="toc-text">面向对象编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%BB%84%E6%88%90"><span class="toc-number">9.1.</span> <span class="toc-text">对象的组成</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">9.2.</span> <span class="toc-text">引用的本质</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">9.3.</span> <span class="toc-text">面向对象的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E3%80%81%E7%B1%BB%E7%9A%84%E5%B1%9E%E6%80%A7%E3%80%81%E7%B1%BB%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">9.4.</span> <span class="toc-text">类、类的属性、类的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="toc-number">9.4.1.</span> <span class="toc-text">实例方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%AF%B9%E8%B1%A1%E3%80%81%E7%B1%BB%E6%96%B9%E6%B3%95%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90"><span class="toc-number">9.4.2.</span> <span class="toc-text">类对象、类方法的内存分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95"><span class="toc-number">9.4.3.</span> <span class="toc-text">类方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="toc-number">9.4.4.</span> <span class="toc-text">静态方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E6%B2%A1%E6%9C%89%E9%87%8D%E8%BD%BD"><span class="toc-number">9.4.5.</span> <span class="toc-text">方法没有重载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E7%9A%84%E5%8A%A8%E6%80%81%E6%80%A7"><span class="toc-number">9.4.6.</span> <span class="toc-text">方法的动态性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7%E5%92%8C%E7%A7%81%E6%9C%89%E6%96%B9%E6%B3%95"><span class="toc-number">9.4.7.</span> <span class="toc-text">私有属性和私有方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#property%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">9.4.8.</span> <span class="toc-text">@property装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95%E5%91%BD%E5%90%8D"><span class="toc-number">9.4.9.</span> <span class="toc-text">属性和方法命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#None%E5%8F%98%E9%87%8F"><span class="toc-number">9.4.10.</span> <span class="toc-text">None变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%A7%E6%89%BF"><span class="toc-number">9.5.</span> <span class="toc-text">继承</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E6%88%90%E5%91%98%E7%9A%84%E7%BB%A7%E6%89%BF%E4%B8%8E%E9%87%8D%E5%86%99"><span class="toc-number">9.5.1.</span> <span class="toc-text">类成员的继承与重写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#object%E6%A0%B9%E7%B1%BB"><span class="toc-number">9.5.2.</span> <span class="toc-text">object根类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%86%99-str-%E6%96%B9%E6%B3%95"><span class="toc-number">9.5.3.</span> <span class="toc-text">重写__str__()方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E9%87%8D%E7%BB%A7%E6%89%BF"><span class="toc-number">9.5.4.</span> <span class="toc-text">多重继承</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#super-%E8%8E%B7%E5%BE%97%E7%88%B6%E7%B1%BB%E5%AE%9A%E4%B9%89"><span class="toc-number">9.5.5.</span> <span class="toc-text">super()获得父类定义</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E6%80%81"><span class="toc-number">9.6.</span> <span class="toc-text">多态</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD%E3%80%81%E7%89%B9%E6%AE%8A%E6%96%B9%E6%B3%95"><span class="toc-number">9.7.</span> <span class="toc-text">运算符重载、特殊方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7"><span class="toc-number">9.8.</span> <span class="toc-text">特殊属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E6%88%90%E4%B8%8E%E7%BB%84%E5%90%88"><span class="toc-number">9.9.</span> <span class="toc-text">集成与组合</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E4%B8%8E%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">10.</span> <span class="toc-text">设计模式-工厂模式与单例模式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-number">10.1.</span> <span class="toc-text">工厂模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">10.2.</span> <span class="toc-text">单例模式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"><span class="toc-number">11.</span> <span class="toc-text">异常处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#traceback%E6%A8%A1%E5%9D%97"><span class="toc-number">11.1.</span> <span class="toc-text">traceback模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8%E7%B1%BB"><span class="toc-number">11.2.</span> <span class="toc-text">自定义异常类</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%83%E8%AF%95%E4%B8%8E%E6%96%AD%E7%82%B9"><span class="toc-number">11.3.</span> <span class="toc-text">调试与断点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">12.</span> <span class="toc-text">文件处理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">12.1.</span> <span class="toc-text">编码问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6%E5%92%8C%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number">12.2.</span> <span class="toc-text">文本文件和二进制文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E6%A8%A1%E5%9D%97"><span class="toc-number">12.2.1.</span> <span class="toc-text">相关模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1open"><span class="toc-number">12.2.2.</span> <span class="toc-text">创建文件对象open()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#read%E6%96%B9%E6%B3%95"><span class="toc-number">12.2.3.</span> <span class="toc-text">read方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#readline%E6%96%B9%E6%B3%95"><span class="toc-number">12.2.4.</span> <span class="toc-text">readline方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#readlines%E6%96%B9%E6%B3%95"><span class="toc-number">12.2.5.</span> <span class="toc-text">readlines方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#write%E6%96%B9%E6%B3%95"><span class="toc-number">12.2.6.</span> <span class="toc-text">write方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#write%E5%92%8Cread%E7%9A%84%E7%BB%BC%E5%90%88%E7%BB%83%E4%B9%A0"><span class="toc-number">12.2.7.</span> <span class="toc-text">write和read的综合练习</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99"><span class="toc-number">12.2.8.</span> <span class="toc-text">二进制文件读写</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%B8%B8%E7%94%A8%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">12.3.</span> <span class="toc-text">文件对象的常用属性和方法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%9A%84%E6%8C%87%E9%92%88seek"><span class="toc-number">12.4.</span> <span class="toc-text">文件的指针seek()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pickle%E5%BA%8F%E5%88%97%E5%8C%96%E5%92%8C%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="toc-number">12.5.</span> <span class="toc-text">pickle序列化和反序列化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CSV%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-number">12.6.</span> <span class="toc-text">CSV文件操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#os%E4%B8%8Eos-path%E6%A8%A1%E5%9D%97"><span class="toc-number">12.7.</span> <span class="toc-text">os与os.path模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#os-path%E6%A8%A1%E5%9D%97"><span class="toc-number">12.7.1.</span> <span class="toc-text">os.path模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#walk%E9%81%8D%E5%8E%86"><span class="toc-number">12.7.2.</span> <span class="toc-text">walk遍历</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shutil%E6%A8%A1%E5%9D%97%EF%BC%88%E6%8B%B7%E8%B4%9D%E4%B8%8E%E5%8E%8B%E7%BC%A9"><span class="toc-number">12.8.</span> <span class="toc-text">shutil模块（拷贝与压缩</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97"><span class="toc-number">13.</span> <span class="toc-text">模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A8%8B%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-number">13.1.</span> <span class="toc-text">模块化编程的流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8C%85-package-%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8C%E7%BB%93%E6%9E%84"><span class="toc-number">13.2.</span> <span class="toc-text">包(package)的概念和结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%93"><span class="toc-number">13.3.</span> <span class="toc-text">库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97"><span class="toc-number">13.4.</span> <span class="toc-text">使用模块</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97"><span class="toc-number">14.</span> <span class="toc-text">常用模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#re%E6%A8%A1%E5%9D%97"><span class="toc-number">14.1.</span> <span class="toc-text">re模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%A7%84%E5%88%99"><span class="toc-number">14.1.1.</span> <span class="toc-text">正则表达式规则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%96%B9%E6%B3%95"><span class="toc-number">14.1.2.</span> <span class="toc-text">正则表达式方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97random"><span class="toc-number">14.2.</span> <span class="toc-text">常用模块random</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">14.2.1.</span> <span class="toc-text">常用方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97-JSON"><span class="toc-number">14.3.</span> <span class="toc-text">常用模块-JSON</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-1"><span class="toc-number">14.3.1.</span> <span class="toc-text">常用方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97-logging"><span class="toc-number">14.4.</span> <span class="toc-text">常用模块-logging</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#logging-basicConfig%E6%96%B9%E6%B3%95%E5%B8%B8%E7%94%A8%E4%BC%A0%E5%8F%82"><span class="toc-number">14.4.1.</span> <span class="toc-text">logging.basicConfig方法常用传参</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%B5%81%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">14.4.2.</span> <span class="toc-text">日志流常用方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%A8%A1%E5%9D%97-time%E5%92%8Cdatetime"><span class="toc-number">14.5.</span> <span class="toc-text">常用模块-time和datetime</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#time%E6%A8%A1%E5%9D%97"><span class="toc-number">14.5.1.</span> <span class="toc-text">time模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#datetime%E6%A8%A1%E5%9D%97"><span class="toc-number">14.5.2.</span> <span class="toc-text">datetime模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#date%E7%B1%BB"><span class="toc-number">14.5.2.1.</span> <span class="toc-text">date类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#datetime%E7%B1%BB"><span class="toc-number">14.5.2.2.</span> <span class="toc-text">datetime类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#timedelta%E7%B1%BB"><span class="toc-number">14.5.2.3.</span> <span class="toc-text">timedelta类</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B"><span class="toc-number">15.</span> <span class="toc-text">并发编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E6%A6%82%E5%BF%B5"><span class="toc-number">15.1.</span> <span class="toc-text">一些概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B"><span class="toc-number">15.2.</span> <span class="toc-text">线程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F"><span class="toc-number">15.2.1.</span> <span class="toc-text">线程的创建方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GIL%E5%85%A8%E5%B1%80%E9%94%81%E9%97%AE%E9%A2%98"><span class="toc-number">15.3.</span> <span class="toc-text">GIL全局锁问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E4%B8%8E%E4%BA%92%E6%96%A5%E9%94%81"><span class="toc-number">15.4.</span> <span class="toc-text">线程同步与互斥锁</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%BB%E9%94%81%E9%97%AE%E9%A2%98"><span class="toc-number">15.5.</span> <span class="toc-text">死锁问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%A1%E5%8F%B7%E9%87%8Fsemaphore"><span class="toc-number">15.6.</span> <span class="toc-text">信号量semaphore</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6event%E5%AF%B9%E8%B1%A1"><span class="toc-number">15.7.</span> <span class="toc-text">事件event对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E4%BA%A7%E8%80%85%E4%B8%8E%E6%B6%88%E8%B4%B9%E8%80%85%E6%A8%A1%E5%9E%8B"><span class="toc-number">15.8.</span> <span class="toc-text">生产者与消费者模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B"><span class="toc-number">15.9.</span> <span class="toc-text">进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">15.9.1.</span> <span class="toc-text">进程的创建</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="toc-number">15.10.</span> <span class="toc-text">进程通信</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8queue%E9%98%9F%E5%88%97%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="toc-number">15.10.1.</span> <span class="toc-text">使用queue队列实现进程通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#pipe%E7%AE%A1%E9%81%93%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="toc-number">15.10.2.</span> <span class="toc-text">pipe管道实现进程通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#manager%E7%AE%A1%E7%90%86%E5%99%A8%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="toc-number">15.10.3.</span> <span class="toc-text">manager管理器实现进程通信</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E6%B1%A0"><span class="toc-number">15.11.</span> <span class="toc-text">进程池</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%8F%E7%A8%8B"><span class="toc-number">15.12.</span> <span class="toc-text">协程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#asyncio%E5%BC%82%E6%AD%A5IO%E5%AE%9E%E7%8E%B0%E5%8D%8F%E7%A8%8B"><span class="toc-number">15.12.1.</span> <span class="toc-text">asyncio异步IO实现协程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-number">16.</span> <span class="toc-text">网络编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-number">16.1.</span> <span class="toc-text">基础概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5%E4%B8%8E%E6%96%AD%E5%BC%80%E8%BF%9E%E6%8E%A5"><span class="toc-number">16.1.1.</span> <span class="toc-text">TCP建立连接与断开连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%8C%85%E7%BB%93%E6%9E%84"><span class="toc-number">16.1.2.</span> <span class="toc-text">数据包结构</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A5%97%E6%8E%A5%E5%AD%90%E7%BC%96%E7%A8%8B%E6%A6%82%E8%BF%B0"><span class="toc-number">16.2.</span> <span class="toc-text">套接子编程概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#socket%E7%BC%96%E7%A8%8B"><span class="toc-number">16.2.1.</span> <span class="toc-text">socket编程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#socket-%E5%87%BD%E6%95%B0"><span class="toc-number">16.2.2.</span> <span class="toc-text">socket()函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP%E7%BC%96%E7%A8%8B"><span class="toc-number">16.3.</span> <span class="toc-text">UDP编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E4%BE%8B%E5%AD%90"><span class="toc-number">16.3.1.</span> <span class="toc-text">简单例子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E6%8C%81%E7%BB%AD%E9%80%9A%E4%BF%A1"><span class="toc-number">16.3.2.</span> <span class="toc-text">UDP持续通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UDP%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%8F%8C%E5%B7%A5%E9%80%9A%E4%BF%A1"><span class="toc-number">16.3.3.</span> <span class="toc-text">UDP多线程双工通信</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E7%BC%96%E7%A8%8B"><span class="toc-number">16.4.</span> <span class="toc-text">TCP编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%8F%8C%E5%90%91%E9%80%9A%E4%BF%A1"><span class="toc-number">16.4.1.</span> <span class="toc-text">TCP双向通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%8F%8C%E5%B7%A5%E9%80%9A%E4%BF%A1"><span class="toc-number">16.4.2.</span> <span class="toc-text">TCP多线程双工通信</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-number">17.</span> <span class="toc-text">函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%81%8F%E5%87%BD%E6%95%B0"><span class="toc-number">17.1.</span> <span class="toc-text">偏函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">17.2.</span> <span class="toc-text">闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%97%AD%E5%8C%85%E7%9A%84%E5%86%85%E5%AD%98%E5%88%86%E6%9E%90"><span class="toc-number">17.2.1.</span> <span class="toc-text">闭包的内存分析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#map%E5%87%BD%E6%95%B0"><span class="toc-number">17.3.</span> <span class="toc-text">map函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#reduce%E5%87%BD%E6%95%B0"><span class="toc-number">17.4.</span> <span class="toc-text">reduce函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#filter%E5%87%BD%E6%95%B0"><span class="toc-number">17.5.</span> <span class="toc-text">filter函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">17.6.</span> <span class="toc-text">装饰器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E8%A3%85%E9%A5%B0%E5%99%A8%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-number">17.6.1.</span> <span class="toc-text">多个装饰器执行顺序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E5%8F%82%E6%95%B0%E7%9A%84%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">17.6.2.</span> <span class="toc-text">带参数的装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wraps%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">17.6.3.</span> <span class="toc-text">wraps装饰器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%85%E7%BD%AE%E8%A3%85%E9%A5%B0%E5%99%A8property%E3%80%81staticmethod%E3%80%81classmethod"><span class="toc-number">17.6.4.</span> <span class="toc-text">内置装饰器property、staticmethod、classmethod</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">17.7.</span> <span class="toc-text">类装饰器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E7%BC%93%E5%AD%98%E8%A3%85%E9%A5%B0%E5%99%A8%E3%80%81%E8%AE%A1%E6%97%B6%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">17.8.</span> <span class="toc-text">案例：缓存装饰器、计时装饰器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number">17.9.</span> <span class="toc-text">生成器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8%E5%87%BD%E6%95%B0"><span class="toc-number">17.9.1.</span> <span class="toc-text">生成器函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">17.10.</span> <span class="toc-text">迭代器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF%E7%9A%84%E6%9C%AC%E8%B4%A8"><span class="toc-number">17.10.1.</span> <span class="toc-text">for循环的本质</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E8%AF%AD%E8%A8%80%E7%89%B9%E6%80%A7"><span class="toc-number">17.11.</span> <span class="toc-text">动态语言特性</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E5%AF%B9%E8%B1%A1%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">17.11.1.</span> <span class="toc-text">给对象添加属性和方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E7%B1%BB%E6%B7%BB%E5%8A%A0%E5%B1%9E%E6%80%A7%E5%92%8C%E6%96%B9%E6%B3%95"><span class="toc-number">17.11.2.</span> <span class="toc-text">给类添加属性和方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#slots-%E5%B1%9E%E6%80%A7"><span class="toc-number">17.11.3.</span> <span class="toc-text">__slots__ 属性**</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%9A%84%E7%B1%BB%E5%9E%8B%E6%A0%87%E6%B3%A8"><span class="toc-number">18.</span> <span class="toc-text">变量的类型标注</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">18.0.1.</span> <span class="toc-text">常用的数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E8%BF%94%E5%9B%9E%E5%80%BC%E6%B7%BB%E5%8A%A0%E7%B1%BB%E5%9E%8B%E6%A0%87%E6%B3%A8"><span class="toc-number">18.0.2.</span> <span class="toc-text">函数参数返回值添加类型标注</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E7%B1%BB%E5%9E%8B%E6%A0%87%E6%B3%A8"><span class="toc-number">18.0.3.</span> <span class="toc-text">混合类型标注</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%99%E7%B1%BB%E5%9E%8B%E6%B7%BB%E5%8A%A0%E5%88%AB%E5%90%8D"><span class="toc-number">18.0.4.</span> <span class="toc-text">给类型添加别名</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%A3%E8%A3%85%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">19.</span> <span class="toc-text">散装新特性</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86%E6%9C%BA%E5%88%B6%EF%BC%88%E5%85%AB%E8%82%A1%E6%96%87%EF%BC%89"><span class="toc-number">20.</span> <span class="toc-text">内存管理机制（八股文）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Python%E7%9A%84%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6"><span class="toc-number">20.1.</span> <span class="toc-text">Python的缓存机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E6%95%B4%E6%95%B0%E5%AF%B9%E8%B1%A1%E6%B1%A0"><span class="toc-number">20.1.1.</span> <span class="toc-text">小整数对象池</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#intern%E6%9C%BA%E5%88%B6"><span class="toc-number">20.2.</span> <span class="toc-text">intern机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#free-list%E6%9C%BA%E5%88%B6"><span class="toc-number">20.3.</span> <span class="toc-text">free_list机制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">20.4.</span> <span class="toc-text">垃圾回收机制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E8%AE%A1%E6%95%B0%E6%B3%95"><span class="toc-number">20.4.1.</span> <span class="toc-text">引用计数法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A0%87%E8%AE%B0%E6%B8%85%E9%99%A4%E6%B3%95"><span class="toc-number">20.4.2.</span> <span class="toc-text">标记清除法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E4%BB%A3%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">20.4.3.</span> <span class="toc-text">分代回收机制</span></a></li></ol></li></ol></li></ol>
            </div>
        
        <!-- sidebar -->
        <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
        <div class="sidebar-panel-archives">
    <!-- 在 ejs 中将 archive 按照时间排序 -->
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 201
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
        
            
            
            <div class="archive-year"> 2025 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/24</span>
            <a class="archive-post-title" href="/2025/04/24/Linux-Module/">Linux内核参数与模块调整</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/23</span>
            <a class="archive-post-title" href="/2025/04/23/Monitor-dmesg/">内核监控dmesg/lstopo/lshw</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/22</span>
            <a class="archive-post-title" href="/2025/04/22/Harbor-Secret/">将镜像仓库信息保存到Secret与反向解密</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/22</span>
            <a class="archive-post-title" href="/2025/04/22/Jenkins-Trouble1/">Jenkins从节点并发构建数改0消失故障</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/22</span>
            <a class="archive-post-title" href="/2025/04/22/Monitor-sysstat/">sysstat性能监控</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/17</span>
            <a class="archive-post-title" href="/2025/04/17/iSCSI/">iSCSI协议</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/17</span>
            <a class="archive-post-title" href="/2025/04/17/SMB-multiuser/">Samba多用户挂载</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/15</span>
            <a class="archive-post-title" href="/2025/04/15/Python-jenkins/">Python自动化调整Jenkins从节点并发数</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/15</span>
            <a class="archive-post-title" href="/2025/04/15/SMB-linux/">SMB文件共享协议--在linux上通过SMB实现共享</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/15</span>
            <a class="archive-post-title" href="/2025/04/15/SMB-windows/">SMB文件共享协议--在windows上通过SMB实现共享</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/11</span>
            <a class="archive-post-title" href="/2025/04/11/HAProxy-base/">HAProxy代理后端服务器</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/10</span>
            <a class="archive-post-title" href="/2025/04/10/Varnish-webcache/">Varnish缓存加速</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/10</span>
            <a class="archive-post-title" href="/2025/04/10/EVE-NG-image/">制作适用于EVE-NG的操作系统镜像win与centos</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/09</span>
            <a class="archive-post-title" href="/2025/04/09/Apache-vhost/">Apache虚拟主机</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/08</span>
            <a class="archive-post-title" href="/2025/04/08/K8s-resource/">k8s剩余资源计算脚本</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/08</span>
            <a class="archive-post-title" href="/2025/04/08/Postfix-send-only/">Postfix搭建send-only邮件服务器</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/08</span>
            <a class="archive-post-title" href="/2025/04/08/Postfix/">Postfix搭建内网环境邮件服务器</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/03</span>
            <a class="archive-post-title" href="/2025/04/03/CUPS/">CUPS服务管理打印机</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/02</span>
            <a class="archive-post-title" href="/2025/04/02/DHCP/">DHCPv4服务器搭建</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/01</span>
            <a class="archive-post-title" href="/2025/04/01/DNS-BIND-Master-salve/">BIND搭建主从DNS权威服务器</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/31</span>
            <a class="archive-post-title" href="/2025/03/31/DNS-troubleshooting/">DNS排查</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/28</span>
            <a class="archive-post-title" href="/2025/03/28/DNS-unbound-1/">Unbound搭建DNS缓存服务器</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/28</span>
            <a class="archive-post-title" href="/2025/03/28/DNS-unbound-2/">Unbound假装自己是DNS权威服务器</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/25</span>
            <a class="archive-post-title" href="/2025/03/25/Linux-bond/">Linux网卡绑定</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/24</span>
            <a class="archive-post-title" href="/2025/03/24/SystemRole-network/">使用RHEL System Roles管理网络</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/22</span>
            <a class="archive-post-title" href="/2025/03/22/Cronjob-k8s-check/">使用cronjob自动化巡检k8s告警</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/22</span>
            <a class="archive-post-title" href="/2025/03/22/Systemd-service/">systemd Unit及其配置文件</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/11</span>
            <a class="archive-post-title" href="/2025/03/11/SSL-Encrypt/">通过Let's Encrypt生成免费SSL证书</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/2025/03/07/ESXi-Network/">ESXi网络</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/2025/03/07/CKS/">CKS认证题目与解法（2025版）</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/2025/03/07/CKA/">CKA认证题目与解法（2024版）</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/28</span>
            <a class="archive-post-title" href="/2025/02/28/Apache-file-server/">使用Apache搭建能够传输大文件的web文件服务器</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/28</span>
            <a class="archive-post-title" href="/2025/02/28/Apache-config/">Apache配置文件详解与性能调优</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/28</span>
            <a class="archive-post-title" href="/2025/02/28/EffcientLinux-RunCommand/">高效使用Linux-执行命令的不同方式</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/26</span>
            <a class="archive-post-title" href="/2025/02/26/EffcientLinux-env/">高效使用Linux-父与子shell环境</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/26</span>
            <a class="archive-post-title" href="/2025/02/26/Git-cherry-pick/">git仓库使用cherry-pick进行单独代码合并</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span>
            <a class="archive-post-title" href="/2025/02/24/Docker-Proxy/">win10使用代理docker拉取外网镜像</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/24</span>
            <a class="archive-post-title" href="/2025/02/24/EffcientLinux-txt/">高效使用Linux-文本处理</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/21</span>
            <a class="archive-post-title" href="/2025/02/21/Python-pytest/">Python-pytest框架</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/21</span>
            <a class="archive-post-title" href="/2025/02/21/EffcientLinux-path/">高效使用Linux-文件系统目录</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/20</span>
            <a class="archive-post-title" href="/2025/02/20/OSS-rclone/">使用rclone进行对象存储迁移-R2→OSS</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/19</span>
            <a class="archive-post-title" href="/2025/02/19/RHCA-RHAAP/">RHAAP红帽Ansible自动化平台</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/19</span>
            <a class="archive-post-title" href="/2025/02/19/EffcientLinux-history/">高效使用Linux-历史记录操作</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/19</span>
            <a class="archive-post-title" href="/2025/02/19/Nginx-tune/">基于ECS的网站访问速度与nginx优化</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/19</span>
            <a class="archive-post-title" href="/2025/02/19/EffcientLinux-shell/">高效使用Linux-shell环境与运算</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/13</span>
            <a class="archive-post-title" href="/2025/02/13/SSH-jump/">SSH跳板</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/13</span>
            <a class="archive-post-title" href="/2025/02/13/EffcientLinux-pipe/">高效使用Linux-管道与组合命令</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/13</span>
            <a class="archive-post-title" href="/2025/02/13/Helm-TakeOver/">生产环境数据库pod使用helm接管</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/08</span>
            <a class="archive-post-title" href="/2025/02/08/ifnames/">修改网络接口命名规则</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/06</span>
            <a class="archive-post-title" href="/2025/02/06/K8s-Kind/">使用kind快速部署多节点k8s</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/06</span>
            <a class="archive-post-title" href="/2025/02/06/K8s-Minikube/">使用Minikube快速部署k8s</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/05</span>
            <a class="archive-post-title" href="/2025/02/05/Image-gcr/">docker拉取gcr.io镜像</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/05</span>
            <a class="archive-post-title" href="/2025/02/05/K8s-crt/">k8s证书延长有效期</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/17</span>
            <a class="archive-post-title" href="/2025/01/17/Python-Django/">Python-Django框架入门学习</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/16</span>
            <a class="archive-post-title" href="/2025/01/16/Helm-details/">Helm定义规范与模板全解析</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/15</span>
            <a class="archive-post-title" href="/2025/01/15/Gitlab-Jenkins-argo-k8s/">Gitlab+Jenkins+argo+k8s CICD</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/14</span>
            <a class="archive-post-title" href="/2025/01/14/Blog-ECS/">博客从github page迁移到ECS</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/13</span>
            <a class="archive-post-title" href="/2025/01/13/JS/">前端入门--JS</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/13</span>
            <a class="archive-post-title" href="/2025/01/13/Jenkins-Generic-Webhook-Trigger/">jenkins插件Generic Webhook Trigger</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/13</span>
            <a class="archive-post-title" href="/2025/01/13/Jenkins-git/">jenkins流水线与git凭证报错</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/03</span>
            <a class="archive-post-title" href="/2025/01/03/CSS-selector/">前端入门--CSS选择器</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">01/03</span>
            <a class="archive-post-title" href="/2025/01/03/CSS-style/">前端入门--CSS样式</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2024 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/30</span>
            <a class="archive-post-title" href="/2024/12/30/HTML-tag/">前端入门--HTML基础标签</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/17</span>
            <a class="archive-post-title" href="/2024/12/17/Helm-subChart/">Helm父子chart的关系与实战</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/12</span>
            <a class="archive-post-title" href="/2024/12/12/CLI-OSS/">常用的对象存储连接方式</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/11</span>
            <a class="archive-post-title" href="/2024/12/11/Shell-openvpn/">Shell脚本-添加Openvpn账号密码</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/10</span>
            <a class="archive-post-title" href="/2024/12/10/Python-Tk-httpd/">Python-tk库—图形化管理httpd服务</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/09</span>
            <a class="archive-post-title" href="/2024/12/09/Python-Tk-tomcat/">Python-tk库—图形化管理tomcat服务</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/09</span>
            <a class="archive-post-title" href="/2024/12/09/ArgoCD-install/">argoCD介绍，部署与对接代码仓库</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/08</span>
            <a class="archive-post-title" href="/2024/12/08/CRD/">CRD自定义API资源介绍与使用官方案例</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/08</span>
            <a class="archive-post-title" href="/2024/12/08/Image-Repository/">无敌的镜像加速器地址</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/08</span>
            <a class="archive-post-title" href="/2024/12/08/Mongodb-Kubernetes-Operator/">使用Mongodb-Kubernetes-Operator部署mongodb集群</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/05</span>
            <a class="archive-post-title" href="/2024/12/05/OpenVPN/">OpenVPN原理与证书类型</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/05</span>
            <a class="archive-post-title" href="/2024/12/05/Helm-minIO/">Helm部署minIO-单点与分布式</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/04</span>
            <a class="archive-post-title" href="/2024/12/04/Helm-mysql8/">Helm部署mysql8</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/04</span>
            <a class="archive-post-title" href="/2024/12/04/Helm-redis5/">Helm部署redis5与使用local-path-provisioner</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span>
            <a class="archive-post-title" href="/2024/12/01/K8s-skopeo/">镜像管理工具skopeo部署与实战</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span>
            <a class="archive-post-title" href="/2024/12/01/Python-Tk-nginx/">Python-tk库—图形化管理nginx服务</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span>
            <a class="archive-post-title" href="/2024/12/01/K3s-Install/">k3s两节点测试环境快速部署</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/01</span>
            <a class="archive-post-title" href="/2024/12/01/K8s-Ubuntu-Install/">ubuntu20.04桌面版快速部署单点k8s</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/19</span>
            <a class="archive-post-title" href="/2024/11/19/Python-check-status/">Python基于多种方式检测linux服务运行状态(进程筛选、systemctl、API)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/17</span>
            <a class="archive-post-title" href="/2024/11/17/Python-Module-mysql-connector-python/">Python使用mysql-connector-python库实现CRUD</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/16</span>
            <a class="archive-post-title" href="/2024/11/16/Python-Module-kubernetes-2/">Python-kubernetes模块案例—根据不同ns更新pod副本数</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/16</span>
            <a class="archive-post-title" href="/2024/11/16/Python-Module-kubernetes-1/">Python-kubernetes模块—k8s集群资源管理方法</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/13</span>
            <a class="archive-post-title" href="/2024/11/13/Python-Module-socket/">Python socket模块案例—简单网络编程</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/13</span>
            <a class="archive-post-title" href="/2024/11/13/Python-boto3/">Python boto3模块—访问S3风格API</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/11</span>
            <a class="archive-post-title" href="/2024/11/11/Python-Flask/">Python Flask框架—快速开发API</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/10</span>
            <a class="archive-post-title" href="/2024/11/10/Python-Module-request/">Python request模块常用方法</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/09</span>
            <a class="archive-post-title" href="/2024/11/09/Python-Module-json/">Python json模块案例—提取与交换json数据</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/09</span>
            <a class="archive-post-title" href="/2024/11/09/Python-Module-yaml/">Python yaml模块案例——提取与修改k8s配置文件</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/08</span>
            <a class="archive-post-title" href="/2024/11/08/Python-Module-fabric/">Python fabric模块案例—更方便使用ssh</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/07</span>
            <a class="archive-post-title" href="/2024/11/07/Python-Module-paramiko/">Python paramiko模块案例—创建SSH、SFTP连接</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/07</span>
            <a class="archive-post-title" href="/2024/11/07/Python-Module-logging/">Python logging模块案例—切割日志与告警发送</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/05</span>
            <a class="archive-post-title" href="/2024/11/05/Python-Module-psutil/">Python psutil模块案例—获取系统硬件状态</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span>
            <a class="archive-post-title" href="/2024/11/03/Python-Module-subprocess/">Python subprocess模块案例—执行系统命令与创建子进程</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/01</span>
            <a class="archive-post-title" href="/2024/11/01/MySQL-Locked-1/">面对锁表，他的选择是……查询锁源</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/01</span>
            <a class="archive-post-title" href="/2024/11/01/MySQL-Locked-2/">面对锁表，他的选择是……监控锁状态与查看死锁</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/01</span>
            <a class="archive-post-title" href="/2024/11/01/MySQL-Replication-relay/">面对主从延时，他的选择是……主从性能优化</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/31</span>
            <a class="archive-post-title" href="/2024/10/31/Python-Project-1/">Python案例——备份文件，清理过期日志，批量重命名文件</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/29</span>
            <a class="archive-post-title" href="/2024/10/29/Blog-cloudflare/">博客迁移小记——从github page迁移到cloudflare page</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/16</span>
            <a class="archive-post-title" href="/2024/10/16/Kafka-Install/">Kafka集群搭建</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/15</span>
            <a class="archive-post-title" href="/2024/10/15/Jenkins-Pipeline-k8s/">jenkins构建pipeline项目到k8s</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/13</span>
            <a class="archive-post-title" href="/2024/10/13/K8s-Binary-installation/">K8s二进制安装</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/10</span>
            <a class="archive-post-title" href="/2024/10/10/Jenkins-Pipeline-docker/">Jenkins构建pipeline项目到docker</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/08</span>
            <a class="archive-post-title" href="/2024/10/08/Jenkins-Install/">Jenkins yum部署与k8s容器化部署</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/08</span>
            <a class="archive-post-title" href="/2024/10/08/Jenkins-Master-Slave/">Jenkins主从架构</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/08</span>
            <a class="archive-post-title" href="/2024/10/08/Jenkins-Maven/">Jenkins构建maven项目</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/08</span>
            <a class="archive-post-title" href="/2024/10/08/Jenkins-freestyle/">Jenkins构建自由风格项目——拉取gitlab代码、使用脚本上传代码</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/05</span>
            <a class="archive-post-title" href="/2024/10/05/Dockerfile-tomcat/">使用Dockerfile打包与发布一个tomcat博客</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/01</span>
            <a class="archive-post-title" href="/2024/10/01/Git-organize/">Git与Gitlab使用知识整理</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/26</span>
            <a class="archive-post-title" href="/2024/09/26/Ansible-Project/">Ansible项目</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/24</span>
            <a class="archive-post-title" href="/2024/09/24/Redis-MS-Optimization/">Redis集群主从关系优化</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/24</span>
            <a class="archive-post-title" href="/2024/09/24/Redis-ASK/">Redis ASK机制、cluster-node-timeout参数</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/24</span>
            <a class="archive-post-title" href="/2024/09/24/Redis-Cluster/">Redis-Cluster集群模式</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/24</span>
            <a class="archive-post-title" href="/2024/09/24/Redis-Scaling/">Redis-Cluster扩容与缩容</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/22</span>
            <a class="archive-post-title" href="/2024/09/22/Redis-Replication/">Redis主从复制</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/22</span>
            <a class="archive-post-title" href="/2024/09/22/Redis-Sentinel/">Redis哨兵模式</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/19</span>
            <a class="archive-post-title" href="/2024/09/19/Redis-Transactions/">Redis事务</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/19</span>
            <a class="archive-post-title" href="/2024/09/19/Redis-Install/">Redis部署与参数</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/19</span>
            <a class="archive-post-title" href="/2024/09/19/Redis-Persistence/">Redis持久化</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/19</span>
            <a class="archive-post-title" href="/2024/09/19/Redis-Type/">Redis数据类型与常用操作</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/18</span>
            <a class="archive-post-title" href="/2024/09/18/Zabbix-Custom-Monitor-2/">zabbix自定义报警——mysql主从复制状态检查</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/17</span>
            <a class="archive-post-title" href="/2024/09/17/Zabbix-Proxy/">Zabbix-Proxy</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/17</span>
            <a class="archive-post-title" href="/2024/09/17/Zabbix-Auto-Registration/">Zabbix自动注册</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/16</span>
            <a class="archive-post-title" href="/2024/09/16/Zabbix-Auto-Discovery/">Zabbix自动发现</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/16</span>
            <a class="archive-post-title" href="/2024/09/16/Zabbix-JMX/">zabbix监控——JMX客户端</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/14</span>
            <a class="archive-post-title" href="/2024/09/14/Zabbix-Weixin/">Zabbix企业微信报警</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/13</span>
            <a class="archive-post-title" href="/2024/09/13/Zabbix-Mail-Alert/">Zabbix邮件报警</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/12</span>
            <a class="archive-post-title" href="/2024/09/12/Zabbix-Custom-Monitor/">Zabbix自定义监控</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/12</span>
            <a class="archive-post-title" href="/2024/09/12/Zabbix-Custom-Template/">Zabbix自定义模板</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/12</span>
            <a class="archive-post-title" href="/2024/09/12/Zabbix-Install/">Zabbix5.0安装与部署</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/10</span>
            <a class="archive-post-title" href="/2024/09/10/MySQL-Mycat-HA/">Mycat与keepalived高可用</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/10</span>
            <a class="archive-post-title" href="/2024/09/10/MySQL-Mycat/">Mycat部署与读写分离</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/08</span>
            <a class="archive-post-title" href="/2024/09/08/MySQL-MHA/">MySQL高可用之MHA</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/05</span>
            <a class="archive-post-title" href="/2024/09/05/MySQL-Replication/">MySQL高可用之主从复制(已更新)</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/04</span>
            <a class="archive-post-title" href="/2024/09/04/MySQL-Dual-Master/">MySQL高可用之双主+keepalived</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/03</span>
            <a class="archive-post-title" href="/2024/09/03/MySQL-HA/">MySQL高可用方案介绍</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/03</span>
            <a class="archive-post-title" href="/2024/09/03/MySQL-Metadata/">MySQL元数据与information_schema</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">09/02</span>
            <a class="archive-post-title" href="/2024/09/02/MySQL-SQL/">SQL语句详解</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/31</span>
            <a class="archive-post-title" href="/2024/08/31/MySQL-Multi-Instances/">MySQL多实例</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/27</span>
            <a class="archive-post-title" href="/2024/08/27/Shell-Project/">Shell实战</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/23</span>
            <a class="archive-post-title" href="/2024/08/23/Tomcat-Project/">Tomcat综合案例</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/21</span>
            <a class="archive-post-title" href="/2024/08/21/Tomcat-Base/">Tomcat基础知识</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/18</span>
            <a class="archive-post-title" href="/2024/08/18/Nginx-Project/">Nginx综合案例</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/15</span>
            <a class="archive-post-title" href="/2024/08/15/LNMP/">lnmp搭建笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/14</span>
            <a class="archive-post-title" href="/2024/08/14/Nginx-Example/">Nginx案例</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/13</span>
            <a class="archive-post-title" href="/2024/08/13/Linux-logrotate/">logrotate服务</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/13</span>
            <a class="archive-post-title" href="/2024/08/13/Mailx/">使用mailx发送到企业邮箱</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/11</span>
            <a class="archive-post-title" href="/2024/08/11/Rsync/">Rsync数据备份工具</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">08/09</span>
            <a class="archive-post-title" href="/2024/08/09/Linux-Firewall/">Linux系统Firewalld使用</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/26</span>
            <a class="archive-post-title" href="/2024/07/26/MySQL-Backup/">Mysql备份</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/26</span>
            <a class="archive-post-title" href="/2024/07/26/MySQL-Federate/">Mysql-Federate远程链接数据库</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/24</span>
            <a class="archive-post-title" href="/2024/07/24/MySQL-Audit/">mysql安全审计之Mcafee Mysql-Audit</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/22</span>
            <a class="archive-post-title" href="/2024/07/22/MySQL-Auth/">Mysql用户权限与密码管理、角色管理</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/22</span>
            <a class="archive-post-title" href="/2024/07/22/MySQL-Install/">Mysql-Linux环境部署</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/18</span>
            <a class="archive-post-title" href="/2024/07/18/MySQL-InnoDB/">Mysql-InnoDB存储引擎、InnoDB事务</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">07/15</span>
            <a class="archive-post-title" href="/2024/07/15/Shell/">Shell零碎知识</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/28</span>
            <a class="archive-post-title" href="/2024/06/28/Linux-Iptables/">Iptables使用</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/28</span>
            <a class="archive-post-title" href="/2024/06/28/Linux-Tune/">Linux环境初始化</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/28</span>
            <a class="archive-post-title" href="/2024/06/28/Linux-based/">Linux零碎常识</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/28</span>
            <a class="archive-post-title" href="/2024/06/28/Linux-error/">Linux常见报错记录</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/28</span>
            <a class="archive-post-title" href="/2024/06/28/Nginx/">Nginx详解</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/23</span>
            <a class="archive-post-title" href="/2024/06/23/Virtualization/">虚拟化基础知识</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/18</span>
            <a class="archive-post-title" href="/2024/06/18/Docker-compose/">Docker-compose部署lnmp</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/18</span>
            <a class="archive-post-title" href="/2024/06/18/Ephemeralcontainers/">临时容器ephemeralcontainers</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/13</span>
            <a class="archive-post-title" href="/2024/06/13/Kuboard/">k8s可视化UI界面Kuboard</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/13</span>
            <a class="archive-post-title" href="/2024/06/13/Mongo-k8s/">k8s部署MongoDB主从集群</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/12</span>
            <a class="archive-post-title" href="/2024/06/12/K8s-redis-cluster/">k8s部署Redis高可用集群</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/04</span>
            <a class="archive-post-title" href="/2024/06/04/Playbook/">Playbook实战案例</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/04</span>
            <a class="archive-post-title" href="/2024/06/04/Rook/">Rook部署ceph</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/02</span>
            <a class="archive-post-title" href="/2024/06/02/EFK/">EFK日志处理平台-2</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/01</span>
            <a class="archive-post-title" href="/2024/06/01/K8s-Autoscaler/">k8s自动扩缩容HPA VPA KPA</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/01</span>
            <a class="archive-post-title" href="/2024/06/01/Python-k8s/">Python代码封装至k8s中运行</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">06/01</span>
            <a class="archive-post-title" href="/2024/06/01/SpringCloud-k8s/">将SpringCloud项目迁移至k8s</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/17</span>
            <a class="archive-post-title" href="/2024/05/17/EFK-k8s/">EFK日志处理平台</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span>
            <a class="archive-post-title" href="/2024/05/15/Linux-Single-Monitor/">Linux单机监控</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/14</span>
            <a class="archive-post-title" href="/2024/05/14/Docker/">Docker管理</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/2024/05/06/tmux/">linux screen与tmux</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/2024/05/06/DevOps/">DevOps工具链</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/2024/05/06/Helm/">Helm</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/2024/05/06/Istio/">Istio微服务网格</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/2024/05/06/Prometheus/">Prometheus普罗米修斯</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span>
            <a class="archive-post-title" href="/2024/05/06/Rancher/">k8s可视化UI界面Rancher</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/2024/05/01/Gitlab/">Gitlab</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/2024/05/01/Ceph-K8s/">ceph对接k8s</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/2024/05/01/Git/">Git代码管理工具</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/2024/05/01/Go-k8s/">go代码封装到k8s中运行</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/01</span>
            <a class="archive-post-title" href="/2024/05/01/VMware-I2I/">VMware I2I迁移至PVE 小记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/26</span>
            <a class="archive-post-title" href="/2024/04/26/ESXi/">ESXi物理机安装踩坑汇总</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/26</span>
            <a class="archive-post-title" href="/2024/04/26/Ansible/">Ansible笔记集合</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">04/23</span>
            <a class="archive-post-title" href="/2024/04/23/root-extend/">根分区扩容小记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/16</span>
            <a class="archive-post-title" href="/2024/03/16/Ceph/">CEPH分布式存储</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/27</span>
            <a class="archive-post-title" href="/2024/02/27/Harbor/">本地部署harbor私有镜像仓库</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/27</span>
            <a class="archive-post-title" href="/2024/02/27/K8s/">k8s基础知识</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/06</span>
            <a class="archive-post-title" href="/2024/02/06/Python/">Python学习笔记</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/06</span>
            <a class="archive-post-title" href="/2024/02/06/PVE/">虚拟化系统PVE物理机快速安装指南</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">02/02</span>
            <a class="archive-post-title" href="/2024/02/02/Hexo/">使用1panel搭建Hexo博客</a>
        </li>
    
        
            
            
                
                </ul>
            
            <div class="archive-year"> 2023 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/24</span>
            <a class="archive-post-title" href="/2023/12/24/PXE/">PXE安装</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">12/14</span>
            <a class="archive-post-title" href="/2023/12/14/Nginx+keepalived/">Nginx+keepalived</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">11/12</span>
            <a class="archive-post-title" href="/2023/11/12/DEBD/">DRBD单活分布式存储</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">10/27</span>
            <a class="archive-post-title" href="/2023/10/27/Linux-Raid/">基于mdadm创建与管理软raid</a>
        </li>
    
    </div>
</div>

        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
        
            <span class="sidebar-tag-name" data-tags="Linux">
                <span class="iconfont-archer">&#xe606;</span>
                Linux
            </span>
        
            <span class="sidebar-tag-name" data-tags="云原生">
                <span class="iconfont-archer">&#xe606;</span>
                云原生
            </span>
        
            <span class="sidebar-tag-name" data-tags="云计算">
                <span class="iconfont-archer">&#xe606;</span>
                云计算
            </span>
        
            <span class="sidebar-tag-name" data-tags="开发">
                <span class="iconfont-archer">&#xe606;</span>
                开发
            </span>
        
            <span class="sidebar-tag-name" data-tags="mysql">
                <span class="iconfont-archer">&#xe606;</span>
                mysql
            </span>
        
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
        缺失模块，请参考主题文档进行安装配置：https://github.com/fi3ework/hexo-theme-archer#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98
    </div> 
    <div class="sidebar-tags-list"></div>
</div>

        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>

    </div>
</div>

        <!-- site-meta -->
        <script>
    var siteMetaRoot = "/"
    if (siteMetaRoot === "undefined") {
        siteMetaRoot = '/'
    }
    var siteMeta = {
        url: "https://akemi.zj.cn",
        root: siteMetaRoot,
        author: "王盛"
    }
</script>

        <!-- import experimental options here -->
        <!-- Custom Font -->


        <!-- main func -->
        <script src="/scripts/main.js?v=20211217"></script>
        <!-- dark mode -->
        <script src="/scripts/dark.js?v=20211217"></script>
        <!-- fancybox -->
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" defer></script>
        <!-- algolia -->
        
        <!-- busuanzi -->
        
            <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
        
        <!-- CNZZ -->
        
        <!-- async load share.js -->
        
            <script src="/scripts/share.js?v=20211217" async></script>
        
        <!-- mermaid -->
        
    </body>
</html>
